window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({ActivityData:[function(t,e,o){"use strict";cc._RF.push(e,"c9553B3BYRI8bq/uwyg3jXF","ActivityData"),Object.defineProperty(o,"__esModule",{value:!0}),o.ActivityData=void 0;o.ActivityData=function(){this.rules="",this.pic_url="",this.title="",this.start_time=0,this.end_time=0,this.templet_set=null},cc._RF.pop()},{}],Anim_goal:[function(t,e,o){"use strict";cc._RF.push(e,"080e1/ATaVJDr9S9DwYQkga","Anim_goal");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../core/app"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBg=null,e.nodeScore=null,e}return i(e,t),e.prototype.play=function(){return c(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.node.active=!0,cc.Tween.stopAllByTarget(this.nodeBg),cc.Tween.stopAllByTarget(this.nodeScore),cc.tween(this.nodeBg).set({opacity:0}).to(.25,{opacity:255}).to(.5,{opacity:0}).start(),cc.tween(this.nodeScore).set({opacity:0,scale:1.5,y:0}).to(.25,{opacity:255,scale:1}).to(.5,{opacity:0,y:25}).start(),[4,s.default.promise.sleep(.75)];case 1:return t.sent(),this.node.active=!1,[2]}})})},r([p(cc.Node)],e.prototype,"nodeBg",void 0),r([p(cc.Node)],e.prototype,"nodeScore",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../core/app":"app"}],AutoZIndex:[function(t,e,o){"use strict";cc._RF.push(e,"f083aX+gu9G+oxBKME9XSlp","AutoZIndex");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arr_child=[],e}return i(e,t),e.prototype.onLoad=function(){this.arr_child=this.node.children},e.prototype.lateUpdate=function(){this.arr_child.sort(this.sortBy);for(var t=0;t<this.arr_child.length;t++)this.arr_child[t].zIndex=t},e.prototype.sortBy=function(t,e){return t.y-e.y>0?-1:1},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],BaseListItem:[function(t,e,o){"use strict";cc._RF.push(e,"e026cMqUQ5ItomYLR7I6Ioo","BaseListItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.data=null,e.index=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.updateItem=function(){console.error("\u6ca1\u6709\u5b9e\u73b0updateItem\u65b9\u6cd5")},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],BaseListView:[function(t,e,o){"use strict";cc._RF.push(e,"91e14L8hpVPYoB1RDM8+7ua","BaseListView");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./BaseView"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrData=null,e.listV=null,e}return i(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.updateUI=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.onListRender=function(){},r([s],e)}(c.default));o.default=l,cc._RF.pop()},{"./BaseView":"BaseView"}],BaseUrl:[function(t,e,o){"use strict";cc._RF.push(e,"7162c1JMFpFqaY8+2ltl2yO","BaseUrl");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.requestClass=void 0;var c=t("../app"),a=t("../gameEnum");o.requestClass=function(t){var e=cc._RF.peek().script;cc.js.setClassName(e,t)};var s=function(){function t(){this.success_callback=null,this.fail_callback=null,this._urlData=null,this.url=""}return t.instance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=this;return o._instance||(o._instance=new(o.bind.apply(o,r([void 0],t)))),o._instance},t.prototype.send=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},t.prototype.post=function(t){return n(this,void 0,void 0,function(){var e,o,n=this;return i(this,function(i){switch(i.label){case 0:return this._urlData=t,e=null,o=setTimeout(function(){console.log("\u5b9a\u65f6\u5668"),c.default.eventObj.showWait()},500),[4,c.default.http.asyncPost(this.url,t).then(function(t){e=n.autoData(t.resp,!0)}).catch(function(t){e=n.autoData(t,!1)})];case 1:return i.sent(),clearTimeout(o),c.default.eventObj.hideWait(),e.status?this.success(e.data,e.obj):this.fail(e.data,e.msg),[2]}})})},t.prototype.autoData=function(t,e){void 0===e&&(e=!0);var o={status:!1,data:null,obj:null,msg:null};return 1==e?(o.status=!0,o.data=t,o.obj=t.data,"success"==t.status?(o.status=!0,o.data=t,o.obj=t.data):(o.status=!1,o.data=t,o.msg=t.message)):(o.status=!1,o.data=t,o.msg=t.message),o},t.prototype.autoResponse=function(t){var e=this.autoData(t,!0);e.status?this.success(e.data,e.obj):this.fail(e.data,e.msg)},t.prototype.get=function(t){return n(this,void 0,void 0,function(){var e,o,n=this;return i(this,function(i){switch(i.label){case 0:return this._urlData=t,e=null,o=setTimeout(function(){c.default.eventObj.showWait()},500),t&&0!=Object.keys(t).length&&(console.warn(t),-1==this.url.indexOf("?")&&(this.url+="?"),this.url+=c.default.common.paramObjToString(t)),[4,c.default.http.asyncGet(this.url).then(function(t){e=n.autoData(t.resp,!0)}).catch(function(t){e=n.autoData(t,!1)})];case 1:return i.sent(),clearTimeout(o),c.default.eventObj.hideWait(),e.status?this.success(e.data,e.obj):this.fail(e.data,e.msg),[2]}})})},t.prototype.success=function(t,e){void 0===e&&(e=null),this.url.indexOf("api/index/ping")>=0||(console.log(this.url),console.log("[BASEURL-LOG]",t)),this.success_callback&&(this.success_callback(e),this.success_callback=null)},t.prototype.fail=function(t){console.warn(this.url),console.warn("[BASEURL-ERROR]",t);var e=t.code;switch(e){case 1401:break;case 2007:c.default.eventObj.openView(a.default.view.MsgView,a.default.layer.WINDOW_LAYER,t.message);break;default:if(e>=1e4&&e<2e4){c.default.eventObj.openView(a.default.view.AlertView,a.default.layer.WINDOW_LAYER,t.message);break}console.warn("\u672a\u77e5\u9519\u8bef["+e+"]",t)}},t}();o.default=s,cc._RF.pop()},{"../app":"app","../gameEnum":"gameEnum"}],BaseView:[function(t,e,o){"use strict";cc._RF.push(e,"fc5ab2c8NVKNJkZlabKk1Cn","BaseView");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../app"),a=t("../gameEnum"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.view_name=a.default.view.NODE,e.arr_btn=[],e.arr_event=[],e.effectType=a.default.viewEffect.NORMAL,e.btnBack=null,e.c_startTime=0,e.c_endTime=0,e.url="",e.rurl="",e.clicktime=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.closeView=function(){c.default.uiMgr.hide(this.view_name)},e.prototype.showView=function(t){void 0===t&&(t=a.default.layer.WINDOW_LAYER);for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];c.default.event.emit(c.default.eName.OPEN_VIEW,this.view_name,t,e)},e.prototype.show=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.view_name=e[0],console.log(this.view_name," is show"),this.showEffect(),this.arr_btn.forEach(function(e){e.on(cc.Node.EventType.TOUCH_END,t.click,t)});var n=this.node.getChildByName("btn_back");n&&n.on(cc.Node.EventType.TOUCH_END,this._click,this);var i=this.node.getChildByName("btn_null");i&&i.on(cc.Node.EventType.TOUCH_END,this._click,this),this.btnBack&&this.btnBack.on(cc.Node.EventType.TOUCH_END,this._click,this),this.arr_event.forEach(function(e){c.default.event.on(e.name,e.func,e.target?e.target:t)}),this.c_startTime=c.default.date.getTime()},e.prototype.hide=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn.forEach(function(e){e.off(cc.Node.EventType.TOUCH_END,t.click,t)}),c.default.event.offAll(this);var n=this.node.getChildByName("btn_back");n&&n.off(cc.Node.EventType.TOUCH_END,this._click,this);var i=this.node.getChildByName("btn_null");i&&i.off(cc.Node.EventType.TOUCH_END,this._click,this),this.btnBack&&this.btnBack.off(cc.Node.EventType.TOUCH_END,this._click,this),this.c_endTime=c.default.date.getTime()},e.prototype.off=function(){var t=this;this.arr_btn.forEach(function(e){e.off(cc.Node.EventType.TOUCH_END,t.click,t)}),c.default.event.offAll(this)},e.prototype.click=function(){},e.prototype._click=function(t){var e=this.node.getChildByName("btn_back");switch(this.node.getChildByName("btn_null"),t.currentTarget){case this.btnBack:this.closeView();break;case e:c.default.uiMgr.hide(this.view_name)}},e.prototype.hideEffect=function(t){switch(console.log("hideEffect",this.view_name),this.effectType){case a.default.viewEffect.BG_SCALE:if(!(e=this.node.getChildByName("view")))return void t();e.scale=1,e.opacity=255,cc.tween(e).to(.1,{scale:1.3,opacity:0},{easing:cc.easing.smooth}).call(function(){e.scale=1,e.opacity=255,t()}).start();break;case a.default.viewEffect.WIDGET_BUTTOM_SHOW:if(!(e=this.node.getChildByName("view")))return void t();if(!(o=e.getComponent(cc.Widget)))return void t();o.bottom=0,cc.tween(o).to(.1,{bottom:-500},{easing:cc.easing.smooth}).call(function(){o.bottom=0,t()}).start();break;case a.default.viewEffect.WIDGET_LEFT_SHOW:var e,o;if(!(e=this.node.getChildByName("view")))return void t();if(!(o=e.getComponent(cc.Widget)))return void t();o.left=0,cc.tween(o).to(.1,{left:-500},{easing:cc.easing.smooth}).call(function(){o.left=0,t()}).start();break;default:t()}},e.prototype.showEffect=function(){switch(this.effectType){case a.default.viewEffect.BG_SCALE:if(!(e=this.node.getChildByName("view")))return;e.scale=1.5,cc.tween(e).to(.2,{scale:1},{easing:cc.easing.expoOut}).start();break;case a.default.viewEffect.BG_SCALE1:if(!(e=this.node.getChildByName("view")))return;e.scale=.7,cc.tween(e).to(.1,{scale:1}).start();break;case a.default.viewEffect.WIDGET_BUTTOM_SHOW:if(!(e=this.node.getChildByName("view")))return;if(!(t=e.getComponent(cc.Widget)))return;t.bottom=-500,cc.tween(t).to(1.6,{bottom:0},{easing:cc.easing.quintOut}).start();break;case a.default.viewEffect.WIDGET_LEFT_SHOW:var t;if(!(e=this.node.getChildByName("view")))return;if(!(t=e.getComponent(cc.Widget)))return;t.left=-500,cc.tween(t).to(.1,{left:0},{easing:cc.easing.quadOut}).start();break;case a.default.viewEffect.FADE_OUT:var e;if(!(e=this.node.getChildByName("view")))return;e.opacity=0,e.active=!0,e.stopAllActions(),e.runAction(cc.fadeIn(.15));break;case a.default.viewEffect.NORMAL:default:this.node.scale=1}},r([u({type:cc.Enum(a.default.viewEffect),displayName:"\u5f39\u51fa\u6548\u679c",tooltip:"NORMAL:\u7f29\u5c0f\u653e\u5927\u7279\u6548;BUTTON_SHOW:\u4ece\u4e0b\u65b9\u5f39\u51fa"})],e.prototype,"effectType",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../app":"app","../gameEnum":"gameEnum"}],BigNum:[function(t,e,o){"use strict";cc._RF.push(e,"a537fC0GUdMBrM8grKRlFZP","BigNum"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e){this.rs=[],this.obj=new BigNumber(t,e);for(var o=this.obj.toFixed(),n=[],i=Math.ceil(o.length/3),r=0;r<i;r++){var c=o.length,a=Math.max(c-3*r-3,0),s=o.slice(a,c-3*r);n.push(s)}this.rs=n}return Object.defineProperty(t.prototype,"number",{get:function(){for(var t=this.obj.toFixed(),e=[],o=Math.ceil(t.length/3),n=0;n<o;n++){var i=t.length,r=Math.max(i-3*n-3,0),c=t.slice(r,i-3*n);e.push(c)}return this.rs=e,1==this.rs.length?this.rs[0]:(100*Number(this.rs[this.rs.length-1])+Math.floor(Number(this.rs[this.rs.length-2])/10))/100+"k,m,b,t,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an".split(",")[this.rs.length-2]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bignumber",{get:function(){return this.obj.toFixed()},enumerable:!1,configurable:!0}),t.prototype.int=function(){var t=this.obj.toFixed().split(".")[0];this.obj=new BigNumber(t)},t.prototype.add=function(t,e){void 0===e&&(e=!1);var o=this.obj.plus(t.obj);if(1==e)this.obj=new BigNumber(o.toFixed());else{var n=o.toFixed().split(".")[0];this.obj=new BigNumber(n)}return this},t.prototype.unadd=function(t){return this.obj=this.obj.minus(t.obj),this},t.prototype.mcl=function(t,e){void 0===e&&(e=!1);var o=this.obj.multipliedBy(t.obj);if(1==e)this.obj=new BigNumber(o.toFixed());else{var n=o.toFixed().split(".")[0];this.obj=new BigNumber(n)}return this},t.prototype.divide=function(t,e){void 0===e&&(e=!1);var o=this.obj.div(t.obj);if(1==e)this.obj=new BigNumber(o.toFixed());else{var n=o.toFixed().split(".")[0];this.obj=new BigNumber(n)}return this},t.prototype.isBig=function(t){return 1==this.obj.minus(t.obj).s},t}();o.default=n,cc._RF.pop()},{}],Common:[function(t,e,o){"use strict";cc._RF.push(e,"275792852hNKbwhhjueqr2D","Common"),Object.defineProperty(o,"__esModule",{value:!0}),o.Common=void 0;var n=function(){function t(){}return t.gameStart=function(t){void 0===t&&(t=!1)},t.gameStartComplete=function(t){void 0===t&&(t=!1)},t.initCollisionSys=function(){this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0},t.clickWaitTime=500,t.collisionManager=null,t}();o.Common=n,cc._RF.pop()},{}],Config:[function(t,e,o){"use strict";cc._RF.push(e,"84fa6InD0lKi66+UjpsYQeW","Config"),Object.defineProperty(o,"__esModule",{value:!0}),o.Config=void 0;var n=t("./ActivityData"),i=t("./SysData"),r=function(){function t(){}return Object.defineProperty(t,"config",{get:function(){var t={pid:"",sn:""},e=window.dmspConf;return e&&(t={pid:"/"+e.pid,sn:"/"+e.sn}),t},enumerable:!1,configurable:!0}),t.randHitRate=100,t.isShowMid=!1,t.isShowEffect=!1,t.clickWaitTime=500,t.throw_basketball_time=60,t.throw_basketball_num=10,t.shoot_of_num=5,t.ballStartScale=70,t.ballEndScale=40,t.data=new n.ActivityData,t.sys=new i.SysData,t}();o.Config=r,cc._RF.pop()},{"./ActivityData":"ActivityData","./SysData":"SysData"}],Data:[function(t,e,o){"use strict";cc._RF.push(e,"a972f1zdTlL4pvfn9UNVzMO","Data"),Object.defineProperty(o,"__esModule",{value:!0}),o.Data=void 0;var n=t("./Config"),i=t("./User"),r=function(){function t(){}return t.init=function(){this.time=n.Config.throw_basketball_time,this.count=n.Config.throw_basketball_num,this.use_count=0,this.isBegin=!1,this.isEnd=!1,this.score=0},t.updateData=function(){},t.param=null,t.time=0,t.user_time=0,t.count=0,t.use_count=0,t.dunk_ident="",t.game_begin_time=0,t.score=0,t.isBegin=!1,t.isEnd=!1,t.gameStartTime=0,t.user=new i.User,t}();o.Data=r,cc._RF.pop()},{"./Config":"Config","./User":"User"}],DebugConfigItem:[function(t,e,o){"use strict";cc._RF.push(e,"f280bh/+yZPrrVAa6Ir9PQP","DebugConfigItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../core/base/BaseListItem"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab=null,e.btnAdd=null,e.btnSub=null,e.add=null,e.sub=null,e.show=null,e.name=null,e}return i(e,t),e.prototype.start=function(){this.btnAdd.on(cc.Node.EventType.TOUCH_END,this.click,this),this.btnSub.on(cc.Node.EventType.TOUCH_END,this.click,this)},e.prototype.click=function(t){switch(t.target){case this.btnAdd:this.add&&this.add();break;case this.btnSub:this.sub&&this.sub()}},e.prototype.update=function(){this.lab.string=this.name+":"+this.show()},e.prototype.updateItem=function(){this.add=this.data.add,this.sub=this.data.sub,this.show=this.data.show,this.name=this.data.name},r([l(cc.Label)],e.prototype,"lab",void 0),r([l(cc.Node)],e.prototype,"btnAdd",void 0),r([l(cc.Node)],e.prototype,"btnSub",void 0),r([s],e)}(c.default);o.default=u,cc._RF.pop()},{"../core/base/BaseListItem":"BaseListItem"}],DebugItem:[function(t,e,o){"use strict";cc._RF.push(e,"9451d4eTgpH1pW6hZIt43mz","DebugItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../core/base/BaseListItem"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab=null,e.cb=null,e}return i(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.click,this)},e.prototype.click=function(){this.cb&&this.cb()},e.prototype.updateItem=function(){this.lab.string=this.data.name,this.cb=this.data.cb},r([l(cc.Label)],e.prototype,"lab",void 0),r([s],e)}(c.default);o.default=u,cc._RF.pop()},{"../core/base/BaseListItem":"BaseListItem"}],DebugView:[function(t,e,o){"use strict";cc._RF.push(e,"31665KHZ0JB67zqmFUp6RkY","DebugView");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../core/app"),a=t("../core/base/BaseListView"),s=t("../core/ui/List"),l=t("../data/Config"),u=t("../data/Data"),p=t("./DebugConfigItem"),d=t("./DebugItem"),h=t("./GM"),f=cc._decorator,_=f.ccclass,y=f.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listV=null,e.listConfig=null,e.arrConfigData=null,e}return i(e,t),e.prototype.start=function(){window.debug=this},e.prototype.show=function(){for(var e=this,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];this.arr_btn=[],t.prototype.show.apply(this,o),this.arrData=[{name:"\u590d\u5236\u914d\u7f6e",cb:function(){var t=[];e.arrConfigData.forEach(function(e){t.push({k:e.variable,v:e.show()})}),c.default.common.copyToClipBoard(JSON.stringify(t)),c.default.eventObj.toast("\u6210\u529f\u590d\u5236\u5230\u526a\u8d34\u677f")}},{name:"\u589e\u52a0\u6295\u7bee\u6b21\u6570",cb:function(){u.Data.user.countToday++}},{name:"\u589e\u52a0\u62bd\u5956\u6b21\u6570",cb:function(){u.Data.user.remain_num++}},{name:"\u5fc5\u4e2d----\u5f00",cb:function(){h.default.mustIn=!0}},{name:"\u5fc5\u4e2d----\u5173",cb:function(){h.default.mustIn=!1}}],console.log(this.arrData.length),this.listV.numItems=this.arrData.length,this.arrConfigData=[{variable:"Config.ballStartScale",name:"\u7403 \u521d\u59cb\u5927\u5c0f",add:function(){l.Config.ballStartScale=l.Config.ballStartScale+1},sub:function(){l.Config.ballStartScale=l.Config.ballStartScale-1},show:function(){return l.Config.ballStartScale}},{variable:"Config.ballEndScale",name:"\u7403 \u7ed3\u675f\u5927\u5c0f",add:function(){l.Config.ballEndScale=l.Config.ballEndScale+1},sub:function(){l.Config.ballEndScale=l.Config.ballEndScale-1},show:function(){return l.Config.ballEndScale}}],this.listConfig.numItems=this.arrConfigData.length},e.prototype.hide=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.prototype.hide.apply(this,e)},e.prototype.onListRender=function(t,e){var o=this.arrData[e],n=t.getComponent(d.default);n.data=o,n.index=e,n.updateItem()},e.prototype.onListRender1=function(t,e){var o=this.arrConfigData[e],n=t.getComponent(p.default);n.data=o,n.index=e,n.updateItem()},e.event_updateSeed="debugView_Seed",r([y(s.default)],e.prototype,"listV",void 0),r([y(s.default)],e.prototype,"listConfig",void 0),r([_],e)}(a.default);o.default=m,cc._RF.pop()},{"../core/app":"app","../core/base/BaseListView":"BaseListView","../core/ui/List":"List","../data/Config":"Config","../data/Data":"Data","./DebugConfigItem":"DebugConfigItem","./DebugItem":"DebugItem","./GM":"GM"}],GM:[function(t,e,o){"use strict";cc._RF.push(e,"a33eb/UIrdNsqcQx3vcJwuQ","GM");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../core/app"),a=t("../core/gameEnum"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.click_time=0,e.GM_p=cc.v2(0,0),e.startP=cc.v2(0,0),e}return i(e,t),e.prototype.onLoad=function(){c.default.url.searchParam.xxdebug||(this.node.active=!1),this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),window.GM=this},e.prototype.show=function(){this.node.active=!0},e.prototype.touchStart=function(t){this.startP.x=t.getLocationX(),this.startP.y=t.getLocationY(),this.GM_p=this.node.getPosition(),this.click_time=(new Date).getTime()},e.prototype.touchMove=function(t){this.node.x=this.GM_p.x+(t.getLocationX()-this.startP.x),this.node.y=this.GM_p.y+(t.getLocationY()-this.startP.y)},e.prototype.touchEnd=function(){(new Date).getTime()-this.click_time<300&&c.default.eventObj.openView(a.default.view.DebugView)},e.prototype.setCookie=function(t){void 0===t&&(t="");var e={uid:"rBAKImQ2iF+pImtvNavdAg==",PHPSESSID:"5b3b8962bdccc2202833c3b93d5a5f9d","%E5%85%A8%E6%B0%91%E5%A8%83%E5%A8%83%E6%9C%BA%E6%8A%BD%E5%A5%96":!0,SERVERID:"5b8a652f4a6ec1895b61c3d28cd4296a|1681357644|1681357603"};for(var o in e)c.default.storage.setCookie(o,e[o],30,null,t)},e.mustIn=!1,r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../core/app":"app","../core/gameEnum":"gameEnum"}],HomeItem:[function(t,e,o){"use strict";cc._RF.push(e,"9d0ccFT/CVNbYuqAKZNaWxr","HomeItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../core/app"),a=t("../core/base/BaseListItem"),s=t("../data/Common"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblName=null,e.imgIcon=null,e.lblDesc=null,e.clicktime=0,e}return i(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.click,this)},e.prototype.click=function(){var t=(new Date).getTime();t-this.clicktime<s.Common.clickWaitTime||(this.clicktime=t,c.default.eventObj.openView(this.data.view))},e.prototype.updateItem=function(){var t=this,e=this.data;this.lblName.string=e.name,this.lblDesc.string=e.desc,c.default.promise.loadSpriteFrame("icon/"+this.data.id).then(function(e){t.imgIcon.spriteFrame=e})},r([p(cc.Label)],e.prototype,"lblName",void 0),r([p(cc.Sprite)],e.prototype,"imgIcon",void 0),r([p(cc.Label)],e.prototype,"lblDesc",void 0),r([u],e)}(a.default);o.default=d,cc._RF.pop()},{"../core/app":"app","../core/base/BaseListItem":"BaseListItem","../data/Common":"Common"}],HomeScene:[function(t,e,o){"use strict";cc._RF.push(e,"82cc41BPflMHYAcTzs0hIR2","HomeScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../core/app"),a=t("../core/base/BaseListView"),s=t("../core/gameEnum"),l=t("../core/ui/List"),u=t("./HomeItem"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listV=null,e}return i(e,t),e.prototype.start=function(){t.prototype.start.call(this),this.show(s.default.view.HomeScene,null)},e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.prototype.show.apply(this,e);var n=[{id:1,name:"\u7ffb\u7ffb\u4e50",desc:"\u70b9\u51fb\u724c\u80cc\u8fdb\u884c\u7ffb\u724c\uff0c\u7ffb\u5230\u4e24\u5f20\u4e00\u6837\u7684\u724c\u5373\u53ef\u6d88\u9664\uff0c\u6240\u6709\u5361\u724c\u6d88\u9664\u5b8c\u6bd5\u540e\u5b8c\u6210\u6311\u6218\u3002",view:s.default.view.ID01_View},{id:2,name:"\u53e3\u7ea2\u673a",desc:"\u5c06\u5e95\u90e8\u7684\u56fa\u5b9a\u9488\u5f80\u4e0a\u6ed1\u52a8\u5373\u53ef\u63d2\u5165\u6bdb\u7ebf\u7403\u4e0a\uff0c\u6ce8\u610f\u4e0d\u8981\u78b0\u5230\u5df2\u5728\u7403\u4e0a\u7684\u5176\u4ed6\u56fa\u5b9a\u9488\u3002",view:s.default.view.ID02_View},{id:3,name:"\u76d6\u623f\u5b50",desc:"\u642d\u5efa\u623f\u5b50\uff0c\u5efa\u7684\u623f\u5c4b\u5c42\u6570\u8d8a\u9ad8\u8d8a\u9ad8\u5206\u3002\u5143\u7d20\u4e0d\u65ad\u653e\u5927\u7f29\u5c0f\uff0c\u786e\u4fdd\u4e0a\u9762\u7684\u5143\u7d20\u6bd4\u4e0b\u9762\u7684\u5c0f",view:s.default.view.ID03_View},{id:4,name:"\u6253\u5730\u9f20",desc:"\u628a\u5192\u51fa\u5934\u6765\u7684\u5730\u9f20\u7ed9\u5168\u90e8\u6253\u4e0b\u53bb\u3002",view:s.default.view.ID04_View},{id:5,name:"\u53e0\u53e0\u4e50",desc:"\u5728\u5408\u9002\u7684\u65f6\u673a\u8df3\u8d77\uff0c\u907f\u514d\u88ab\u649e\u98de",view:s.default.view.ID05_View},{id:6,name:"\u4e07\u5723\u8282\u4e4b\u591c \u653e\u80c6\u524d\u884c",desc:"\u70b9\u51fb\u5c4f\u5e55\u63a7\u5236\u5973\u5deb\u5de6\u53f3\u6ed1\u52a8\uff0c\u5403\u5230\u7cd6\u679c\u5373\u53ef\u52a0\u5206\u3002\u6ce8\u610f\u8eb2\u5f00\u5e7d\u7075\u3002",view:s.default.view.ID06_View},{id:7,name:"\u63a5\u529b\u9f99\u821f\u8d5b",desc:"\u70b9\u51fb\u5c4f\u5e55\u6ed1\u52a8\u9f99\u821f\uff0c\u4e89\u53d6\u62ff\u4e2a\u597d\u5206\u6570\uff01",view:s.default.view.ID07_View},{id:8,name:"\u8df3\u4e0a\u9f99\u821f",desc:"\u8ba9\u89d2\u8272\u5de6\u53f3\u79fb\u52a8\uff0c\u8df3\u7684\u66f4\u9ad8\u5427~",view:s.default.view.ID08_View},{id:9,name:"\u75af\u72c2\u6491\u6746",desc:"\u75af\u72c2\u6491\u6746\u9700\u8981\u5408\u7406\u64cd\u4f5c\uff0c\u89e6\u6478\u5c4f\u5e55\u63a7\u5236\u68cd\u5b50\u957f\u5ea6\u3002\u8ba9\u5c0f\u7070\u7070\u83b7\u5f97\u66f4\u9ad8\u7684\u79ef\u5206\uff0c\u4e0d\u8981\u6389\u5230\u6c9f\u91cc\u53bb\u5566\u3002",view:s.default.view.ID09_View},{id:10,name:"\u522b\u60f9\u7cbd\u5b50",desc:"1\u3001\u70b9\u51fb\u5c4f\u5e55\u63a7\u5236\u5927\u5634\u5f39\u8df3\uff1b2\u3001\u907f\u5f00\u5468\u56f4\u7cbd\u5b50\uff1b3\u3001\u8eb2\u907f\u6b21\u6570\u8d8a\u591a\u6392\u540d\u8d8a\u9ad8\u3002",view:s.default.view.ID10_View},{id:11,name:"\u50cf\u7d20\u9e1f",desc:"\u70b9\u51fb\u89e6\u6478\u5c4f\u5e55\uff0c\u5c0f\u9e1f\u5c31\u4f1a\u5f80\u4e0a\u98de\uff0c\u4e0d\u65ad\u7684\u70b9\u51fb\u5c31\u4f1a\u4e0d\u65ad\u7684\u5f80\u9ad8\u5904\u98de\u3002\u653e\u677e\u624b\u6307\uff0c\u5219\u4f1a\u5feb\u901f\u4e0b\u964d\u3002\u6240\u4ee5\u73a9\u5bb6\u8981\u63a7\u5236\u5c0f\u9e1f\u4e00\u76f4\u5411\u524d\u98de\u884c\uff0c\u7136\u540e\u6ce8\u610f\u8eb2\u907f\u9014\u4e2d\u9ad8\u4f4e\u4e0d\u5e73\u7684\u7ba1\u5b50\u3002",view:s.default.view.ID11_View},{id:12,name:"\u63a5\u6c64\u5706",desc:"\u5c0f\u5973\u5b69\u63a5\u6c64\u5706\uff0c\u79fb\u52a8\u5c0f\u5973\u5b69\uff0c\u63a5\u4f4f\u5929\u4e0a\u6389\u4e0b\u6765\u7684\u6c64\u5706\uff0c\u63a5\u5230\u8d8a\u591a\u5206\u6570\u8d8a\u9ad8\uff0c\u5c0f\u5fc3\u907f\u5f00\u6050\u6016\u7684\u97ad\u70ae\u54e6\u3002",view:s.default.view.ID12_View},{id:13,name:"\u627e\u832c",desc:"\u627e\u832c\u662f\u4e00\u6b3e\u76ca\u667a\u6e38\u620f\u3002\u7528\u6237\u9700\u8981\u627e\u51fa\u56fe\u7247\u4e2d\u7684\u4e0d\u540c\u5904\uff0c\u57f9\u517b\u7528\u6237\u7684\u89c2\u5bdf\u529b\u548c\u8010\u5fc3\uff0c\u63d0\u5347\u7528\u6237\u53cd\u5e94\u80fd\u529b\u3002",view:s.default.view.ID13_View},{id:14,name:"\u5e78\u8fd0\u5f39\u5f39\u5f39",desc:"\u5f00\u59cb\u6e38\u620f\u540e\uff0c\u9700\u8981\u957f\u6309\u6309\u94ae\u84c4\u529b\uff0c\u677e\u5f00\u6309\u94ae\u540e\uff0c\u5c0f\u7403\u5c06\u53d1\u5c04\uff0c\u6700\u540e\u843d\u5230\u4efb\u4e00\u5f39\u9053\u4e2d\uff0c\u5f97\u5230\u76f8\u5e94\u5956\u52b1\u3002",view:s.default.view.ID14_View},{id:15,name:"\u5c0f\u6050\u9f99\u4e0b100\u5c42",desc:"\u901a\u8fc7\u4e0d\u65ad\u70b9\u51fb\u5c4f\u5e55\u5de6\u53f3\u4e24\u4fa7\uff0c\u79fb\u52a8\u5c0f\u6050\u9f99\u5c3d\u5feb\u5f80\u4e0b\u8df3\uff0c\u5c3d\u53ef\u80fd\u8eb2\u907f\u969c\u788d\u7269\uff0c\u540c\u65f6\u5c3d\u53ef\u80fd\u8eb2\u907f\u9876\u90e8\u7684\u969c\u788d\u5899\u3002",view:s.default.view.ID15_View},{id:16,name:"\u661f\u661f\u70b9\u706f",desc:"\u661f\u661f\u4f1a\u4ece\u4e0b\u65b9\u5347\u8d77\uff0c\u70b9\u51fb\u661f\u661f\u8ba9\u5b83\u4eae\u8d77\uff0c\u5728\u65f6\u95f4\u9650\u5236\u5185\u770b\u8c01\u80fd\u70b9\u4eae\u6700\u591a\u7684\u661f\u661f\u3002",view:s.default.view.ID16_View},{id:17,name:"\u4e16\u754c\u676f\u8dd1\u9177",desc:"\u7ecf\u5178\u7684\u8dd1\u9177\u7c7b\u5c0f\u6e38\u620f\uff0c\u8ba9\u4f60\u7684\u4eba\u7269\u8fd0\u52a8\u8d77\u6765\uff0c\u8eb2\u5f00\u969c\u788d\u7269\uff0c\u62fe\u53d6\u91d1\u5e01\u3002",view:s.default.view.ID17_View},{id:18,name:"\u75af\u72c2\u8df3\u8df3\u8df3",desc:"\u70b9\u51fb\u5c4f\u5e55\u7684\u201c\u5de6\u8fb9\u201d\u6216\u201c\u53f3\u8fb9\u201d\uff0c\u4ee4\u5c0f\u602a\u517d\u8df3\u4e0a\u6700\u9ad8\u5cf0\u5427\u3002",view:s.default.view.ID18_View},{id:19,name:"\u5934\u8111\u5403\u9e21",desc:"\u53ea\u9700\u8981\u5224\u65ad\u5bf9\u9519\uff0c\u7136\u540e\u5bf9\u9519\u662f2\u4e2a\u9635\u8425\uff0c\u5c06\u81ea\u5df1\u7684\u4eba\u7269\u79fb\u52a8\u5230\u81ea\u5df1\u8ba4\u4e3a\u6b63\u786e\u7684\u9635\u8425\u5373\u53ef",view:s.default.view.ID19_View},{id:20,name:"\u8fde\u8fde\u770b",desc:"\u53ea\u8981\u5c06\u76f8\u540c\u7684\u4e24\u5f20\u724c\u7528\u4e09\u6839\u4ee5\u5185\u7684\u76f4\u7ebf\u8fde\u5728\u4e00\u8d77\u5c31\u53ef\u4ee5\u6d88\u9664\uff0c\u64cd\u4f5c\u65b9\u4fbf\uff0c\u7b80\u5355\u5bb9\u6613\u4e0a\u624b\u3002",view:s.default.view.ID20_View},{id:21,name:"\u6c34\u679c\u5207\u5207\u5207",desc:"\u6e38\u620f\u4e2d\u4f1a\u51fa\u73b0\u4e0d\u540c\u7c7b\u578b\u7684\u679c\u5b9e\uff0c\u73a9\u5bb6\u9700\u8981\u5728\u89c4\u5b9a\u65f6\u95f4\u5185\u5207\u5f00\u8fd9\u4e9b\u6c34\u679c\uff0c\u5e76\u83b7\u5f97\u6e38\u620f\u5206\u6570\u3002",view:s.default.view.ID21_View},{id:22,name:"\u5403\u8d27\u5927\u4f5c\u6218",desc:"\u5403\u8d27\u5927\u4f5c\u6218\u662f\u4e00\u6b3e\u8003\u9a8c\u53cd\u5e94\u548c\u624b\u901f\u7684\u5206\u6570\u7c7b\u5c0f\u6e38\u620f\uff0c\u70b9\u51fb\u5de6\u53f3\uff0c\u63a7\u5236\u5403\u8d27\u5de6\u53f3\u8df3\uff0c\u6bcf\u8df3\u4e00\u6b21\u4e3b\u89d2\u4f1a\u5411\u4e0b\u8d70\u4e00\u683c\uff0c\u5e76\u5403\u6389\u9047\u5230\u7684\u98df\u7269\u3002\u4f46\u662f\u8981\u5c0f\u5fc3\u8eb2\u5f00\u969c\u788d\u7269\u54e6\u3002",view:s.default.view.ID22_View},{id:23,name:"2048",desc:"\u6bcf\u6b21\u53ef\u4ee5\u9009\u62e9\u4e0a\u4e0b\u5de6\u53f3\u5176\u4e2d\u4e00\u4e2a\u65b9\u5411\u53bb\u6ed1\u52a8\uff0c\u6bcf\u6ed1\u52a8\u4e00\u6b21\uff0c\u6240\u6709\u7684\u6570\u5b57\u65b9\u5757\u90fd\u4f1a\u5f80\u6ed1\u52a8\u7684\u65b9\u5411\u9760\u62e2\u5916\uff0c\u7cfb\u7edf\u4e5f\u4f1a\u5728\u7a7a\u767d\u7684\u5730\u65b9\u4e71\u6570\u51fa\u73b0\u4e00\u4e2a\u6570\u5b57\u65b9\u5757\uff0c\u76f8\u540c\u6570\u5b57\u7684\u65b9\u5757\u5728\u9760\u62e2\u3001\u76f8\u649e\u65f6\u4f1a\u76f8\u52a0\u3002",view:s.default.view.ID23_View},{id:24,name:"\u6d88\u6d88\u4e50",desc:"\u6e38\u620f\u4e2d\u6d88\u9664\u7684\u5bf9\u8c61\u4e3a\u5b9d\u77f3\uff0c\u73a9\u5bb6\u901a\u8fc7\u79fb\u52a8\u5b9d\u77f3\u4f4d\u7f6e\u51d1\u591f3\u4e2a\u62163\u4e2a\u4ee5\u4e0a\u5373\u53ef\u6d88\u9664\u3002",view:s.default.view.ID24_View},{id:25,name:"\u5408\u6210\u98de\u673a",desc:"\u89e3\u9501\u6211\u4eec\u6240\u6709\u72ec\u7279\u7684\u5f69\u8272\u98de\u673a\uff0c\u6269\u5927\u4f60\u7684\u98de\u673a\u6536\u85cf\u3002\u8d5a\u53d6\u6700\u5927\u91d1\u5e01\u8d2d\u4e70\u98de\u673a\u8fdb\u884c\u5408\u6210\u3002\u5347\u7ea7\u4f60\u7684\u98de\u673a\uff0c\u62e5\u6709\u6211\u4eec\u6240\u6709\u5947\u5999\u7684\u5f69\u8272\u98de\u673a\u3002",view:s.default.view.ID25_View}];this.updateUI(n),window.app=c.default;var i=c.default.url.param,r=Number(i.gid),a=n.find(function(t){return t.id==r});a&&c.default.eventObj.openView(a.view)},e.prototype.updateUI=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.arrData=t[0],this.listV.numItems=this.arrData.length},e.prototype.onListRender=function(t,e){var o=this.arrData[e],n=t.getComponent(u.default);n.data=o,n.index=e,n.updateItem()},r([h(l.default)],e.prototype,"listV",void 0),r([d],e)}(a.default);o.default=f,cc._RF.pop()},{"../core/app":"app","../core/base/BaseListView":"BaseListView","../core/gameEnum":"gameEnum","../core/ui/List":"List","./HomeItem":"HomeItem"}],ID01_Card:[function(t,e,o){"use strict";cc._RF.push(e,"19c46Q7QMJAZ41kVaniaGSE","ID01_Card");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("./ID01_View"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgIcon=null,e.imgBg=null,e.arrIcon=[],e._index=0,e.isShow=!1,e.isClear=!1,e}return i(e,t),e.prototype.onLoad=function(){window.card=this},e.prototype.init=function(t){this._index=t,this.isShow=!1,this.isClear=!1},e.prototype.show=function(){var t=this;cc.Tween.stopAllByTarget(this.node),this.isShow=!0,cc.tween(this.node).to(.3,{scaleX:0},{easing:cc.easing.quintOut}).call(function(){t.imgIcon.spriteFrame=t.arrIcon[t._index]}).to(.3,{scaleX:1},{easing:cc.easing.quintOut}).start()},e.prototype.hide=function(){var t=this;cc.Tween.stopAllByTarget(this.node),this.isShow=!1,cc.tween(this.node).to(.3,{scaleX:0},{easing:cc.easing.quintOut}).call(function(){t.imgIcon.spriteFrame=t.imgBg}).to(.3,{scaleX:1},{easing:cc.easing.quintOut}).start()},e.prototype.clear=function(){cc.Tween.stopAllByTarget(this.node),this.isClear=!0,cc.tween(this.node).to(.3,{opacity:0}).start()},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.click,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.click,this)},e.prototype.click=function(){return c(this,void 0,void 0,function(){return a(this,function(){return 1==this.isShow||1==this.isClear?[2]:(this.show(),s.default.event.emit(l.default.event_card_click),[2])})})},r([d(cc.Sprite)],e.prototype,"imgIcon",void 0),r([d(cc.SpriteFrame)],e.prototype,"imgBg",void 0),r([d([cc.SpriteFrame])],e.prototype,"arrIcon",void 0),r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../core/app":"app","./ID01_View":"ID01_View"}],ID01_View:[function(t,e,o){"use strict";cc._RF.push(e,"29a29OdRARNzJnnZWCyHrMq","ID01_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=t("./ID01_Card"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRoot=null,e.pre_card=null,e.nodeEndTips=null,e.lblTime=null,e._count=0,e._t=60,e.isBegin=!1,e.isEnd=!1,e.arr_comp=[],e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.init(),this.show("ID01_VIEW",null)},e.prototype.show=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.arr_event=[{func:this.check,name:o.event_card_click}],t.prototype.show.apply(this,e)},e.prototype.init=function(){this.isBegin=!1,this.isEnd=!1,this._t=60,this._count=0,this.nodeEndTips.active=!1;var t=[0,1,2,3,4,5,0,1,2,3,4,5,0,1,0,1];this.arr_comp=[],this.nodeRoot.removeAllChildren();for(var e=0;e<16;e++){var o=s.default.pool.getNode(this.pre_card);o.setParent(this.nodeRoot);var n=o.getComponent(u.default);n.init(t[e]),this.arr_comp.push(n)}},e.prototype.check=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.isBegin=!0,this._count++,(t=this.arr_comp.filter(function(t){return 1==t.isShow&&0==t.isClear})).length<2?[2]:2!=t.length?[3,4]:t[0]._index!=t[1]._index?[3,2]:(t[0].isClear=!0,t[1].isClear=!0,[4,s.default.promise.sleep(1)]);case 1:return e.sent(),t[1].clear(),t[0].clear(),[3,4];case 2:return t[0].isShow=!1,t[1].isShow=!1,[4,s.default.promise.sleep(1)];case 3:e.sent(),t[1].hide(),t[0].hide(),e.label=4;case 4:return this.arr_comp.filter(function(t){return 0==t.isClear}).length<=0&&0==this.isEnd&&(this.nodeEndTips.active=!0,this.isEnd=!0,this.log()),[2]}})})},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5269\u4f59\u65f6\u95f4\uff1a",Math.floor(this._t)),console.log("\u64cd\u4f5c\u6b21\u6570\uff1a",this._count),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.update=function(t){0!=this.isBegin&&1!=this.isEnd&&(this._t-=t,this.lblTime.string="\u5269\u4f59\u65f6\u95f4\uff1a"+Math.floor(this._t)+"s")},e.event_card_click=Symbol(),r([h(cc.Node)],e.prototype,"nodeRoot",void 0),r([h(cc.Prefab)],e.prototype,"pre_card",void 0),r([h(cc.Node)],e.prototype,"nodeEndTips",void 0),r([h(cc.Label)],e.prototype,"lblTime",void 0),o=r([d],e)}(l.default);o.default=f,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","./ID01_Card":"ID01_Card"}],ID02_Item:[function(t,e,o){"use strict";cc._RF.push(e,"70a08DH+/hDLpj/Qtmg/8a+","ID02_Item");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.playGlintAnim=function(){cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).set({opacity:0}).delay(.1).set({opacity:255}).delay(.1).set({opacity:0}).delay(.1).set({opacity:255}).delay(.1).set({opacity:0}).delay(.1).set({opacity:255}).delay(.1).start()},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ID02_View:[function(t,e,o){"use strict";cc._RF.push(e,"946ceRxKudL+L/ieBXrceY9","ID02_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("./ID02_Item"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRoot=null,e.nodeAngle=null,e.nodeLayer=null,e.pre_item=null,e.btnNode=null,e.item=null,e.arr_angle=[],e._isRotation=!0,e.clicktime=0,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnNode],t.prototype.show.apply(this,e),this.init()},e.prototype.init=function(){this.arr_angle=[],this.newItem(),this._isRotation=!0},e.prototype.newItem=function(){var t=c.default.pool.getNode(this.pre_item);t.setParent(this.nodeLayer),t.y=-240,this.item=t},e.prototype.runItem=function(){var t=this;cc.tween(this.item).to(.1,{y:240}).call(function(){t.item.setParent(t.nodeRoot),t.item.x=0,t.item.y=0,t.item.angle=-1*t.nodeAngle.angle;var e=t.check(t.nodeAngle.angle);t.arr_angle.push(t.nodeAngle.angle),1==e&&(t._isRotation=!1,t.item.getComponent(s.default).playGlintAnim(),c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),t.log()),t.newItem()}).start()},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u64cd\u4f5c\u6b21\u6570\uff1a",this.nodeRoot.childrenCount-1),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.check=function(t){return!!this.arr_angle.find(function(e){return Math.abs(e-t)<9.5})},e.prototype.update=function(t){0!=this._isRotation&&(this.nodeAngle.angle=(this.nodeAngle.angle+200*t)%360)},e.prototype.click=function(t){console.log("aaaa");var e=(new Date).getTime();switch(this.clicktime=e,t.target){case this.btnNode:if(0==this._isRotation)return void c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f");this.runItem()}},r([p(cc.Node)],e.prototype,"nodeRoot",void 0),r([p(cc.Node)],e.prototype,"nodeAngle",void 0),r([p(cc.Node)],e.prototype,"nodeLayer",void 0),r([p(cc.Prefab)],e.prototype,"pre_item",void 0),r([p(cc.Node)],e.prototype,"btnNode",void 0),r([u],e)}(a.default);o.default=d,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","./ID02_Item":"ID02_Item"}],ID03_Item:[function(t,e,o){"use strict";cc._RF.push(e,"4c948Knw0BFF6Gv9e0TdkDZ","ID03_Item");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgIcon=null,e.arrIcon=[],e}return i(e,t),e.prototype.playGlintAnim=function(){cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).set({opacity:0}).delay(.1).set({opacity:255}).delay(.1).set({opacity:0}).delay(.1).set({opacity:255}).delay(.1).set({opacity:0}).delay(.1).set({opacity:255}).delay(.1).start()},e.prototype.start=function(){window.aa=this},e.prototype.init=function(){this.imgIcon.spriteFrame=c.default.rand.randomArray(this.arrIcon)},e.prototype.playScaleAnim=function(){cc.tween(this.imgIcon.node).repeatForever(cc.tween().to(1.1,{scale:.1}).to(1.1,{scale:1})).start()},e.prototype.stopAnim=function(){cc.Tween.stopAllByTarget(this.imgIcon.node)},Object.defineProperty(e.prototype,"height",{get:function(){return this.node.height*this.imgIcon.node.scaleY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.imgIcon.node.scaleY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.node.height-this.height>>1},enumerable:!1,configurable:!0}),r([l(cc.Sprite)],e.prototype,"imgIcon",void 0),r([l([cc.SpriteFrame])],e.prototype,"arrIcon",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID03_View:[function(t,e,o){"use strict";cc._RF.push(e,"725d7aWqJNPNJyeQceHJ142","ID03_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=t("../../data/Common"),p=t("./ID03_Item"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pre_item=null,e.nodeRoot=null,e.widget_node=null,e.btnNode=null,e._score=0,e.isEnd=!1,e._scale=1,e._y=293,e._comp=null,e.clicktime=0,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnNode],t.prototype.show.apply(this,e),this.init()},e.prototype.init=function(){this._score=0,this.isEnd=!1,this._scale=1,this._y=293,this.addItem()},e.prototype.addItem=function(){var t=s.default.pool.getNode(this.pre_item);t.setParent(this.node);var e=t.getComponent(p.default);e.init(),e.playScaleAnim(),this._comp=e},e.prototype.click=function(t){var e=(new Date).getTime();if(!(e-this.clicktime<u.Common.clickWaitTime))switch(this.clicktime=e,t.target){case this.btnNode:if(1==this.isEnd)return void s.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f");if(null==this._comp)return;this._comp.stopAnim();var o=this._comp.node.parent.convertToWorldSpaceAR(this._comp.node.position),n=this.nodeRoot.convertToNodeSpaceAR(o);this._comp.node.setParent(this.nodeRoot),this._comp.node.setPosition(n),this.playBuildingDownAnim()}},e.prototype.playBuildingDownAnim=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return cc.tween(this._comp.node).to(.5,{y:this._y-this._comp.bottom}).start(),this._y=this._y+this._comp.height,console.log(this._y-this.node.height/2,this._y),this.autoWidget(),t=this._comp,this._comp=null,[4,s.default.promise.sleep(.6)];case 1:return e.sent(),t.scale>this._scale?(t.playGlintAnim(),s.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.isEnd=!0,this.log(),[2]):(this._scale=t.scale,this._score++,this.addItem(),[2])}})})},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.autoWidget=function(){var t=this._y-this.node.height/2;t<=0||cc.tween(this.widget_node).to(.2,{bottom:-1*t}).start()},r([f(cc.Prefab)],e.prototype,"pre_item",void 0),r([f(cc.Node)],e.prototype,"nodeRoot",void 0),r([f(cc.Widget)],e.prototype,"widget_node",void 0),r([f(cc.Node)],e.prototype,"btnNode",void 0),r([h],e)}(l.default);o.default=_,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID03_Item":"ID03_Item"}],ID04_Item:[function(t,e,o){"use strict";cc._RF.push(e,"f30a7lqIQ9HPa3KBa+2fmg3","ID04_Item");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../data/Common"),u=t("./ID04_View"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgIcon=null,e.arrIcon=[],e.isShow=!1,e.isClick=!1,e.isHide=!1,e._t=.3,e.isClear=!1,e.clicktime=0,e}return i(e,t),e.prototype.start=function(){this.run()},e.prototype.run=function(){return c(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return 1==this.isClear?[2]:(this.isClick=!0,[4,s.default.promise.sleep(s.default.rand.limitInteger(100,500)/100)]);case 1:return t.sent(),this.show(),[2]}})})},e.prototype.show=function(){var t=this;1!=this.isClear&&(this.imgIcon.spriteFrame=this.arrIcon[0],this.isShow=!0,this.isHide=!1,this.isClick=!1,this._t=s.default.rand.limitInteger(30,70)/100,cc.tween(this.imgIcon.node).to(this._t,{y:0}).delay(s.default.rand.limitInteger(10,50)/100).call(function(){t.hide()}).start())},e.prototype.hide=function(){var t=this;1!=this.isClear&&(this.isShow=!1,this.isHide=!0,cc.Tween.stopAllByTarget(this.imgIcon.node),cc.tween(this.imgIcon.node).to(this._t,{y:-110}).call(function(){t.run()}).start())},e.prototype.onEnable=function(){cc.Tween.stopAllByTarget(this.imgIcon.node),this.node.on(cc.Node.EventType.TOUCH_END,this.click,this)},e.prototype.onDisable=function(){this.isClear=!0,cc.Tween.stopAllByTarget(this.imgIcon.node),this.node.off(cc.Node.EventType.TOUCH_END,this.click,this)},e.prototype.click=function(){var t=(new Date).getTime();t-this.clicktime<l.Common.clickWaitTime||(this.clicktime=t,(1==this.isShow&&0==this.isClick||1==this.isHide&&0==this.isClick)&&this.clickComplete())},e.prototype.clickComplete=function(){return c(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return s.default.event.emit(u.default.event_addScore),this.imgIcon.spriteFrame=this.arrIcon[1],this.isClick=!0,cc.Tween.stopAllByTarget(this.imgIcon.node),[4,s.default.promise.sleep(.5)];case 1:return t.sent(),this.hide(),[2]}})})},r([h(cc.Sprite)],e.prototype,"imgIcon",void 0),r([h([cc.SpriteFrame])],e.prototype,"arrIcon",void 0),r([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../core/app":"app","../../data/Common":"Common","./ID04_View":"ID04_View"}],ID04_View:[function(t,e,o){"use strict";cc._RF.push(e,"b2e35Kp7aVNfq8H/1auGGpE","ID04_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/base/BaseView"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lblScore=null,e._score=0,e}var o;return i(e,t),o=e,e.prototype.show=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.arr_event=[{name:o.event_addScore,func:this.addScore}],t.prototype.show.apply(this,e)},e.prototype.addScore=function(){this._score++,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.event_addScore=Symbol(),r([l(cc.Label)],e.prototype,"lblScore",void 0),o=r([s],e)}(c.default);o.default=u,cc._RF.pop()},{"../../core/base/BaseView":"BaseView"}],ID05_Role:[function(t,e,o){"use strict";cc._RF.push(e,"49da1WTr3lONLWh6mOBU+Qt","ID05_Role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("./ID05_View"),s=cc._decorator,l=s.ccclass,u=s.property,p=cc.Enum({FLY:1,DOWN:2,NONE:0}),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dra=null,e.roleStatus=p.NONE,e.currentVerSpeed=320,e.gravity=900,e.init_v=610,e}return i(e,t),e.prototype.start=function(){window.role=this},e.prototype.jump=function(){this.currentVerSpeed=this.init_v,this.roleStatus=p.FLY,this.dra.playAnimation("jump",0)},e.prototype.playFailAnim=function(){this.dra.playAnimation("fall",0),cc.tween(this.node).to(.8,{x:270},{easing:cc.easing.quintOut}).start()},e.prototype.update=function(t){this.roleStatus!=p.NONE&&this._updatePosition(t)},e.prototype._updatePosition=function(t){this.currentVerSpeed-=t*this.gravity,this.node.y+=t*this.currentVerSpeed,this._changeBallStatus(this.currentVerSpeed)},e.prototype._changeBallStatus=function(t){t>0?this.roleStatus!=p.FLY&&(this.roleStatus=p.FLY,this.dra.playAnimation("jump",0)):this.roleStatus!=p.DOWN&&(this.roleStatus=p.DOWN,this.dra.playAnimation("fall",0))},e.prototype.onCollisionEnter=function(t,e){this.roleStatus=p.NONE,cc.Tween.stopAllByTarget(t.node),t.node.y+123-10<e.node.y?(this.dra.playAnimation("stand",0),c.default.event.emit(a.default.event_addScore)):(this.playFailAnim(),c.default.event.emit(a.default.event_gameEnd))},r([u(dragonBones.ArmatureDisplay)],e.prototype,"dra",void 0),r([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../core/app":"app","./ID05_View":"ID05_View"}],ID05_View:[function(t,e,o){"use strict";cc._RF.push(e,"3ad33vHExhLSb7I1HLLvyJl","ID05_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=t("../../data/Common"),p=t("./ID05_Role"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodrRole=null,e.btnNode=null,e.role=null,e.nodeLayer=null,e.pre_build=null,e.widget_node=null,e.lblScore=null,e._score=0,e.isEnd=!1,e._y=146.5,e._dt=3,e.collisionManager=null,e.clicktime=0,e}var o;return i(e,t),o=e,e.prototype.show=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.arr_btn=[this.btnNode],this.arr_event=[{name:o.event_addScore,func:this.addScore},{name:o.event_gameEnd,func:this.gameEnd}],t.prototype.show.apply(this,e),this.initCollisionSys(),this.init()},e.prototype.gameEnd=function(){this.isEnd=!0,s.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log()},e.prototype.addScore=function(){this._score++,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.init=function(){this._score=-1,this.isEnd=!1,this._y=146.5},e.prototype.addItem=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(){return(t=s.default.pool.getNode(this.pre_build)).setParent(this.nodeLayer),t.x=-600,t.y=this._y,cc.tween(t).to(3,{x:0}).start(),this.autoWidget(),this._y+=123,[2]})})},e.prototype.update=function(t){1!=this.isEnd&&(this._dt+=t,this._dt>4&&(this._dt=this._dt%4,this.addItem()))},e.prototype.initCollisionSys=function(){this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0},e.prototype.click=function(t){var e=(new Date).getTime();if(!(e-this.clicktime<u.Common.clickWaitTime))switch(this.clicktime=e,t.target){case this.btnNode:if(1==this.isEnd)return;this.role.jump()}},e.prototype.autoWidget=function(){var t=this._y-this.node.height/2;t<=0||cc.tween(this.widget_node).to(.2,{bottom:-1*t}).start()},e.event_addScore=Symbol(),e.event_gameEnd=Symbol(),r([f(cc.Node)],e.prototype,"nodrRole",void 0),r([f(cc.Node)],e.prototype,"btnNode",void 0),r([f(p.default)],e.prototype,"role",void 0),r([f(cc.Node)],e.prototype,"nodeLayer",void 0),r([f(cc.Prefab)],e.prototype,"pre_build",void 0),r([f(cc.Widget)],e.prototype,"widget_node",void 0),r([f(cc.Label)],e.prototype,"lblScore",void 0),o=r([h],e)}(l.default);o.default=_,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID05_Role":"ID05_Role"}],ID06_Role:[function(t,e,o){"use strict";cc._RF.push(e,"f75c69ys3BDmoHsiIJkGJdS","ID06_Role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("./ID06_View"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t){switch(t.node.name){case"ghost":case"wall":c.default.event.emit(a.default.event_gameEnd);break;case"sugar":c.default.event.emit(a.default.event_useSuger,t.node),c.default.event.emit(a.default.event_addScore)}},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../core/app":"app","./ID06_View":"ID06_View"}],ID06_View:[function(t,e,o){"use strict";cc._RF.push(e,"0c765BrC8RH/YoOIl30v6xQ","ID06_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBg1=null,e.nodeBg2=null,e.role=null,e.btnClick=null,e.nodeLayer=null,e.arr_prefab=[],e.lblScore=null,e._score=0,e.isEnd=!1,e.collisionManager=null,e._speedX=0,e.clicktime=0,e._dt=0,e.arr_node=[],e}var o;return i(e,t),o=e,e.prototype.initCollisionSys=function(){this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0},e.prototype.show=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.arr_btn=[this.btnClick],this.arr_event=[{name:o.event_addScore,func:this.addScore},{name:o.event_gameEnd,func:this.gameEnd},{name:o.event_useSuger,func:this.useSuger}],t.prototype.show.apply(this,e);var i=4;cc.tween(this.nodeBg1).repeatForever(cc.tween().set({y:0}).to(i,{y:-1840})).start(),cc.tween(this.nodeBg2).repeatForever(cc.tween().set({y:1840}).to(i,{y:0})).start(),this.initCollisionSys()},e.prototype.addScore=function(){this._score++,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.gameEnd=function(){1!=this.isEnd&&(this.isEnd=!0,this._speedX=0,cc.Tween.stopAllByTarget(this.nodeBg1),cc.Tween.stopAllByTarget(this.nodeBg2),c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log())},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.click=function(t){if(1!=this.isEnd)switch(t.target){case this.btnClick:0==this._speedX?this._speedX=t.touch.getLocationX()<375?-300:300:this._speedX=-1*this._speedX}},e.prototype.update=function(t){if(1!=this.isEnd){this.role.x+=t*this._speedX,this._dt+=t,this._dt>3&&(this._dt=this._dt%3,this.addItem());for(var e=this.arr_node.length-1;e>=0;e--){var o=this.arr_node[e];o.y-=300*t,o.y<-1500&&(this.arr_node.splice(this.arr_node.indexOf(o),1),c.default.pool.setNode(o))}}},e.prototype.addItem=function(){var t=c.default.pool.getNode(c.default.rand.randomArray(this.arr_prefab));t.setParent(this.nodeLayer),t.x=c.default.rand.limitInteger(-250,250),t.y=1500,this.arr_node.push(t)},e.prototype.useSuger=function(t){this.arr_node.splice(this.arr_node.indexOf(t),1),c.default.pool.setNode(t)},e.event_addScore=Symbol(),e.event_gameEnd=Symbol(),e.event_useSuger=Symbol(),r([u(cc.Node)],e.prototype,"nodeBg1",void 0),r([u(cc.Node)],e.prototype,"nodeBg2",void 0),r([u(cc.Node)],e.prototype,"role",void 0),r([u(cc.Node)],e.prototype,"btnClick",void 0),r([u(cc.Node)],e.prototype,"nodeLayer",void 0),r([u([cc.Prefab])],e.prototype,"arr_prefab",void 0),r([u(cc.Label)],e.prototype,"lblScore",void 0),o=r([l],e)}(a.default);o.default=p,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView"}],ID07_View:[function(t,e,o){"use strict";cc._RF.push(e,"d11afofqvdNNIuRu68bH+0s","ID07_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeLeft=null,e.nodeRight=null,e.nodeFlag1=null,e.nodeFlag2=null,e.arrFlag=[],e.btnLeft=null,e.btnRight=null,e.nodeShipLeft=null,e.nodeShipRight=null,e.lblScore=null,e._score=0,e._w=0,e._h=0,e.p1_x=0,e.p1_y=0,e.p2_x=0,e.clicktime=0,e}return i(e,t),e.prototype.onLoad=function(){this._w=Math.abs(this.nodeFlag1.x-this.nodeFlag2.x),this._h=Math.abs(this.nodeFlag1.y-this.nodeFlag2.y),this.p1_x=this.nodeLeft.x,this.p1_y=this.nodeLeft.y,this.p2_x=this.nodeRight.x},e.prototype.start=function(){window.aa=this;for(var t=0;t<this.nodeLeft.childrenCount;t++)this.nodeLeft.children[t].getComponent(cc.Sprite).spriteFrame=this.arrFlag[t%2],this.nodeRight.children[t].getComponent(cc.Sprite).spriteFrame=this.arrFlag[t%2];this.arrFlag.reverse()},e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnLeft,this.btnRight],t.prototype.show.apply(this,e)},e.prototype.init=function(){},e.prototype.click=function(t){switch(t.target){case this.btnLeft:if(this._score%2==1)return;this._score++,this.run(),this.nodeShipRight.active=!0,this.nodeShipLeft.active=!1,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score;break;case this.btnRight:if(this._score%2==0)return;this._score++,this.run(),this.nodeShipRight.active=!1,this.nodeShipLeft.active=!0,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score}},e.prototype.run=function(){return c(this,void 0,void 0,function(){var t,e,o,n,i,r;return a(this,function(c){switch(c.label){case 0:return t=this._w,e=this._h,o=this.p1_x,n=this.p1_y,i=this.p2_x,cc.tween(this.nodeLeft).to(.3,{x:o-t,y:n-e}).start(),cc.tween(this.nodeRight).to(.3,{x:i+t,y:n-e}).start(),[4,s.default.promise.sleep(.3)];case 1:for(c.sent(),cc.Tween.stopAllByTarget(this.nodeLeft),cc.Tween.stopAllByTarget(this.nodeRight),this.nodeLeft.x=o,this.nodeLeft.y=n,this.nodeRight.x=i,this.nodeRight.y=n,r=0;r<this.nodeLeft.childrenCount;r++)this.nodeLeft.children[r].getComponent(cc.Sprite).spriteFrame=this.arrFlag[r%2],this.nodeRight.children[r].getComponent(cc.Sprite).spriteFrame=this.arrFlag[r%2];return this.arrFlag.reverse(),[2]}})})},e.event_addScore=Symbol(),e.event_gameEnd=Symbol(),r([d(cc.Node)],e.prototype,"nodeLeft",void 0),r([d(cc.Node)],e.prototype,"nodeRight",void 0),r([d(cc.Node)],e.prototype,"nodeFlag1",void 0),r([d(cc.Node)],e.prototype,"nodeFlag2",void 0),r([d([cc.SpriteFrame])],e.prototype,"arrFlag",void 0),r([d(cc.Node)],e.prototype,"btnLeft",void 0),r([d(cc.Node)],e.prototype,"btnRight",void 0),r([d(cc.Node)],e.prototype,"nodeShipLeft",void 0),r([d(cc.Node)],e.prototype,"nodeShipRight",void 0),r([d(cc.Label)],e.prototype,"lblScore",void 0),r([p],e)}(l.default);o.default=h,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView"}],ID08_Role:[function(t,e,o){"use strict";cc._RF.push(e,"11e2aG/P2BFTI6sw1086MsW","ID08_Role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=cc.Enum({FLY:1,DOWN:2,NONE:0}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dra=null,e.roleStatus=u.NONE,e.currentVerSpeed=320,e.gravity=900,e.init_v=810,e}return i(e,t),e.prototype.start=function(){window.role=this},e.prototype.jump=function(){this.currentVerSpeed=this.init_v,this.roleStatus=u.FLY,this.dra.playAnimation("jump",0)},e.prototype.playFailAnim=function(){this.dra.playAnimation("fall",0),cc.tween(this.node).to(.8,{x:270},{easing:cc.easing.quintOut}).start()},e.prototype.update=function(t){this.roleStatus!=u.NONE&&this._updatePosition(t)},e.prototype._updatePosition=function(t){this.currentVerSpeed-=t*this.gravity,this.node.y+=t*this.currentVerSpeed,this._changeBallStatus(this.currentVerSpeed)},e.prototype._changeBallStatus=function(t){t>0?this.roleStatus!=u.FLY&&(this.roleStatus=u.FLY,this.dra.playAnimation("jump",0)):this.roleStatus!=u.DOWN&&(this.roleStatus=u.DOWN,this.dra.playAnimation("fall",0))},e.prototype.onCollisionEnter=function(t){if(this.roleStatus!=u.FLY)switch(t.node.name){case"box":this.jump(),c.default.event.emit(c.default.eName.event_view08_addScore);break;case"end":this.roleStatus=u.NONE,c.default.event.emit(c.default.eName.event_view08_gameEnd)}},r([l(dragonBones.ArmatureDisplay)],e.prototype,"dra",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../core/app":"app"}],ID08_View:[function(t,e,o){"use strict";cc._RF.push(e,"213383kiuVJcbYH7agScltX","ID08_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=t("../../data/Common"),p=t("./ID08_Role"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRole=null,e.btnNode=null,e.role=null,e.nodeLayer=null,e.pre_build=null,e.widget_node=null,e.btnLeft=null,e.btnRight=null,e.lblScore=null,e._score=0,e.isEnd=!1,e.role_y=0,e._y=310,e._dt=3,e.collisionManager=null,e.clicktime=0,e._speedX=0,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnNode,this.btnLeft,this.btnRight],this.arr_event=[{name:s.default.eName.event_view08_addScore,func:this.addScore},{name:s.default.eName.event_view08_gameEnd,func:this.gameEnd}],t.prototype.show.apply(this,e),this.initCollisionSys(),this.init()},e.prototype.gameEnd=function(){this.isEnd=!0,s.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log()},e.prototype.addScore=function(){this.role_y=Math.max(this.role.node.y,this.role_y),this.autoWidget(),this.addItem(),this._score=Math.floor(this.role_y/100),this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.init=function(){this._score=-1,this.isEnd=!1,this._y=310;for(var t=0;t<5;t++)this.addItem()},e.prototype.addItem=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(){return(t=s.default.pool.getNode(this.pre_build)).setParent(this.nodeLayer),t.x=s.default.rand.limitInteger(-360,360),t.y=this._y,this.autoWidget(),this._y+=310,[2]})})},e.prototype.update=function(t){if(1!=this.isEnd){var e=this.nodeRole.x+t*this._speedX;this.nodeRole.x=Math.min(Math.max(e,-350),350)}},e.prototype.initCollisionSys=function(){this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0},e.prototype.click=function(t){var e=(new Date).getTime();if(!(e-this.clicktime<u.Common.clickWaitTime))switch(this.clicktime=e,t.target){case this.btnNode:break;case this.btnLeft:if(1==this.isEnd)return;this._speedX=-500,this.nodeRole.scaleX=1;break;case this.btnRight:if(1==this.isEnd)return;this._speedX=500,this.nodeRole.scaleX=-1}},e.prototype.autoWidget=function(){var t=this.role_y-this.node.height/3;t<=0||cc.tween(this.widget_node).to(.2,{bottom:-1*t}).start()},r([f(cc.Node)],e.prototype,"nodeRole",void 0),r([f(cc.Node)],e.prototype,"btnNode",void 0),r([f({type:p.default})],e.prototype,"role",void 0),r([f(cc.Node)],e.prototype,"nodeLayer",void 0),r([f(cc.Prefab)],e.prototype,"pre_build",void 0),r([f(cc.Widget)],e.prototype,"widget_node",void 0),r([f(cc.Node)],e.prototype,"btnLeft",void 0),r([f(cc.Node)],e.prototype,"btnRight",void 0),r([f(cc.Label)],e.prototype,"lblScore",void 0),r([h],e)}(l.default);o.default=_,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID08_Role":"ID08_Role"}],ID09_Item:[function(t,e,o){"use strict";cc._RF.push(e,"780c10x9spLy5NHGqNHiMuV","ID09_Item");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeLadder=null,e.isActive=!1,e.isRun=!0,e}return i(e,t),e.prototype.init=function(){this.node.x=-275,this.node.y=400,this.node.width=100,this.nodeLadder.height=0,this.nodeLadder.angle=0,this.nodeLadder.active=!1},e.prototype.rand=function(){this.node.x=c.default.rand.limitInteger(150,350),this.node.y=400,this.node.width=c.default.rand.limitInteger(100,250),this.nodeLadder.height=0,this.nodeLadder.angle=0,this.nodeLadder.active=!1},e.prototype.update=function(t){0!=this.isActive&&(this.nodeLadder.active=!0,this.nodeLadder.height+=300*t)},e.prototype.run=function(){this.isActive=!0},e.prototype.stop=function(){this.isActive=!1},e.prototype.playEndAnim=function(t){cc.Tween.stopAllByTarget(this.nodeLadder),cc.tween(this.nodeLadder).to(.5,{angle:-90}).call(function(){t&&t()}).start()},e.prototype.playFailAnim=function(){cc.Tween.stopAllByTarget(this.nodeLadder),cc.tween(this.nodeLadder).to(.2,{angle:-180}).start()},e.prototype.playHideAnim=function(){cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{x:-2e3}).start()},e.prototype.playInitAnim=function(t){cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{x:-275}).start(),cc.tween(t).to(.3,{x:-300}).start()},e.prototype.playRandAnim=function(){this.node.x=1500,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.3,{x:c.default.rand.limitInteger(150,350)}).start()},r([l(cc.Node)],e.prototype,"nodeLadder",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID09_View:[function(t,e,o){"use strict";cc._RF.push(e,"8c87baslOlEdLEgnc0G4h2a","ID09_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=t("./ID09_Item"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pre_item=null,e.nodeLayer=null,e.btnNode=null,e.nodeRole=null,e.compHome=null,e.compNext=null,e.isClick=!1,e.isEnd=!1,e._score=0,e.lblScore=null,e.isClickStart=!1,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.prototype.show.apply(this,e),this.compHome=this.addItem(!0),this.compNext=this.addItem(),this.btnNode.on(cc.Node.EventType.TOUCH_START,this._start,this),this.btnNode.on(cc.Node.EventType.TOUCH_END,this._end,this),this.nodeRole.x=this.compHome.node.x-25},e.prototype._start=function(){1!=this.isClick&&1!=this.isEnd&&(this.isClickStart=!0,this.compHome.run())},e.prototype._end=function(){var t=this;1!=this.isClick&&1!=this.isEnd&&0!=this.isClickStart&&(this.isClick=!0,this.isClickStart=!1,this.compHome.stop(),this.compHome.playEndAnim(function(){t.playRoleRunAnim()}))},e.prototype.playRoleRunAnim=function(){return c(this,void 0,void 0,function(){var t,e,o,n,i,r=this;return a(this,function(c){switch(c.label){case 0:return t=this.nodeRole.x,e=this.compNext.node.x-25,o=this.compHome.nodeLadder.height-5,n=Math.abs(t-e),i=n-this.compNext.node.width,console.log(o,i,n),o>=i&&o<=n?(cc.Tween.stopAllByTarget(this.nodeRole),cc.tween(this.nodeRole).to(1,{x:e}).call(function(){r.addScore(),r.compHome.playHideAnim(),r.compHome=r.compNext,r.compHome.playInitAnim(r.nodeRole),r.compNext=r.addItem(),r.compNext.playRandAnim()}).start()):(cc.Tween.stopAllByTarget(this.nodeRole),cc.tween(this.nodeRole).to(1,{x:t+o}).call(function(){r.gameEnd(),r.compHome.playFailAnim()}).to(1,{y:-100},{easing:cc.easing.backOut}).start()),[4,s.default.promise.sleep(1.5)];case 1:return c.sent(),this.isClick=!1,[2]}})})},e.prototype.addItem=function(t){void 0===t&&(t=!1);var e=s.default.pool.getNode(this.pre_item);e.setParent(this.nodeLayer);var o=e.getComponent(u.default);return 1==t?o.init():o.rand(),o},e.prototype.gameEnd=function(){this.isEnd=!0,s.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log()},e.prototype.addScore=function(){this._score++,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},r([h(cc.Prefab)],e.prototype,"pre_item",void 0),r([h(cc.Node)],e.prototype,"nodeLayer",void 0),r([h(cc.Node)],e.prototype,"btnNode",void 0),r([h(cc.Node)],e.prototype,"nodeRole",void 0),r([h(cc.Label)],e.prototype,"lblScore",void 0),r([d],e)}(l.default);o.default=f,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","./ID09_Item":"ID09_Item"}],ID10_Role:[function(t,e,o){"use strict";cc._RF.push(e,"8b2ca53LhNJlarAUOq0jcr7","ID10_Role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=(a.property,cc.Enum({FLY:1,DOWN:2,NONE:0})),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roleStatus=l.NONE,e.currentVerSpeed=320,e.gravity=900,e.init_v=600,e._speedX=300,e}return i(e,t),e.prototype.start=function(){window.role=this},e.prototype.jump=function(){this.currentVerSpeed=this.init_v,this.roleStatus=l.FLY},e.prototype.playFailAnim=function(){cc.tween(this.node).to(.8,{x:270},{easing:cc.easing.quintOut}).start()},e.prototype.update=function(t){this.roleStatus!=l.NONE&&(this._updatePosition(t),this.node.x+=t*this._speedX)},e.prototype._updatePosition=function(t){this.currentVerSpeed-=t*this.gravity,this.node.y+=t*this.currentVerSpeed,this._changeBallStatus(this.currentVerSpeed)},e.prototype._changeBallStatus=function(t){t>0?this.roleStatus!=l.FLY&&(this.roleStatus=l.FLY):this.roleStatus!=l.DOWN&&(this.roleStatus=l.DOWN)},e.prototype.onCollisionEnter=function(t){if(this.roleStatus!=l.NONE)switch(console.log("\u53d1\u751f\u78b0\u649e"),t.node.name){case"wall":this._speedX=-1*this._speedX,c.default.event.emit(c.default.eName.event_view10_addScore);break;default:this.roleStatus=l.NONE,c.default.event.emit(c.default.eName.event_view10_gameEnd)}},r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID10_View:[function(t,e,o){"use strict";cc._RF.push(e,"18665enAo5Kh6wwnPA87tjS","ID10_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("./ID10_Role"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnNode=null,e.role=null,e.nodeLayer=null,e.lblScore=null,e._score=0,e.isEnd=!1,e.arr_nodeBoxLeft=[],e.arr_nodeBoxRight=[],e._dt=3,e.collisionManager=null,e.clicktime=0,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnNode],this.arr_event=[{name:c.default.eName.event_view10_addScore,func:this.addScore},{name:c.default.eName.event_view10_gameEnd,func:this.gameEnd}],t.prototype.show.apply(this,e),this.initCollisionSys(),this.init()},e.prototype.gameEnd=function(){this.isEnd=!0,c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log()},e.prototype.addScore=function(){var t=this;this._score++,this.lblScore.string=""+this._score;var e=this.node.height-100;this.arr_nodeBoxLeft.forEach(function(o){o.y=c.default.rand.limitInteger(100,e),o.active=t.role._speedX<0}),this.arr_nodeBoxRight.forEach(function(o){o.y=c.default.rand.limitInteger(100,e),o.active=t.role._speedX>=0})},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.init=function(){var t=this;this._score=0,this.isEnd=!1;var e=this.node.height-100;this.arr_nodeBoxLeft.forEach(function(o){o.y=c.default.rand.limitInteger(100,e),o.active=t.role._speedX<0}),this.arr_nodeBoxRight.forEach(function(o){o.y=c.default.rand.limitInteger(100,e),o.active=t.role._speedX>=0})},e.prototype.update=function(){this.isEnd},e.prototype.initCollisionSys=function(){this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0},e.prototype.click=function(t){switch(t.target){case this.btnNode:if(1==this.isEnd)return;this.role.jump()}},e.event_addScore=Symbol(),e.event_gameEnd=Symbol(),r([p(cc.Node)],e.prototype,"btnNode",void 0),r([p(s.default)],e.prototype,"role",void 0),r([p(cc.Node)],e.prototype,"nodeLayer",void 0),r([p(cc.Label)],e.prototype,"lblScore",void 0),r([p([cc.Node])],e.prototype,"arr_nodeBoxLeft",void 0),r([p([cc.Node])],e.prototype,"arr_nodeBoxRight",void 0),r([u],e)}(a.default);o.default=d,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","./ID10_Role":"ID10_Role"}],ID11_View:[function(t,e,o){"use strict";cc._RF.push(e,"efcedNxmi1L/aCkKo0Ia5Jr","ID11_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=t("./ID11_role"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnNode=null,e.role=null,e.lblScore=null,e.nodeLayer=null,e.pre_item=null,e._score=0,e.isEnd=!1,e.isStart=!1,e.nodeBg=null,e.collisionManager=null,e._dt=2,e.arr_pipe=[],e.clicktime=0,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnNode],this.arr_event=[{name:s.default.eName.event_addScore,func:this.addScore},{name:s.default.eName.event_gameEnd,func:this.gameEnd}],t.prototype.show.apply(this,e),this.init()},e.prototype.init=function(){this.initCollisionSys()},e.prototype.initCollisionSys=function(){this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0},e.prototype.gameEnd=function(){this.isEnd=!0,s.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log()},e.prototype.addScore=function(){this._score++,this.lblScore.string=""+this._score},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.update=function(t){if(1!=this.isEnd&&0!=this.isStart){var e=300*t;this.nodeBg.x-=e,this.nodeBg.x=this.nodeBg.x%750;for(var o=this.arr_pipe.length-1;o>=0;o--){var n=this.arr_pipe[o];n.x-=e,n.x<-750&&(this.arr_pipe.splice(this.arr_pipe.indexOf(n),1),s.default.pool.setNode(n))}this._dt+=t,this._dt>2.5&&(this._dt=this._dt%2.5,this.addItem())}},e.prototype.addItem=function(){return c(this,void 0,void 0,function(){var t;return a(this,function(){return(t=s.default.pool.getNode(this.pre_item)).setParent(this.nodeLayer),t.x=750,t.y=s.default.rand.limitInteger(-150,150),this.arr_pipe.push(t),[2]})})},e.prototype.click=function(t){switch(t.target){case this.btnNode:if(1==this.isEnd)return;this.isStart=!0,this.role.fly()}},r([h(cc.Node)],e.prototype,"btnNode",void 0),r([h(u.default)],e.prototype,"role",void 0),r([h(cc.Label)],e.prototype,"lblScore",void 0),r([h(cc.Node)],e.prototype,"nodeLayer",void 0),r([h(cc.Prefab)],e.prototype,"pre_item",void 0),r([h(cc.Node)],e.prototype,"nodeBg",void 0),r([d],e)}(l.default);o.default=f,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","./ID11_role":"ID11_role"}],ID11_pipe:[function(t,e,o){"use strict";cc._RF.push(e,"6e10bag/51CtaG1cEM/Sj+P","ID11_pipe");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeScore=null,e}return i(e,t),e.prototype.onEnable=function(){this.nodeScore.active=!0},r([s(cc.Node)],e.prototype,"nodeScore",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ID11_role:[function(t,e,o){"use strict";cc._RF.push(e,"fca89AL2D1LFp9QKJV5fWGt","ID11_role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=cc.Enum({FLY:1,DOWN:2,NONE:0}),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roleStatus=u.NONE,e.currentVerSpeed=320,e.gravity=900,e.init_v=600,e.imgIcon=null,e.arr_icon=[],e.frame_count=0,e.index=0,e}return i(e,t),e.prototype.update=function(t){this.roleStatus!=u.NONE&&(this.frame_count++,this.frame_count%4==0&&(this.index++,this.imgIcon.spriteFrame=this.arr_icon[this.index%2]),this._updatePosition(t))},e.prototype._updatePosition=function(t){this.currentVerSpeed-=t*this.gravity,this.node.y+=t*this.currentVerSpeed,this._changeBallStatus(this.currentVerSpeed)},e.prototype._changeBallStatus=function(t){t>0?this.roleStatus!=u.FLY&&(this.roleStatus=u.FLY):this.roleStatus!=u.DOWN&&(this.roleStatus=u.DOWN,this.node.angle=-20)},e.prototype.fly=function(){this.currentVerSpeed=this.init_v,this.roleStatus=u.FLY,this.node.angle=20},e.prototype.onCollisionEnter=function(t){if(this.roleStatus!=u.NONE)switch(console.log("\u53d1\u751f\u78b0\u649e",t.node.name),t.node.name){case"score":c.default.event.emit(c.default.eName.event_addScore),t.node.active=!1;break;case"floor":case"pipe":default:this.roleStatus=u.NONE,c.default.event.emit(c.default.eName.event_gameEnd)}},r([l(cc.Sprite)],e.prototype,"imgIcon",void 0),r([l([cc.SpriteFrame])],e.prototype,"arr_icon",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../core/app":"app"}],ID12_Role:[function(t,e,o){"use strict";cc._RF.push(e,"75171W86edJ4IUMofQ2C9lu","ID12_Role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("./ID12_View"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t){switch(t.node.name){case"bomb":c.default.event.emit(a.default.event_gameEnd);break;case"tangyuan":c.default.event.emit(a.default.event_useSuger,t.node),c.default.event.emit(a.default.event_addScore)}},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../../core/app":"app","./ID12_View":"ID12_View"}],ID12_View:[function(t,e,o){"use strict";cc._RF.push(e,"1430eRprulFdZKtKTeiDGZZ","ID12_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.role=null,e.btnClick=null,e.nodeLayer=null,e.arr_prefab=[],e.lblScore=null,e._score=0,e.isEnd=!1,e.collisionManager=null,e.role_p=cc.v2(0,0),e.startP=cc.v2(0,0),e._speedX=0,e.clicktime=0,e._dt=0,e.arr_node=[],e}var o;return i(e,t),o=e,e.prototype.initCollisionSys=function(){this.collisionManager=cc.director.getCollisionManager(),this.collisionManager.enabled=!0},e.prototype.show=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.arr_btn=[],this.arr_event=[{name:o.event_addScore,func:this.addScore},{name:o.event_gameEnd,func:this.gameEnd},{name:o.event_useSuger,func:this.useSuger}],t.prototype.show.apply(this,e),this.initCollisionSys(),this.btnClick.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.btnClick.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this)},e.prototype.touchStart=function(t){this.startP.x=t.getLocationX(),this.role_p=this.role.getPosition()},e.prototype.touchMove=function(t){var e=this.role_p.x+(t.getLocationX()-this.startP.x);e=Math.min(e,350),e=Math.max(e,-350),this.role.x=e},e.prototype.addScore=function(){this._score++,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.gameEnd=function(){1!=this.isEnd&&(this.isEnd=!0,this._speedX=0,c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log())},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.click=function(t){1!=this.isEnd&&t.target},e.prototype.update=function(t){if(1!=this.isEnd){this._dt+=t,this._dt>1&&(this._dt=this._dt%1,this.addItem());for(var e=550*t,o=this.arr_node.length-1;o>=0;o--){var n=this.arr_node[o];n.y-=e,n.y<-1500&&(this.arr_node.splice(this.arr_node.indexOf(n),1),c.default.pool.setNode(n))}}},e.prototype.addItem=function(){var t=c.default.pool.getNode(c.default.rand.randomArray(this.arr_prefab));t.setParent(this.nodeLayer),t.x=c.default.rand.limitInteger(-250,250),t.y=1500,this.arr_node.push(t)},e.prototype.useSuger=function(t){this.arr_node.splice(this.arr_node.indexOf(t),1),c.default.pool.setNode(t)},e.event_addScore=Symbol(),e.event_gameEnd=Symbol(),e.event_useSuger=Symbol(),r([u(cc.Node)],e.prototype,"role",void 0),r([u(cc.Node)],e.prototype,"btnClick",void 0),r([u(cc.Node)],e.prototype,"nodeLayer",void 0),r([u([cc.Prefab])],e.prototype,"arr_prefab",void 0),r([u(cc.Label)],e.prototype,"lblScore",void 0),o=r([l],e)}(a.default);o.default=p,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView"}],ID13_View:[function(t,e,o){"use strict";cc._RF.push(e,"0763dEyhsZAH5kiOGEjE+E/","ID13_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("../../data/Common"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClick=null,e.nodeRoot=null,e.lblTime=null,e.lblCount=null,e._count=0,e._t=60,e.isEnd=!1,e.clicktime=0,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnClick],t.prototype.show.apply(this,e),this.nodeRoot.children.forEach(function(t){t.active=!1})},e.prototype.update=function(t){1!=this.isEnd&&(this._t-=t,this._t=Math.max(0,this._t),this.lblTime.string="\u5269\u4f59\u65f6\u95f4\uff1a"+Math.floor(this._t)+"s",this._t<=0&&(this.isEnd=!0,c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log()))},e.prototype.clickFail=function(){this._t-=5},e.prototype.log=function(){var t=this.nodeRoot.children.filter(function(t){return 1==t.active});console.log(" === === === === === === === === === === === === === === === "),console.log("\u5269\u4f59\u65f6\u95f4\uff1a",Math.floor(this._t)),console.log("\u5f97\u5206\uff1a",t.length),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.check=function(){var t=this.nodeRoot.children.filter(function(t){return 1==t.active});this.lblCount.string="\u8fdb\u5ea6\uff1a"+t.length+"/10",10==t.length&&(this.isEnd=!0,c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log())},e.prototype.click=function(t){var e=this,o=(new Date).getTime();if(!(o-this.clicktime<s.Common.clickWaitTime))switch(this.clicktime=o,t.target){case this.btnClick:if(1==this.isEnd)return;var n=!1,i=t.getLocation();this.nodeRoot.children.forEach(function(t){var o=t.parent.convertToWorldSpaceAR(t.position),r=cc.v2(o.x-t.width/2,o.y+t.height/2),c=cc.v2(r.x+t.width,r.y),a=cc.v2(r.x,r.y-t.height),s=[r,c,cc.v2(c.x,a.y),a];if(cc.Intersection.pointInPolygon(i,s))return t.active=!0,e.check(),void(n=!0)}),0==n&&this.clickFail()}},r([p(cc.Node)],e.prototype,"btnClick",void 0),r([p(cc.Node)],e.prototype,"nodeRoot",void 0),r([p(cc.Label)],e.prototype,"lblTime",void 0),r([p(cc.Label)],e.prototype,"lblCount",void 0),r([u],e)}(a.default);o.default=d,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common"}],ID14_View:[function(t,e,o){"use strict";cc._RF.push(e,"b48ddUb96hG6bgikifPYf0s","ID14_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=t("../../data/Common"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRoot=null,e.pre_obstacle=null,e.pre_target=null,e.nodeCoin=null,e.btnBegin=null,e.lblTips=null,e.IronPos=[[1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1],[1,0,1,0,1,0,1,0,1,0]],e.arr_p={},e.arr_target={},e.obstacleWidth=30,e.isRun=!1,e.clicktime=0,e.target_parent={0:[2],1:[0],2:[2,4],3:[6],4:[4],5:[6],6:[8]},e.arr_xIndex=[3,4,5,6],e.temp_xIndex=1,e.temp_yIndex=1,e.click_time=0,e.p_coin=cc.v2(0,0),e.startP=cc.v2(0,0),e}return i(e,t),e.prototype.start=function(){window.aa=this},e.prototype.coinBegin=function(){this.nodeCoin.x=208,this.nodeCoin.y=-195,cc.tween(this.nodeCoin).to(.1,{y:320}).start()},e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnBegin],t.prototype.show.apply(this,e);for(var n=this.obstacleWidth,i=cc.v2(-270,250),r=0;r<this.IronPos.length;r++)for(var c=this.IronPos[r],a=0;a<c.length;a++)1==this.IronPos[r][a]&&((u=s.default.pool.getNode(this.pre_obstacle)).setParent(this.nodeRoot),u.x=i.x+(n+15)*a,u.y=i.y-(n+70)*r,u.width=n,u.height=n,this.arr_p[r+"_"+a]=u.getPosition());console.log(this.arr_p);for(var l=0;l<7;l++){var u;(u=s.default.pool.getNode(this.pre_target)).setParent(this.nodeRoot),u.width=63,u.x=i.x+u.width*l+u.width/2-15,u.y=i.y-5*(n+70),this.arr_target[l]=cc.v2(u.x,u.y);var p=u.getChildByName("lbl").getComponent(cc.Label);p.string=l+""}this.nodeCoin.x=208,this.nodeCoin.y=-248},e.prototype.click=function(t){var e=(new Date).getTime();if(!(e-this.clicktime<u.Common.clickWaitTime))switch(this.clicktime=e,t.target){case this.btnBegin:if(1==this.isRun)return;this.isRun=!0;var o=s.default.rand.limitInteger(0,6);this.lblTips.string="\u83b7\u5f97\u5956\u54c1\uff1a"+o,this.test_target(o)}},e.prototype.test_target=function(t){var e=this,o=[],n={0:[1],1:[0,2],2:[1,3],3:[2,4],4:[3,5],5:[4,6],6:[5,7],7:[6,8],8:[7,9],9:[8]};o.push(t),o.unshift(s.default.rand.randomArray(this.target_parent[t])),o.unshift(s.default.rand.randomArray(n[o[0]])),o.unshift(s.default.rand.randomArray(n[o[0]])),o.unshift(s.default.rand.randomArray(n[o[0]]));var i=s.default.rand.randomArray(n[o[0]]),r=this.arr_p["0_"+i];this.temp_xIndex=i,this.arr_xIndex=o,this.nodeCoin.x=208,this.nodeCoin.y=-248,cc.tween(this.nodeCoin).to(.1,{y:320}).to(.1,{x:r.x,y:r.y+35}).call(function(){e.playPathAnim()}).start()},e.prototype.test=function(t){void 0===t&&(t=[3,4,5,6,0]);var e=this.arr_p["0_2"];this.nodeCoin.x=e.x,this.nodeCoin.y=e.y+35,this.arr_xIndex=t,this.playPathAnim()},e.prototype.playPathAnim=function(t){return void 0===t&&(t=1),c(this,void 0,void 0,function(){var e,o,n,i,r,c,l=this;return a(this,function(a){switch(a.label){case 0:return t>=6?[4,s.default.promise.sleep(1)]:[3,2];case 1:return a.sent(),this.nodeCoin.x=208,this.nodeCoin.y=-248,this.isRun=!1,[2];case 2:return e=cc.v2(),o=cc.v2(),t<5?(c=this.arr_xIndex.shift(),n=c-this.temp_xIndex+c,[2,3,4,5,6,7].includes(n)?(i=t-1+"_"+n,o=this.arr_p[i]):o=null,this.temp_xIndex=c,r=t+"_"+c,e=this.arr_p[r]):(c=this.arr_xIndex.shift(),e=this.arr_target[c],o=null),this.temp_yIndex=t,this.playJumpAnim(e,o,function(){t++,l.playPathAnim(t)}),[2]}})})},e.prototype.playJumpAnim=function(t,e,o){return void 0===o&&(o=null),c(this,void 0,void 0,function(){var n,i,r,c,l,u,p,d,h,f=this;return a(this,function(a){switch(a.label){case 0:return n=s.default.rand.limitInteger(35,50)/100,i=cc.v2(),null!=e&&s.default.rand.limit(1,100)>50?(n=s.default.rand.limitInteger(25,35)/100,i.x=e.x,i.y=e.y,r=cc.v2(this.nodeCoin.x,this.nodeCoin.y),c=cc.v2((i.x+this.nodeCoin.x)/2+s.default.rand.limitInteger(-10,10),this.nodeCoin.y+s.default.rand.limitInteger(25,40)),l=cc.v2(i.x+(this.nodeCoin.x>i.x?5:-5),i.y+35-5),h={a:0},cc.tween(h).to(n,{a:1},{progress:function(t,e,o,n){var i=1-n;f.nodeCoin.x=i*i*r.x+2*n*i*c.x+n*n*l.x,f.nodeCoin.y=i*i*r.y+2*n*i*c.y+n*n*l.y}}).start(),[4,s.default.promise.sleep(n)]):[3,2];case 1:a.sent(),cc.Tween.stopAllByTarget(h),a.label=2;case 2:return n=s.default.rand.limitInteger(35,50)/100,i.x=t.x,i.y=t.y,u=cc.v2(this.nodeCoin.x,this.nodeCoin.y),p=cc.v2((i.x+this.nodeCoin.x)/2+s.default.rand.limitInteger(-10,10),this.nodeCoin.y+s.default.rand.limitInteger(60,75)+s.default.rand.limitInteger(-10,10)),d=cc.v2(i.x+s.default.rand.limitInteger(-5,5),i.y+35+s.default.rand.limitInteger(-5,5)),5==this.temp_yIndex&&(p=cc.v2((i.x+this.nodeCoin.x)/2+s.default.rand.limitInteger(-2,2),this.nodeCoin.y+s.default.rand.limitInteger(30,45)),d=cc.v2(i.x+s.default.rand.limitInteger(-1,1),i.y+s.default.rand.limitInteger(-2,2))),h={a:0},cc.tween(h).to(n,{a:1},{progress:function(t,e,o,n){var i=1-n;f.nodeCoin.x=i*i*u.x+2*n*i*p.x+n*n*d.x,f.nodeCoin.y=i*i*u.y+2*n*i*p.y+n*n*d.y}}).call(function(){o&&o()}).start(),[2]}})})},e.prototype.touchStart=function(t){this.startP.x=t.getLocationX(),this.startP.y=t.getLocationY(),this.p_coin=this.nodeCoin.getPosition(),this.click_time=(new Date).getTime()},e.prototype.touchMove=function(t){this.nodeCoin.x=this.p_coin.x+(t.getLocationX()-this.startP.x),this.nodeCoin.y=this.p_coin.y+(t.getLocationY()-this.startP.y)},r([h(cc.Node)],e.prototype,"nodeRoot",void 0),r([h(cc.Prefab)],e.prototype,"pre_obstacle",void 0),r([h(cc.Prefab)],e.prototype,"pre_target",void 0),r([h(cc.Node)],e.prototype,"nodeCoin",void 0),r([h(cc.Node)],e.prototype,"btnBegin",void 0),r([h(cc.Label)],e.prototype,"lblTips",void 0),r([d],e)}(l.default);o.default=f,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common"}],ID15_Role:[function(t,e,o){"use strict";cc._RF.push(e,"dc6871WZvRJ3r2n+rUuKzSU","ID15_Role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=(a.property,cc.Enum({FLY:1,DOWN:2,NONE:0})),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roleStatus=l.DOWN,e.currentVerSpeed=320,e.gravity=900,e.init_v=610,e._h=0,e.half_w=0,e.otherNode=null,e}return i(e,t),e.prototype.onLoad=function(){this._h=this.node.height,this.half_w=20},Object.defineProperty(e.prototype,"isAwait",{get:function(){return this.roleStatus==l.NONE},enumerable:!1,configurable:!0}),e.prototype.isRun=function(){1==this.checkCollison(this.otherNode)?this.roleStatus=l.NONE:this.roleStatus=l.DOWN},e.prototype.update=function(t){this.roleStatus!=l.NONE&&this._updatePosition(t)},e.prototype._updatePosition=function(t){this.currentVerSpeed-=t*this.gravity,this.node.y+=t*this.currentVerSpeed,this._changeBallStatus(this.currentVerSpeed)},e.prototype._changeBallStatus=function(t){t>0?this.roleStatus!=l.FLY&&(this.roleStatus=l.FLY):this.roleStatus!=l.DOWN&&(this.roleStatus=l.DOWN)},e.prototype.onCollisionEnter=function(t){switch(console.warn(t.node.name),t.node.name){case"floor":this.currentVerSpeed=0,this.roleStatus=l.NONE,this.node.y=t.node.y+t.node.height/2,this.otherNode=t.node;break;case"bottom":case"top":c.default.event.emit(c.default.eName.event_gameEnd)}},e.prototype.checkCollison=function(t){if(null==t)return!1;var e=this.node.getPosition(),o=[cc.v2(e.x-this.half_w,e.y+this._h),cc.v2(e.x+this.half_w,e.y+this._h),cc.v2(e.x+this.half_w,e.y),cc.v2(e.x-this.half_w,e.y)],n=t.height/2,i=t.width/2,r=t.getPosition(),c=[cc.v2(r.x-i,r.y+n),cc.v2(r.x+i,r.y+n),cc.v2(r.x+i,r.y-n),cc.v2(r.x-i,r.y-n)];return 1==cc.Intersection.polygonPolygon(o,c)},r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID15_View:[function(t,e,o){"use strict";cc._RF.push(e,"295e9YBaKdCCbBeRykzRKXi","ID15_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("../../data/Common"),l=t("./ID15_Role"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pre_node=null,e.nodeLayer=null,e.role=null,e.lblScore=null,e.btnRight=null,e.btnLeft=null,e._score=0,e.isEnd=!1,e.role_speedX=0,e._dt=.8,e.arr_node=[],e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_event=[{name:c.default.eName.event_gameEnd,func:this.gameEnd}],t.prototype.show.apply(this,e),s.Common.initCollisionSys(),this.addItem(0,-1500),this.addItem(100,-1900),this.btnLeft.on(cc.Node.EventType.TOUCH_START,this._touchStart,this),this.btnRight.on(cc.Node.EventType.TOUCH_START,this._touchStart,this),this.btnLeft.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEnd,this),this.btnRight.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEnd,this),this.btnLeft.on(cc.Node.EventType.TOUCH_END,this._touchEnd,this),this.btnRight.on(cc.Node.EventType.TOUCH_END,this._touchEnd,this)},e.prototype.gameEnd=function(){this.isEnd=!0,c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log()},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",Math.floor(this._score)),console.log(" === === === === === === === === === === === === === === === ")},e.prototype._touchStart=function(t){switch(t.target){case this.btnLeft:this.role_speedX=-300,this.role.node.scaleX=1;break;case this.btnRight:this.role_speedX=300,this.role.node.scaleX=-1}},e.prototype._touchEnd=function(){this.role_speedX=0},e.prototype.update=function(t){if(1!=this.isEnd){this._score+=t,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+Math.floor(this._score),this._dt+=t,this._dt>1&&(this._dt=this._dt%1,this.addItem());var e=this.role.node.x+t*this.role_speedX;e=Math.min(e,350),e=Math.max(e,-350),this.role.node.x=e,0!=this.role.node.x&&this.role.isRun();var o=300*t;1==this.role.isAwait&&(this.role.node.y+=o);for(var n=this.arr_node.length-1;n>=0;n--){var i=this.arr_node[n];i.y+=o,i.y>150&&(this.arr_node.splice(this.arr_node.indexOf(i),1),c.default.pool.setNode(i))}}},e.prototype.addItem=function(t,e){void 0===t&&(t=null),void 0===e&&(e=-2200);var o=c.default.pool.getNode(this.pre_node);o.setParent(this.nodeLayer),o.x=null==t?c.default.rand.limitInteger(-300,300):0,o.y=e,this.arr_node.push(o)},r([d(cc.Prefab)],e.prototype,"pre_node",void 0),r([d(cc.Node)],e.prototype,"nodeLayer",void 0),r([d(l.default)],e.prototype,"role",void 0),r([d(cc.Label)],e.prototype,"lblScore",void 0),r([d(cc.Node)],e.prototype,"btnRight",void 0),r([d(cc.Node)],e.prototype,"btnLeft",void 0),r([p],e)}(a.default);o.default=h,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID15_Role":"ID15_Role"}],ID16_Item:[function(t,e,o){"use strict";cc._RF.push(e,"a337ekk11BFk6Mg13IXoZQM","ID16_Item");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeLight=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.click=function(){console.log(this.nodeLight.active),0==this.nodeLight.active&&(this.nodeLight.active=!0,c.default.event.emit(c.default.eName.event_addScore))},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.click,this),this.nodeLight.active=!1},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.click,this)},r([l(cc.Node)],e.prototype,"nodeLight",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID16_View:[function(t,e,o){"use strict";cc._RF.push(e,"6d6d67oshpHO7rVbFhg3lfs","ID16_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pre_item=null,e.nodeRoot=null,e.lblScore=null,e.lblTime=null,e._score=0,e._dt=0,e.isEnd=!1,e._t=60,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_event=[{name:c.default.eName.event_addScore,func:this.addScore}],t.prototype.show.apply(this,e)},e.prototype.addScore=function(){this._score++,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.update=function(t){1!=this.isEnd&&(this._t-=t,this._t=Math.max(this._t,0),this.lblTime.string="\u5269\u4f59\u65f6\u95f4\uff1a"+Math.floor(this._t),this._t<=0&&(this.isEnd=!0),this._dt+=t,this._dt>1&&(this._dt=this._dt%1,this.addItem(),this.addItem()))},e.prototype.addItem=function(){var t=c.default.pool.getNode(this.pre_item);cc.Tween.stopAllByTarget(t),t.setParent(this.nodeRoot),t.x=c.default.rand.limitInteger(-300,300),t.y=-2e3;var e=c.default.rand.limitInteger(8,15);cc.tween(t).to(e,{y:2e3}).call(function(){c.default.pool.setNode(t)}).start()},r([u(cc.Prefab)],e.prototype,"pre_item",void 0),r([u(cc.Node)],e.prototype,"nodeRoot",void 0),r([u(cc.Label)],e.prototype,"lblScore",void 0),r([u(cc.Label)],e.prototype,"lblTime",void 0),r([l],e)}(a.default);o.default=p,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView"}],ID17_Role:[function(t,e,o){"use strict";cc._RF.push(e,"71632O0qLxGTrZAkotShIs+","ID17_Role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrRunNode=[],e.nodeFly=null,e.indexCount=2,e.isEnd=!1,e._dt=0,e._index=0,e.isFly=!1,e}return i(e,t),e.prototype.onLoad=function(){this.indexCount=this.arrRunNode.length,this.nodeFly.active=!1},e.prototype.update=function(){1!=this.isFly&&1!=this.isEnd&&(this._dt=(this._dt+1)%6,0==this._dt&&(this.arrRunNode.forEach(function(t){t.active=!1}),this._index=(this._index+1)%this.indexCount,this.arrRunNode[this._index].active=!0))},e.prototype.playFlyAnim=function(){var t=this;this.arrRunNode[0].active=!1,this.arrRunNode[1].active=!1,this.isFly=!0,this.nodeFly.active=!0,cc.tween(this.nodeFly).to(.8,{scale:1.5},{easing:cc.easing.expoOut}).to(.4,{scale:1},{easing:cc.easing.quartOut}).call(function(){t.isFly=!1,t.arrRunNode[0].active=!0,t.nodeFly.active=!1}).start()},e.prototype.onCollisionEnter=function(t){if(1!=this.isFly)switch(t.node.name){case"bomb1":case"bomb2":case"bomb3":this.isEnd=!0,c.default.event.emit(c.default.eName.event_gameEnd);break;case"star":cc.Tween.stopAllByTarget(t.node),c.default.pool.setNode(t.node),c.default.event.emit(c.default.eName.event_addScore)}},r([l([cc.Node])],e.prototype,"arrRunNode",void 0),r([l(cc.Node)],e.prototype,"nodeFly",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID17_View:[function(t,e,o){"use strict";cc._RF.push(e,"43ca0hynb5JUqzK+UNi3w5E","ID17_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("../../data/Common"),l=t("./ID17_Role"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRoot=null,e.btnClick=null,e.role=null,e.arrItem=[],e.lblScore=null,e.arr_X=[-250,0,250],e.roleX_now=1,e.isEnd=!1,e._dt=0,e._score=0,e.p_touchStartX=0,e._touchTime=0,e}return i(e,t),e.prototype.onLoad=function(){s.Common.initCollisionSys()},e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.btnClick.on(cc.Node.EventType.TOUCH_START,this._touchStart,this),this.btnClick.on(cc.Node.EventType.TOUCH_END,this._touchEnd,this),this.btnClick.on(cc.Node.EventType.TOUCH_CANCEL,this._touchEnd,this),this.arr_event=[{func:this.addScore,name:c.default.eName.event_addScore},{func:this.gameEnd,name:c.default.eName.event_gameEnd}],t.prototype.show.apply(this,e)},e.prototype.update=function(t){1!=this.isEnd&&(this._dt+=t,this._dt>1&&(this._dt=this._dt%1,this.addItem()))},e.prototype.addScore=function(){this._score++,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.gameEnd=function(){c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.isEnd=!0,this.nodeRoot.children.forEach(function(t){cc.Tween.stopAllByTarget(t)})},e.prototype.addItem=function(){var t=c.default.pool.getNode(c.default.rand.randomArray(this.arrItem));cc.Tween.stopAllByTarget(t),t.setParent(this.nodeRoot),t.x=c.default.rand.randomArray(this.arr_X),t.y=2e3,cc.tween(t).to(8,{y:-2e3}).call(function(){c.default.pool.setNode(t)}).start()},e.prototype._touchStart=function(t){this.p_touchStartX=t.getLocationX(),this._touchTime=(new Date).getTime()},e.prototype._touchEnd=function(t){if(1!=this.isEnd){var e=(new Date).getTime(),o=t.getLocationX()-this.p_touchStartX;if(o>150)this.roleX_now=Math.min(this.roleX_now+1,2),cc.tween(this.role.node).to(.3,{x:this.arr_X[this.roleX_now]}).start();else if(o<-150)this.roleX_now=Math.max(this.roleX_now-1,0),cc.tween(this.role.node).to(.3,{x:this.arr_X[this.roleX_now]}).start();else if(e-this._touchTime<160)return void this.role.playFlyAnim()}},r([d(cc.Node)],e.prototype,"nodeRoot",void 0),r([d(cc.Node)],e.prototype,"btnClick",void 0),r([d(l.default)],e.prototype,"role",void 0),r([d([cc.Prefab])],e.prototype,"arrItem",void 0),r([d(cc.Label)],e.prototype,"lblScore",void 0),r([p],e)}(a.default);o.default=h,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID17_Role":"ID17_Role"}],ID18_BoxMgr:[function(t,e,o){"use strict";cc._RF.push(e,"7e973dZsXpD0KYtg5Q6Ot9K","ID18_BoxMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("./ID18_Box"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeParent=null,e.pre_box=null,e.mMaxY=0,e.mMemMinY=0,e.mStartY=350,e.mNewBoxs=[],e.mMemBoxs=[],e.mMaxOffset=3,e.mCurrOffset=0,e.mMaxZIndex=1e3,e.mCurrZIndex=0,e.mIntervalX=0,e.mIntervalY=0,e.mStandBox=null,e.mIsNew=!0,e}return i(e,t),e.prototype.onLoad=function(){this.mMaxY=3*cc.winSize.height+this.pre_box.data.height/2,this.mMemMinY=2*cc.winSize.height-this.pre_box.data.height/2,this.mIntervalX=.5*this.pre_box.data.width,this.mIntervalY=.5*this.pre_box.data.height},e.prototype.start=function(){},e.prototype.getBox=function(){return c.default.pool.getNode(this.pre_box)},e.prototype.putBox=function(t){null!=t&&c.default.pool.setNode(t)},e.prototype.clearAll=function(){if(null!=this.mMemBoxs){for(var t=0;t<this.mMemBoxs.length;t++)this.putBox(this.mMemBoxs[t]);this.mMemBoxs=[]}if(null!=this.mNewBoxs){for(t=0;t<this.mNewBoxs.length;t++)this.putBox(this.mNewBoxs[t]);this.mNewBoxs=[]}},e.prototype.reloadAll=function(){for(var t=0;t<this.mNewBoxs.length;t++)this.putBox(this.mNewBoxs[t]);if(this.mNewBoxs=[],this.mCurrZIndex=this.mMaxZIndex,this.mMemBoxs.length<=0)this.mIsNew=!0,this.mCurrOffset=0,this.reloadNew(this.mStartY);else{for(this.mIsNew=!1,t=0;t<this.mMemBoxs.length;)this.mMemBoxs[t].y-=2*cc.winSize.height,this.mMemBoxs[t].zIndex=this.mCurrZIndex,this.mMemBoxs[t].getComponent(a.default).setNum(this.mCurrZIndex),this.mCurrZIndex--,this.mNewBoxs.push(this.mMemBoxs[t]),t++;var e=this.mMemBoxs[this.mMemBoxs.length-1];this.mMemBoxs=[],this.mCurrOffset=e.getComponent(a.default).getOffset(),cc.log("CurrOffset",this.mCurrOffset),this.reloadNew(e.y)}},e.prototype.reloadNew=function(t){for(var e=t+this.mIntervalY;e<this.mMaxY;){var o=this.getBox();null==this.mStandBox&&(this.mStandBox=o);var n=this.getRandom();this.mIsNew||(this.mCurrOffset+n>this.mMaxOffset?this.mCurrOffset-=n:this.mCurrOffset+n<-this.mMaxOffset?this.mCurrOffset-=n:this.mCurrOffset+=n),this.mIsNew=!1;var i=o.getComponent(a.default);o.x=this.mCurrOffset*this.mIntervalX,o.y=e,o.zIndex=this.mCurrZIndex,i.setNum(this.mCurrZIndex),this.mCurrZIndex--,o.parent=this.nodeParent,e>=this.mMemMinY?(this.mMemBoxs.length>0?(this.mMemBoxs[this.mMemBoxs.length-1].getComponent(a.default).setNext(o),i.setPrev(this.mMemBoxs[this.mMemBoxs.length-1])):(this.mNewBoxs[this.mNewBoxs.length-1].getComponent(a.default).setNext(o),i.setPrev(this.mNewBoxs[this.mNewBoxs.length-1])),this.mMemBoxs.push(o)):(this.mNewBoxs.length>0?(this.mNewBoxs[this.mNewBoxs.length-1].getComponent(a.default).setNext(o),i.setPrev(this.mNewBoxs[this.mNewBoxs.length-1])):i.setPrev(null),this.mNewBoxs.push(o)),e+=this.mIntervalY}},e.prototype.getRandom=function(){return Math.random()<.5?-1:1},e.prototype.getIntervalX=function(){return this.mIntervalX},e.prototype.getIntervalY=function(){return this.mIntervalY},e.prototype.getStandBox=function(){return this.mStandBox},r([u(cc.Node)],e.prototype,"nodeParent",void 0),r([u(cc.Prefab)],e.prototype,"pre_box",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../core/app":"app","./ID18_Box":"ID18_Box"}],ID18_Box:[function(t,e,o){"use strict";cc._RF.push(e,"d09e5NBKMFAibNz98mD7maq","ID18_Box");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtNum=null,e.mPrevBox=null,e.mNextBox=null,e.mOffset=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.setOffset=function(t){this.mOffset=t},e.prototype.getOffset=function(){return this.mOffset},e.prototype.setPrev=function(t){this.mPrevBox=t},e.prototype.getPrev=function(){return this.mPrevBox},e.prototype.setNext=function(t){this.mNextBox=t},e.prototype.getNext=function(){return this.mNextBox},e.prototype.setNum=function(t){this.txtNum.string=""+t},e.prototype.down=function(t){var e=this;this.node.runAction(cc.sequence(cc.moveBy(.4,0,t),cc.callFunc(function(){c.default.pool.setNode(e.node)})))},r([l(cc.Label)],e.prototype,"txtNum",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID18_Robot:[function(t,e,o){"use strict";cc._RF.push(e,"271bf5w5iNF2bd5zzPMVddO","ID18_Robot");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c,a=t("../../core/app"),s=t("./ID18_Box"),l=cc._decorator,u=l.ccclass,p=l.property;(function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"})(c||(c={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spfLeft=null,e.spfRight=null,e.mPrevNode=null,e.mCurrNode=null,e.mNextNode=null,e.mOffset=cc.v3(11,120),e.mRobotFace=-1,e.mJumping=!1,e.mPoints=0,e}return i(e,t),e.prototype.start=function(){this.node.zIndex=2e4},e.prototype.turnLeft=function(){this.mRobotFace=c.Left,this.node.getComponent(cc.Sprite).spriteFrame=this.spfLeft},e.prototype.turnRight=function(){this.mRobotFace=c.Right,this.node.getComponent(cc.Sprite).spriteFrame=this.spfRight},e.prototype.setNext=function(t){this.mNextNode=t},e.prototype.setCurrent=function(t){this.mCurrNode=t,this.node.position=this.mCurrNode.position.add(this.mOffset)},e.prototype.getCurrent=function(){return this.mCurrNode},e.prototype.jump=function(){var t=this;if(null!=this.mNextNode){this.mJumping=!0;var e=this.node.position,o=this.mNextNode.position;if(o=o.add(this.mOffset),this.mRobotFace==c.Left&&o.x<e.x||this.mRobotFace==c.Right&&o.x>e.x){var n=cc.jumpTo(.2,cc.v2(o),30,1);cc.tween(this.node).then(n).call(function(){t.mPrevNode=t.mCurrNode,t.mCurrNode=t.mNextNode,t.mNextNode=t.mCurrNode.getComponent(s.default).getNext(),t.mJumping=!1,null!=t.mPrevNode&&(t.mPrevNode.getComponent(s.default).down(-t.getDownY(t.mPrevNode)),t.mPrevNode=null),a.default.event.emit(a.default.eName.event_addScore)}).start()}else{var i=e;i.x+=o.x>e.x?-130:130,i.y+=65;var r=this.node;n=cc.jumpTo(.2,cc.v2(i),30,1),cc.tween(r).then(n).call(function(){t.mJumping=!1,null!=t.mPrevNode&&(t.mPrevNode.getComponent(s.default).down(-t.getDownY(t.mPrevNode)),t.mPrevNode=null)}).to(.5,{position:r.position.add(cc.v3(0,-this.getDownY(r)))}).call(function(){a.default.event.emit(a.default.eName.event_gameEnd)}).start()}}},e.prototype.getDownY=function(t){return t.parent.convertToWorldSpaceAR(t.position).y+t.height},e.prototype.isJumping=function(){return this.mJumping},r([p(cc.SpriteFrame)],e.prototype,"spfLeft",void 0),r([p(cc.SpriteFrame)],e.prototype,"spfRight",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../core/app":"app","./ID18_Box":"ID18_Box"}],ID18_View:[function(t,e,o){"use strict";cc._RF.push(e,"371a7vwDGdBF43XmsQ2TNZQ","ID18_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("../../data/Common"),l=t("./ID18_Box"),u=t("./ID18_BoxMgr"),p=t("./ID18_Robot"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeBg=null,e.nodeRobot=null,e.BoxMgr=null,e.lblScore=null,e.btnClick=null,e.isEnd=!1,e._score=0,e.clicktime=0,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnClick],this.arr_event=[{func:this.addScore,name:c.default.eName.event_addScore},{func:this.gameEnd,name:c.default.eName.event_gameEnd}],t.prototype.show.apply(this,e),this._score=0,this.reloadBoxs()},e.prototype.click=function(t){var e=(new Date).getTime();switch(this.clicktime,s.Common.clickWaitTime,this.clicktime=e,t.target){case this.btnClick:if(1==this.isEnd)return;if(this.nodeRobot.isJumping())return;this.bgDown(),t.getLocationX()<this.node.width/2?this.robotJumpLeft():this.robotJumpRight()}},e.prototype.addScore=function(){this._score++,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.gameEnd=function(){this.isEnd=!0,c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log()},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.reloadBoxs=function(){var t=this.BoxMgr;t.reloadAll();var e=this.nodeRobot;if(null==e.getCurrent()){var o=t.getStandBox(),n=o.getComponent(l.default).getNext();e.setCurrent(o),e.setNext(n),n.x>o.x?e.turnRight():e.turnLeft()}else e.setCurrent(e.getCurrent())},e.prototype.robotJumpLeft=function(){var t=this.nodeRobot;t.turnLeft(),t.jump()},e.prototype.robotJumpRight=function(){var t=this.nodeRobot;t.turnRight(),t.jump()},e.prototype.bgDown=function(){var t=-cc.winSize.height/2-2*cc.winSize.height,e=this.BoxMgr.getIntervalY();this.nodeBg.y-e<=t&&(this.nodeBg.y+=2*cc.winSize.height,this.reloadBoxs()),cc.tween(this.nodeBg).to(.2,{position:this.nodeBg.position.add(cc.v3(0,-e))}).start()},r([f(cc.Node)],e.prototype,"nodeBg",void 0),r([f(p.default)],e.prototype,"nodeRobot",void 0),r([f(u.default)],e.prototype,"BoxMgr",void 0),r([f(cc.Label)],e.prototype,"lblScore",void 0),r([f(cc.Node)],e.prototype,"btnClick",void 0),r([h],e)}(a.default);o.default=_,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID18_Box":"ID18_Box","./ID18_BoxMgr":"ID18_BoxMgr","./ID18_Robot":"ID18_Robot"}],ID19_Role:[function(t,e,o){"use strict";cc._RF.push(e,"563d5DFwQdLiJtPWxBlKO4M","ID19_Role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arr_img0=[],e.arr_img1=[],e.nodeIcon=null,e.lbl_id=null,e.arr_leftP=[],e.arr_RightP=[],e.skin_index=0,e.seat=-1,e.isMe=!1,e._index=0,e._dt=0,e}return i(e,t),e.prototype.init=function(t,e,o){void 0===o&&(o=!1),this.arr_leftP=t,this.arr_RightP=e,this.skin_index=c.default.rand.limitInteger(0,this.arr_img0.length-1),this.arr_img0.forEach(function(t){t.active=!1}),this.arr_img1.forEach(function(t){t.active=!1}),this["arr_img"+this._index][this.skin_index].active=!0,this.nodeIcon.active=o,this.isMe=o},e.prototype.setMe=function(t){void 0===t&&(t=!1),this.nodeIcon.active=t,this.isMe=t},e.prototype.update=function(){this._dt=(this._dt+1)%6,0==this._dt&&(this["arr_img"+this._index][this.skin_index].active=!1,this._index=(this._index+1)%2,this["arr_img"+this._index][this.skin_index].active=!0)},e.prototype.move=function(t,e){if(void 0===e&&(e=!1),this.seat=t,this.lbl_id.string=this.seat+"",cc.Tween.stopAllByTarget(this.node),1!=e)o=(t<30?this.arr_leftP:this.arr_RightP)[t%30],cc.tween(this.node).to(.3,{position:o}).start();else{this.node.x=c.default.rand.randomArray([600,-600]),this.node.y=c.default.rand.limitInteger(-800,800);var o=(t<30?this.arr_leftP:this.arr_RightP)[t%30];cc.tween(this.node).to(c.default.rand.limitInteger(30,90)/100,{position:o}).start()}},e.prototype.onCollisionEnter=function(t,e){switch(t.node.name){case"obstacle":c.default.pool.setNode(e.node)}},r([l([cc.Node])],e.prototype,"arr_img0",void 0),r([l([cc.Node])],e.prototype,"arr_img1",void 0),r([l(cc.Node)],e.prototype,"nodeIcon",void 0),r([l(cc.Label)],e.prototype,"lbl_id",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID19_Timer:[function(t,e,o){"use strict";cc._RF.push(e,"97abaTPqM9E3YS2RS9pOS5m","ID19_Timer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node1=null,e.node2=null,e.node3=null,e}return i(e,t),e.prototype.playAnim=function(){return c(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return this.node.active=!0,this.node2.active=!1,this.node1.active=!1,this.node3.active=!0,[4,s.default.promise.sleep(1)];case 1:return t.sent(),this.node3.active=!1,this.node2.active=!0,[4,s.default.promise.sleep(1)];case 2:return t.sent(),this.node2.active=!1,this.node1.active=!0,[4,s.default.promise.sleep(1)];case 3:return t.sent(),this.node.active=!1,[2]}})})},r([p(cc.Node)],e.prototype,"node1",void 0),r([p(cc.Node)],e.prototype,"node2",void 0),r([p(cc.Node)],e.prototype,"node3",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../core/app":"app"}],ID19_View:[function(t,e,o){"use strict";cc._RF.push(e,"4ee01TlLF9FhL+3dKw4E/yu","ID19_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=t("../../data/Common"),p=t("./ID19_Role"),d=t("./ID19_Timer"),h=cc._decorator,f=h.ccclass,_=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arr_allSeat=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59],e.nodeBg1=null,e.nodeBg2=null,e.nodeRoot=null,e.pre_role=null,e.btn0=null,e.btn1=null,e.lbl_question=null,e.lbl_time=null,e.nodeObstacleL=null,e.nodeObstacleR=null,e.nodeQuestionBox=null,e.nodeAnswerBox=null,e.nodeTimer=null,e.nodeEffect_clickL=null,e.nodeEffect_clickR=null,e.isPlaying=!1,e._dt=10,e.arr_role=[],e.role=null,e.arr_seat=[],e.clicktime=0,e._frame=0,e.arr_leftP=[],e.arr_RightP=[],e.data_question=null,e._score=0,e.json_question=[{q:"\u5154\u5b50\u4f1a\u5c06\u81ea\u5df1\u7684\u6392\u6cc4\u7269\u5403\u6389?",a:1},{q:"\u52a8\u6f2b\u89d2\u8272\u7c73\u8001\u9f20\u6bcf\u53ea\u624b\u6e38\u56db\u6839\u624b\u6307?",a:1},{q:"\u54fa\u4e73\u52a8\u7269\u90fd\u662f\u80ce\u751f\u7684?",a:0},{q:"\u5403\u841d\u535c\u53ef\u6709\u6548\u63d0\u9ad8\u89c6\u529b?",a:1},{q:"\u868a\u5b50\u559c\u6b22\u53ee\u80ba\u6d3b\u91cf\u5927\u7684\u4eba?",a:1},{q:"\u9c7c\u7684\u8bb0\u5fc6\u53ea\u67097\u79d2?",a:0},{q:"\u4e0d\u5403\u65e9\u996d\u4f1a\u589e\u52a0\u60a3\u80c6\u7ed3\u77f3\u7684\u98ce\u9669?",a:1},{q:"\u829d\u9ebb\u9171\u6bd4\u725b\u5976\u7684\u542b\u9499\u91cf\u9ad8?",a:0},{q:"\u963f\u62c9\u4f2f\u6570\u5b57\u662f\u7531\u963f\u62c9\u4f2f\u4eba\u53d1\u660e\u7684?",a:0},{q:"\u559d\u9aa8\u5934\u6c64\u662f\u98df\u7597\u8865\u9499\u7684\u597d\u65b9\u6cd5?",a:0},{q:"\u9047\u9669\u65f6\u624b\u673a\u6ca1\u6709\u4fe1\u53f7\u53ef\u4ee5\u62e8112?",a:0},{q:"\u9a86\u9a7c\u5c06\u6c34\u5b58\u5728\u80c3\u91cc?",a:1},{q:"\u7528\u5927\u849c\u53ef\u4ee5\u68c0\u9a8c\u5730\u6c9f\u6cb9?",a:0},{q:"\u8c61\u7fa4\u7684\u9996\u9886\u90fd\u662f\u96cc\u6027?",a:1},{q:"\u6591\u9a6c\u662f\u957f\u7740\u9ed1\u6761\u7eb9\u7684\u767d\u9a6c?",a:0},{q:"\u8377\u5170\u8c46\u4ea7\u4e8e\u8377\u5170?",a:0},{q:"\u6210\u8bed\u9752\u6885\u7af9\u9a6c\u6e90\u4e8e\u674e\u767d\u7684\u4f5c\u54c1?",a:1},{q:"\u6728\u8033\u4e0d\u80fd\u8fdb\u884c\u5149\u5408\u4f5c\u7528?",a:0},{q:"\u868a\u5b50\u6709\u504f\u7231\u7684\u8840\u578b?",a:0},{q:"\u53d8\u8272\u9f99\u53d8\u8272\u662f\u4e3a\u4e86\u4fdd\u62a4\u81ea\u5df1?",a:0}],e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btn0,this.btn1],t.prototype.show.apply(this,e),this.playBgAnim(),u.Common.initCollisionSys(),this.init(),window.view19=this},e.prototype.click=function(t){var e=this,o=(new Date).getTime();if(!(o-this.clicktime<u.Common.clickWaitTime))switch(this.clicktime=o,t.target){case this.btn1:cc.tween(this.nodeEffect_clickR).set({active:!0,opacity:255}).to(.5,{opacity:0}).set({active:!1}).start();var n=this.arr_allSeat.filter(function(t){return 0==e.arr_seat.includes(t)&&t>=30});console.log(n),this.moveRole(this.role,s.default.rand.randomArray(n));break;case this.btn0:cc.tween(this.nodeEffect_clickL).set({active:!0,opacity:255}).to(.5,{opacity:0}).set({active:!1}).start(),n=this.arr_allSeat.filter(function(t){return 0==e.arr_seat.includes(t)&&t<30}),console.log(n),this.moveRole(this.role,s.default.rand.randomArray(n))}},e.prototype.update=function(t){0!=this.isPlaying&&(this._frame++,this._dt=Math.max(0,this._dt-t),this.lbl_time.string=Math.ceil(this._dt)+"",this._frame%4==0&&s.default.rand.limitInteger(1,100)>50&&this.randRoleMove(),this._dt<=0&&(this.isPlaying=!1,this.hideAnswer(),this.hideQuestion(),this.playObstacle(0!=this.data_question.a)))},e.prototype.init=function(){this.nodeRoot.getComponent(cc.Widget).updateAlignment();var t=this.nodeRoot.height;console.warn(t);var e=(t-110)/10;this.nodeRoot.removeAllChildren();for(var o=0;o<6;o++)for(var n=0;n<10;n++){var i=cc.v3(100*o-250,20+e*n);o<=2?this.arr_leftP.push(i):this.arr_RightP.push(i)}console.warn(this.arr_leftP),console.warn(this.arr_RightP),this.initRole()},e.prototype.addRole=function(t,e,o){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===o&&(o=!1),c(this,void 0,void 0,function(){var n,i;return a(this,function(r){switch(r.label){case 0:return[4,s.default.promise.sleep(e)];case 1:return r.sent(),(n=s.default.pool.getNode(this.pre_role))?(n.setParent(this.nodeRoot),(i=n.getComponent(p.default)).init(this.arr_leftP,this.arr_RightP,o),i.move(t,!0),this.arr_role.push(i),1==o&&(this.role=i),[2]):[2]}})})},e.prototype.showQuestion=function(t){var e=this,o=this.nodeQuestionBox;o.active=!0,this.data_question=t,this.lbl_question.string=t.q,cc.tween(o).set({x:1500}).to(.3,{x:0},{easing:cc.easing.backOut}).call(function(){e._dt=10,e.isPlaying=!0}).start()},e.prototype.hideQuestion=function(){var t=this.nodeQuestionBox;cc.tween(t).to(.3,{x:-1500}).start()},e.prototype.showAnswer=function(){this.nodeAnswerBox.active=!0},e.prototype.hideAnswer=function(){this.nodeAnswerBox.active=!1},e.prototype.playBgAnim=function(){cc.tween(this.nodeBg1).repeatForever(cc.tween().set({y:-1506}).to(5,{y:0}).set({y:-1506})).start(),cc.tween(this.nodeBg2).repeatForever(cc.tween().set({y:0}).to(5,{y:1506}).set({y:0})).start()},e.prototype.moveRole=function(t,e){var o=t.seat;this.arr_seat=this.arr_seat.filter(function(t){return t!=o}),this.arr_seat.push(e),t.move(e)},e.prototype.playObstacle=function(t){var e=this;void 0===t&&(t=!0);var o=1==t?this.nodeObstacleL:this.nodeObstacleR;cc.tween(o).set({y:-1506}).to(10,{y:1506}).set({y:-1506}).call(function(){null==e||e.animComplete(t)}).start()},e.prototype.animComplete=function(t){this.arr_seat=1==t?this.arr_seat.filter(function(t){return t>=30}):this.arr_seat.filter(function(t){return t<30}),1!=this.checkFail()&&(this._score++,this.showAnswer(),this.showQuestion(s.default.rand.randomArray(this.json_question)))},e.prototype.checkFail=function(){return 0==this.arr_seat.includes(this.role.seat)&&(s.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"),this.log(),!0)},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.prototype.randRoleMove=function(){var t=this,e=this.arr_role.filter(function(t){return 0==t.isMe}),o=s.default.rand.randomArray(e),n=this.arr_allSeat.filter(function(e){return 0==t.arr_seat.includes(e)});this.moveRole(o,s.default.rand.randomArray(n))},e.prototype.initRole=function(){return c(this,void 0,void 0,function(){var t,e;return a(this,function(o){switch(o.label){case 0:for(this.nodeTimer.node.active=!1,this.nodeAnswerBox.active=!1,this.nodeQuestionBox.active=!1,t=[],e=0;e<60;e++)t.push(e);for(t=s.default.common.shuffle(t),e=0;e<30;e++)this.arr_seat.push(t[e]),this.addRole(t[e],s.default.rand.limitInteger(50,250)/100,0==e);return this.nodeTimer.playAnim(),[4,s.default.promise.sleep(3)];case 1:return o.sent(),null==this||this.showAnswer(),null==this||this.showQuestion(s.default.rand.randomArray(this.json_question)),[2]}})})},r([_(cc.Node)],e.prototype,"nodeBg1",void 0),r([_(cc.Node)],e.prototype,"nodeBg2",void 0),r([_(cc.Node)],e.prototype,"nodeRoot",void 0),r([_(cc.Prefab)],e.prototype,"pre_role",void 0),r([_(cc.Node)],e.prototype,"btn0",void 0),r([_(cc.Node)],e.prototype,"btn1",void 0),r([_(cc.Label)],e.prototype,"lbl_question",void 0),r([_(cc.Label)],e.prototype,"lbl_time",void 0),r([_(cc.Node)],e.prototype,"nodeObstacleL",void 0),r([_(cc.Node)],e.prototype,"nodeObstacleR",void 0),r([_(cc.Node)],e.prototype,"nodeQuestionBox",void 0),r([_(cc.Node)],e.prototype,"nodeAnswerBox",void 0),r([_(d.default)],e.prototype,"nodeTimer",void 0),r([_(cc.Node)],e.prototype,"nodeEffect_clickL",void 0),r([_(cc.Node)],e.prototype,"nodeEffect_clickR",void 0),r([f],e)}(l.default);o.default=y,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID19_Role":"ID19_Role","./ID19_Timer":"ID19_Timer"}],ID20_Item:[function(t,e,o){"use strict";cc._RF.push(e,"5b1d7710WZBbJd94seEPKX2","ID20_Item");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("./ID20_View"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arr_img=[],e.img_icon=null,e.index=-1,e.type=-1,e.row=-1,e.col=-1,e}return i(e,t),e.prototype.init=function(t,e,o){this.img_icon.spriteFrame=this.arr_img[e],this.index=t,this.type=e,this.col=this.index%o,this.row=Math.floor(this.index/o)},e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.click,this)},e.prototype.click=function(){c.default.event.emit(a.default.event_item_click,this.index,this.row,this.col,this.type)},e.prototype.clear=function(){this.type=-1,this.node.opacity=0},r([u([cc.SpriteFrame])],e.prototype,"arr_img",void 0),r([u(cc.Sprite)],e.prototype,"img_icon",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../core/app":"app","./ID20_View":"ID20_View"}],ID20_View:[function(t,e,o){"use strict";cc._RF.push(e,"7ca85W1sqZNw5o3586nz14A","ID20_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../../core/app"),u=t("../../core/base/BaseView"),p=t("./ID20_core"),d=t("./ID20_Item"),h=cc._decorator,f=h.ccclass,_=h.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRoot=null,e.pre_item=null,e.graphics=null,e.lblScore=null,e.lblTime=null,e.arr_res=[],e.arr_item=[],e.max_col=0,e.p1=null,e.p2=null,e._isPlayAnim=!1,e._t=30,e._score=0,e._isBegin=!1,e._isEnd=!1,e}var o;return i(e,t),o=e,e.prototype.show=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.arr_event=[{func:this.item_click,name:o.event_item_click}],t.prototype.show.apply(this,e);for(var i=l.default.common.shuffle([0,1,2,3,4,5,6,7,8,9]).slice(0,7),r=6,c=8,a=r*c,s=a/2,u=[],p=0;p<s;p++){var h=l.default.rand.randomArray(i);u.push(h),u.push(h)}u=l.default.common.shuffle(u);var f=[];for(p=0;p<c;p++){var _=u.slice(p*r,p*r+r);f.push(_)}for(console.log(f),this.arr_res=f,this.max_col=r,p=0;p<a;p++){var y=l.default.pool.getNode(this.pre_item);y.setParent(this.nodeRoot);var m=y.getComponent(d.default);m.init(p,u[p],r),this.arr_item.push(m)}window.view=this},e.prototype.item_click=function(t,e,o){return c(this,void 0,void 0,function(){var t,n,i,r;return a(this,function(c){switch(c.label){case 0:return 1==this._isPlayAnim||1==this._isEnd?[2]:(this._isBegin=!0,this._isPlayAnim=!0,null!=this.p1?[3,1]:(this.p1=cc.v2(e,o),[3,4]));case 1:return this.p2=cc.v2(e,o),1!=p.ID20_core.canBeRemoved(this.p1,this.p2,this.arr_res)?[3,3]:(this.addScore(),t=this.p1.x,n=this.p1.y,i=this.p2.x,r=this.p2.y,this.arr_res[t][n]=-1,this.arr_res[i][r]=-1,this.draw(),[4,l.default.promise.sleep(.5)]);case 2:c.sent(),this.graphics.clear(),this.arr_item[this.max_col*this.p1.x+this.p1.y].clear(),this.arr_item[this.max_col*this.p2.x+this.p2.y].clear(),c.label=3;case 3:this.p1=null,this.p2=null,c.label=4;case 4:return this._isPlayAnim=!1,[2]}})})},e.prototype.draw=function(){var t=this.graphics;t.clear();var e=s(p.ID20_core.routes),o=e.shift();for(t.moveTo(96*o.y+48,-1*(89.25*o.x+44.625));e.length>0;){var n=e.shift();t.lineTo(96*n.y+48,-1*(89.25*n.x+44.625))}t.stroke(),e=s(p.ID20_core.routes);for(var i=0;i<e.length;i++){var r=e[i];t.circle(96*r.y+48,-1*(89.25*r.x+44.625),10),t.fill()}},e.prototype.addScore=function(){this._score++,this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.update=function(t){0!=this._isBegin&&1!=this._isEnd&&(this._t=Math.max(0,this._t-t),this.lblTime.string="\u5269\u4f59\u65f6\u95f4\uff1a"+Math.ceil(this._t),this._t<=0&&(this._isEnd=!0,this.log(),l.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f")))},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},e.event_item_click=Symbol(),r([_(cc.Node)],e.prototype,"nodeRoot",void 0),r([_(cc.Prefab)],e.prototype,"pre_item",void 0),r([_(cc.Graphics)],e.prototype,"graphics",void 0),r([_(cc.Label)],e.prototype,"lblScore",void 0),r([_(cc.Label)],e.prototype,"lblTime",void 0),o=r([f],e)}(u.default);o.default=y,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","./ID20_Item":"ID20_Item","./ID20_core":"ID20_core"}],ID20_core:[function(t,e,o){"use strict";cc._RF.push(e,"a0d34maChlIma0GT7uHTn3N","ID20_core");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0}),o.ID20_core=void 0;var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.canBeRemoved=function(t,e,o){return this.routes=[e],this.isSamePoint(t,e)?(this.routes=[],!1):o[t.x][t.y]!==o[e.x][e.y]?(this.routes=[],!1):this.isHorizon(t,e,o)?(this.routes.push(t),!0):this.isVertical(t,e,o)?(this.routes.push(t),!0):this.isTurnOnce(t,e,o)?(this.routes.push(t),!0):this.isTurnTwice(t,e,o)?(this.routes.push(t),!0):(this.routes=[],!1)},e.isHorizon=function(t,e,o){if(t.y!==e.y)return!1;for(var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=n+1;r<i;++r)if(this.isBlocked(cc.v2(r,t.y),o))return!1;return!0},e.isVertical=function(t,e,o){if(t.x!==e.x)return!1;for(var n=Math.min(t.y,e.y),i=Math.max(t.y,e.y),r=n+1;r<i;++r)if(this.isBlocked(cc.v2(t.x,r),o))return!1;return!0},e.isTurnOnce=function(t,e,o){var n=cc.v2(t.x,e.y),i=cc.v2(e.x,t.y);return!this.isBlocked(n,o)&&(this.isHorizon(n,e,o)&&this.isVertical(n,t,o)||this.isVertical(n,e,o)&&this.isHorizon(n,t,o))?(this.routes.push(n),!0):!(this.isBlocked(i,o)||!(this.isHorizon(i,e,o)&&this.isVertical(i,t,o)||this.isVertical(i,e,o)&&this.isHorizon(i,t,o))||(this.routes.push(i),0))},e.isTurnTwice=function(t,e,o){var n;if(t.y===e.y)for(var i=o[0].length-1;i>=0;--i)if(n=cc.v2(t.x,i),!this.isBlocked(n,o)&&this.isVertical(n,t,o)&&this.isTurnOnce(n,e,o))return this.routes.push(n),!0;if(t.x===e.x)for(var r=0;r<o.length;++r)if(n=cc.v2(r,t.y),!this.isBlocked(n,o)&&this.isHorizon(n,t,o)&&this.isTurnOnce(n,e,o))return this.routes.push(n),!0;for(var c=o.length-1;c>=0;--c)if(n=cc.v2(c,t.y),!this.isBlocked(n,o)&&this.isHorizon(n,t,o)&&this.isTurnOnce(n,e,o))return this.routes.push(n),!0;for(i=o[0].length-1;i>=0;--i)if(n=cc.v2(t.x,i),!this.isBlocked(n,o)&&this.isVertical(n,t,o)&&this.isTurnOnce(n,e,o))return this.routes.push(n),!0;return!1},e.isBlocked=function(t,e){return e[t.x][t.y]>-1},e.isSamePoint=function(t,e){return t.x===e.x&&t.y===e.y},e.routes=[],r([a],e)}(cc.Component));o.ID20_core=s,cc._RF.pop()},{}],ID21_Fruit:[function(t,e,o){"use strict";cc._RF.push(e,"fbe4fc07pNHLoTCqIgfpqAe","ID21_Fruit");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(){c.default.pool.setNode(this.node),c.default.event.emit(c.default.eName.event_addScore)},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../core/app":"app"}],ID21_Roulette:[function(t,e,o){"use strict";cc._RF.push(e,"ea8f7uzQ/ZMaY1w1R4JwcXk","ID21_Roulette");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRoot=null,e.arr_prefab=[],e.dial_rotation=0,e}return i(e,t),e.prototype.init=function(t){this.arr_prefab=t;for(var e=[],o=0;o<this.nodeRoot.childrenCount;o++){var n=this.nodeRoot.children[o],i=cc.v2(n.x,n.y);e.push(i)}for(this.nodeRoot.removeAllChildren(),o=0;o<e.length;o++)(n=c.default.pool.getNode(this.arr_prefab[0])).setParent(this.nodeRoot),n.setPosition(cc.v3(e[o]))},e.prototype.playDial=function(){var t=this,e=c.default.rand.limitInteger(70,520),o=c.default.rand.randomArray([1,-1]);this.dial_rotation=this.nodeRoot.angle+o*e;var n,i=c.default.rand.limitInteger(1,100);n=i<20?cc.easing.quadIn:i<40?cc.easing.backOut:cc.easing.smooth;var r=e*c.default.rand.limitInteger(7,15)/1e3;cc.tween(this.nodeRoot).to(r,{angle:this.dial_rotation},{easing:n}).call(function(){t.playDial()}).start()},e.prototype.check=function(){return this.nodeRoot.childrenCount},r([l(cc.Node)],e.prototype,"nodeRoot",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID21_View:[function(t,e,o){"use strict";cc._RF.push(e,"846d79CkwhC86veB8PZP7n2","ID21_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("../../data/Common"),l=t("./ID21_Roulette"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeTarget=null,e.pre_fruit=[],e.roulette=null,e.btnClick=null,e.nodeKnife=null,e.lbl_Score=null,e.clicktime=0,e._isRun=!1,e._score=0,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnClick],this.arr_event=[{name:c.default.eName.event_addScore,func:this.addScore}],t.prototype.show.apply(this,e),s.Common.initCollisionSys(),this.roulette.init(this.pre_fruit),this.roulette.playDial(),this.initKnife(),window.view=this},e.prototype.click=function(t){var e=(new Date).getTime();if(!(e-this.clicktime<s.Common.clickWaitTime))switch(this.clicktime=e,t.target){case this.btnClick:if(1==this._isRun)return;this.playKnifeAnim()}},e.prototype.initKnife=function(){this._isRun=!1,cc.Tween.stopAllByTarget(this.nodeKnife),this.nodeKnife.y=-1*(this.node.height/2-200),this.nodeKnife.angle=0},e.prototype.playKnifeAnim=function(t){var e=this;void 0===t&&(t=1),this._isRun=!0;var o=this.nodeKnife;cc.tween(o).to(t,{y:1500}).call(function(){e.initKnife()}).start(),cc.tween(o).repeatForever(cc.tween().to(.3,{angle:359}).set({angle:0})).start()},e.prototype.addScore=function(){this._score++,this.lbl_Score.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score,0==this.roulette.check()&&(this.log(),c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f"))},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},r([d(cc.Node)],e.prototype,"nodeTarget",void 0),r([d([cc.Prefab])],e.prototype,"pre_fruit",void 0),r([d(l.default)],e.prototype,"roulette",void 0),r([d(cc.Node)],e.prototype,"btnClick",void 0),r([d(cc.Node)],e.prototype,"nodeKnife",void 0),r([d(cc.Label)],e.prototype,"lbl_Score",void 0),r([p],e)}(a.default);o.default=h,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID21_Roulette":"ID21_Roulette"}],ID22_Role:[function(t,e,o){"use strict";cc._RF.push(e,"b6a86lIAghL+KpcGzFNgFlU","ID22_Role");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onCollisionEnter=function(t){switch(console.error(t.name),t.node.name){case"score":c.default.pool.setNode(t.node),c.default.event.emit(c.default.eName.event_addScore);break;default:c.default.event.emit(c.default.eName.event_gameEnd)}},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../../core/app":"app"}],ID22_View:[function(t,e,o){"use strict";cc._RF.push(e,"04e67opLERBvKhssVG4F2RN","ID22_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("../../data/Common"),l=t("./ID22_model"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRoot=null,e.pre_model=null,e.nodeRole=null,e.btnClick=null,e.lbl_Score=null,e.model_count=0,e.clicktime=0,e.allow_type=0,e._stepCount=0,e.isEnd=!1,e._score=0,e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.arr_btn=[this.btnClick],this.arr_event=[{name:c.default.eName.event_addScore,func:this.addScore},{name:c.default.eName.event_gameEnd,func:this.gameEnd}],t.prototype.show.apply(this,e),this.initRole(),s.Common.initCollisionSys(),this.addModel(!0)},e.prototype.addModel=function(t){void 0===t&&(t=!1);var e=c.default.pool.getNode(this.pre_model);e.setParent(this.nodeRoot),e.x=0,e.y=2010*this.model_count*-1,e.getComponent(l.default).init(t),this.model_count++},e.prototype.click=function(t){switch(t.target){case this.btnClick:if(1==this.isEnd)return;this.allow_type=t.touch.getLocationX()<375?0:1,this.setRole(),this.moveBg()}},e.prototype.setRole=function(){switch(this._stepCount++,this._stepCount%20&&this.addModel(),this.allow_type){case 0:this.nodeRole.x=-300,this.nodeRole.scaleX=1;break;case 1:this.nodeRole.x=300,this.nodeRole.scaleX=-1}},e.prototype.moveBg=function(){this.nodeRoot.y+=100.5},e.prototype.initRole=function(){this.nodeRole.x=300,this.nodeRole.scaleX=-1,this.nodeRole.y=-351.75},e.prototype.gameEnd=function(){this.isEnd=!0,this.log(),c.default.eventObj.toast("\u6e38\u620f\u7ed3\u675f")},e.prototype.addScore=function(){this._score++,this.lbl_Score.string="\u5f53\u524d\u5f97\u5206\uff1a"+this._score},e.prototype.log=function(){console.log(" === === === === === === === === === === === === === === === "),console.log("\u5f97\u5206\uff1a",this._score),console.log(" === === === === === === === === === === === === === === === ")},r([d(cc.Node)],e.prototype,"nodeRoot",void 0),r([d(cc.Prefab)],e.prototype,"pre_model",void 0),r([d(cc.Node)],e.prototype,"nodeRole",void 0),r([d(cc.Node)],e.prototype,"btnClick",void 0),r([d(cc.Label)],e.prototype,"lbl_Score",void 0),r([p],e)}(a.default);o.default=h,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID22_model":"ID22_model"}],ID22_model:[function(t,e,o){"use strict";cc._RF.push(e,"bbd6647tkVAxoSFlb1RqSK2","ID22_model");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRootL=null,e.nodeRootR=null,e.pre_knife=null,e.pre_food=null,e}return i(e,t),e.prototype.init=function(t){void 0===t&&(t=!1);for(var e=[],o=[],n=0;n<20;n++)1==c.default.rand.limitInteger(1,2)?(e.push(c.default.rand.limitInteger(0,100)>70?2:0),o.push(1)):(e.push(1),o.push(c.default.rand.limitInteger(0,100)>70?2:0));if(1==t)for(n=0;n<5;n++)e[n]=0,o[n]=0;for(n=0;n<e.length;n++){var i=e[n];0!=e[n]&&((r=c.default.pool.getNode(1==i?this.pre_food:this.pre_knife)).setParent(this.nodeRootL),r.x=0,r.y=-1*(50.25+100.5*n))}for(n=0;n<o.length;n++){var r;0!=(i=o[n])&&((r=c.default.pool.getNode(1==i?this.pre_food:this.pre_knife)).setParent(this.nodeRootR),r.x=0,r.y=-1*(50.25+100.5*n))}},r([l(cc.Node)],e.prototype,"nodeRootL",void 0),r([l(cc.Node)],e.prototype,"nodeRootR",void 0),r([l(cc.Prefab)],e.prototype,"pre_knife",void 0),r([l(cc.Prefab)],e.prototype,"pre_food",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../core/app":"app"}],ID23_AnimUtils:[function(t,e,o){"use strict";cc._RF.push(e,"809faV6jbZBKbU8BgUiXuqg","ID23_AnimUtils"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){},cc._RF.pop()},{}],ID23_Common:[function(t,e,o){"use strict";cc._RF.push(e,"db1ee22bpNOA6oGEflcMj+i","ID23_Common");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./ID23_Config"),c=t("./ID23_Core"),a=function(){function t(){}return t.initData=function(t){return this.score=0,this.layer=t,this.board=[[0,0,0,0],[0,0,4,0],[0,2,0,0],[0,0,0,0]],this.conflictedArr=[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]],this.isMoving=!1,this.board},t.getBoard=function(){return this.board},t.getNumber=function(t,e){return this.board[t][e]},t.getConflited=function(t,e){return this.conflictedArr[t][e]},t.setConflited=function(t,e,o){this.conflictedArr[t][e]=o},Object.defineProperty(t,"randOneNumber",{get:function(){for(var t=this.board,e=Math.floor(4*Math.random()),o=Math.floor(4*Math.random()),n=0;n<50&&0!=t[e][o];)e=Math.floor(4*Math.random()),o=Math.floor(4*Math.random()),n++;if(50==n)for(var i=0;i<4;i++)for(var r=0;r<4;r++)0==t[i][r]&&(e=i,o=r);var c=Math.random()<.5?2:4;return t[e][o]=c,{randx:e,randy:o,randNumber:c}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noSpace",{get:function(){for(var t=this.board,e=0;e<4;e++)for(var o=0;o<4;o++)if(0==t[e][o])return!1;return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noMove",{get:function(){return!(this.canMoveLeft||this.canMoveRight||this.canMoveUp||this.canMoveDown)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isGameOver",{get:function(){return this.noSpace&&this.noMove},enumerable:!1,configurable:!0}),t.noBlockHorizontal=function(t,e,o,n){if(e==o-1)return!0;for(var i=e+1;i<o;i++){if(0!=n[t][i])return!1;if(i==o-1)return!0}},t.noBlockVertical=function(t,e,o,n){if(e==o-1)return!0;for(var i=e+1;i<o;i++){if(0!=n[i][t])return!1;if(i==o-1)return!0}},t.goto=function(t){return n(this,void 0,void 0,function(){return i(this,function(e){switch(e.label){case 0:return this.delScore=0,this.isMoving?(console.warn("\u6b63\u5728\u79fb\u52a8\uff0c\u4e0d\u80fd\u8fdb\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c"),[2]):t!==r.default.DIRECTOR.LEFT?[3,3]:1!=this.canMoveLeft?[3,2]:(this.isMoving=!0,[4,this.layer.moveLeft()]);case 1:e.sent(),this.nextRound(),e.label=2;case 2:return[3,13];case 3:return t!==r.default.DIRECTOR.RIGHT?[3,6]:1!=this.canMoveRight?[3,5]:(this.isMoving=!0,[4,this.layer.moveRight()]);case 4:e.sent(),this.nextRound(),e.label=5;case 5:return[3,13];case 6:return t!==r.default.DIRECTOR.UP?[3,9]:1!=this.canMoveUp?[3,8]:(this.isMoving=!0,[4,this.layer.moveUp()]);case 7:e.sent(),this.nextRound(),e.label=8;case 8:return[3,13];case 9:return t!==r.default.DIRECTOR.DOWN?[3,12]:1!=this.canMoveDown?[3,11]:(this.isMoving=!0,[4,this.layer.moveDown()]);case 10:e.sent(),this.nextRound(),e.label=11;case 11:return[3,13];case 12:this.isMoving=!1,e.label=13;case 13:return[2]}})})},Object.defineProperty(t,"canMoveDown",{get:function(){for(var t=this.board,e=0;e<4;e++)for(var o=2;o>=0;o--)if(0!=t[o][e]&&(0==t[o+1][e]||t[o+1][e]==t[o][e]))return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"canMoveLeft",{get:function(){for(var t=this.board,e=0;e<4;e++)for(var o=1;o<4;o++)if(0!=t[e][o]&&(0==t[e][o-1]||t[e][o-1]==t[e][o]))return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"canMoveRight",{get:function(){for(var t=this.board,e=0;e<4;e++)for(var o=2;o>=0;o--)if(0!=t[e][o]&&(0==t[e][o+1]||t[e][o+1]==t[e][o]))return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"canMoveUp",{get:function(){for(var t=this.board,e=0;e<4;e++)for(var o=1;o<4;o++)if(0!=t[o][e]&&(0==t[o-1][e]||t[o-1][e]==t[o][e]))return!0;return!1},enumerable:!1,configurable:!0}),t.resetConflict=function(){this.conflictedArr=[[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1,!1]]},t.nextRound=function(){return n(this,void 0,void 0,function(){var t=this;return i(this,function(){return this.resetConflict(),setTimeout(function(){return n(t,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return this.isMoving=!1,[4,this.layer.generateOneNumber()];case 1:return t.sent(),this.isGameOver&&this.layer.gameOver(),[2]}})})},150),[2]})})},t.getPosX=function(t,e){return(e-2)*(this.cellSpace+20)+this.cellSpace/2+10},t.getPosY=function(t){return-(t-1)*(this.cellSpace+20)+this.cellSpace/2+10},t.getPos=function(t,e){return cc.v2(this.getPosX(t,e),this.getPosY(t,e))},t.addScore=function(t){this.score+=t,this.layer.addScore(t),this.layer.updateScore(this.score)},t.addScoreNew=function(){this.score+=this.delScore,this.layer.addScore(this.delScore),this.layer.updateScore(this.score),this.delScore=0},t.getBestScore=function(){return 0},t.setBestScore=function(){},t.newGame=function(){this.layer.newGame()},t.getNumberBackgroundColor=function(t){switch(t){case 2:return"#eee4da";case 4:return"#ede0c8";case 8:return"#f2b179";case 16:return"#f59563";case 32:return"#f67c5f";case 64:return"#f65e3b";case 128:return"#edcf72";case 256:return"#edcc61";case 512:return"#99cc00";case 1024:return"#33b5e5";case 2048:return"#0099cc";case 4096:return"#aa66cc";case 8192:return"#9933cc";default:return"#000000"}},t.getNumberColor=function(t){return t<=4?"#776e65":"ffffff"},t.showNumberWithAnimation=function(e,o,n,i){return new Promise(function(r){e.getComponent(c.default).setNumber(i),e.stopAllActions(),e.runAction(cc.sequence(cc.callFunc(function(){e.setPosition(t.getPos(o,n)),e.opacity=0}),cc.fadeIn(.05),cc.callFunc(r)))})},t.showMoveAnimation=function(e,o,n,i,r,c){return new Promise(function(a){var s=t.getPos(o,n),l=t.getPos(i,r);e.active=!0,e.stopAllActions();var u=cc.sequence(cc.moveTo(.1,cc.v2(l.x,l.y)),cc.callFunc(function(){e.setPosition(s),e.active=!1,c&&c(i,r),a(!0)}));e.runAction(u)})},t.board=new Array,t.conflictedArr=null,t.layer=null,t.score=0,t.bestScore=0,t.isMoving=!1,t.delScore=0,t.cellSpace=125,t}();o.default=a,cc._RF.pop()},{"./ID23_Config":"ID23_Config","./ID23_Core":"ID23_Core"}],ID23_Config:[function(t,e,o){"use strict";cc._RF.push(e,"90f01wtnjZBbotzM/eLT1Vb","ID23_Config"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.version="1.0.2",t.DIRECTOR=cc.Enum({UP:0,DOWN:1,LEFT:2,RIGHT:3}),t.SHARE_IMG="",t}();o.default=n,cc._RF.pop()},{}],ID23_Core:[function(t,e,o){"use strict";cc._RF.push(e,"2da9aaSH6RB9YEJwBj2kk+Q","ID23_Core");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./ID23_Common"),a=cc._decorator,s=a.ccclass,l=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e._number=0,e}return i(e,t),e.prototype.setNumber=function(t){this._number=t,this.updateUI()},e.prototype.updateUI=function(){this.updateVisible(),this.updateBgColor(),this.updateNumberColor(),this.updateNumber()},e.prototype.updateVisible=function(){this.node.active=0!==this._number},e.prototype.updateBgColor=function(){var t=c.default.getNumberBackgroundColor(this._number);this.node.color=(new cc.Color).fromHEX(t)},e.prototype.updateNumberColor=function(){var t=c.default.getNumberColor(this._number);this.label.color=(new cc.Color).fromHEX(t)},e.prototype.updateNumber=function(){this.label.getComponent(cc.Label).string=this._number+""},r([l(cc.Node)],e.prototype,"label",void 0),r([s],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./ID23_Common":"ID23_Common"}],ID23_TouchCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"7f766X6k6JHI5DV4ybnbEFW","ID23_TouchCtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./ID23_Common"),a=t("./ID23_Config"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startPos=null,e.defaultLen=30,e}return i(e,t),e.prototype.onEnable=function(){this.onListen()},e.prototype.onDisable=function(){this.offListen()},e.prototype.onListen=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.offListen=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.touchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.touchMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.touchCancel,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.touchStart=function(t){this.startPos=t.getLocation()},e.prototype.touchMove=function(){},e.prototype.touchEnd=function(t){var e=t.getLocation(),o=(this.startPos,e.x-this.startPos.x),n=e.y-this.startPos.y;this.checkDirector(t,o,n),this.startPos=null},e.prototype.touchCancel=function(){},e.prototype.onKeyUp=function(t){switch(t.keyCode){case cc.macro.KEY.w:case cc.macro.KEY.up:this.goto(a.default.DIRECTOR.UP);break;case cc.macro.KEY.s:case cc.macro.KEY.down:this.goto(a.default.DIRECTOR.DOWN);break;case cc.macro.KEY.a:case cc.macro.KEY.left:this.goto(a.default.DIRECTOR.LEFT);break;case cc.macro.KEY.d:case cc.macro.KEY.right:this.goto(a.default.DIRECTOR.RIGHT)}},e.prototype.checkDirector=function(t,e,o){Math.abs(e)<this.defaultLen&&Math.abs(o)<this.defaultLen||(Math.abs(e)>Math.abs(o)?e>0?this.goto(a.default.DIRECTOR.RIGHT):this.goto(a.default.DIRECTOR.LEFT):o>0?this.goto(a.default.DIRECTOR.UP):this.goto(a.default.DIRECTOR.DOWN))},e.prototype.goto=function(t){c.default.goto(t)},r([u(cc.Vec2)],e.prototype,"startPos",void 0),r([u(cc.Float)],e.prototype,"defaultLen",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./ID23_Common":"ID23_Common","./ID23_Config":"ID23_Config"}],ID23_View:[function(t,e,o){"use strict";cc._RF.push(e,"cbad0UPtx5CIasWCmU6hFg8","ID23_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("../../core/base/BaseView"),u=t("./ID23_Common"),p=t("./ID23_Core"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.pre_core=null,e.nodeCareBgBox=null,e.pre_coreBg=null,e.coreArr=[],e.actArr=[],e.lblScore=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.prototype.show.apply(this,e),this.newGame(),window.view=this},e.prototype.newGame=function(){return c(this,void 0,void 0,function(){return a(this,function(){return this.updateBestScore(u.default.getBestScore()),this.updateScore(0),this.initCoreBg(),this.init(),this.updatePanel(),[2]})})},e.prototype.initCoreBg=function(){for(var t=0;t<4;t++)for(var e=0;e<4;e++){var o=u.default.getPosX(t,e),n=u.default.getPosY(t,e),i=cc.instantiate(this.pre_coreBg);i.x=o,i.y=n,i.setParent(this.nodeCareBgBox)}},e.prototype.init=function(){this.panel.destroyAllChildren();for(var t=u.default.initData(this),e=0;e<4;e++){this.coreArr[e]=[],this.actArr[e]=[];for(var o=0;o<4;o++){var n=u.default.getPosX(e,o),i=u.default.getPosY(e,o),r=s.default.pool.getNode(this.pre_core);r.x=n,r.y=i,r.getComponent(p.default).setNumber(t[e][o]),r.setParent(this.panel),this.coreArr[e][o]=r;var c=s.default.pool.getNode(this.pre_core);if(c.x=n,c.y=i,c.getComponent(p.default).setNumber(0),this.panel.addChild(c,30),this.actArr[e][o]=c,u.default.setConflited(e,o,!1),3===e&&3===o)return!0}}},e.prototype.updatePanel=function(){return c(this,void 0,void 0,function(){var t,e,o,n;return a(this,function(){for(t=0;t<4;t++)for(e=0;e<4;e++)if(o=this.coreArr[t][e],n=u.default.getNumber(t,e),o.getComponent(p.default).setNumber(n),u.default.setConflited(t,e,!1),3===t&&3===e)return[2,!0];return[2]})})},e.prototype.updateCore=function(t,e){var o=this.coreArr[t][e],n=u.default.getNumber(t,e);o.getComponent(p.default).setNumber(n)},e.prototype.updateActCore=function(t,e){var o=this.actArr[t][e],n=u.default.getNumber(t,e);o.getComponent(p.default).setNumber(n)},e.prototype.generateOneNumber=function(){return c(this,void 0,void 0,function(){var t,e,o,n,i;return a(this,function(r){switch(r.label){case 0:return u.default.noSpace?[2,!1]:(t=u.default.randOneNumber,e=t.randx,o=t.randy,n=t.randNumber,i=this.coreArr[e][o],[4,u.default.showNumberWithAnimation(i,e,o,n)]);case 1:return r.sent(),[2,!0]}})})},e.prototype.gameOver=function(){var t=u.default.getBestScore();u.default.score>=t&&(u.default.setBestScore(u.default.score),this.updateBestScore(u.default.score)),console.error("\u6e38\u620f\u7ed3\u675f")},e.prototype.moveLeft=function(){return c(this,void 0,void 0,function(){var t,e,o,n,i,r,c,s,l=this;return a(this,function(a){switch(a.label){case 0:t=u.default.getBoard(),e=u.default.conflictedArr,o=0,a.label=1;case 1:if(!(o<4))return[3,6];n=1,a.label=2;case 2:if(!(n<4))return[3,5];if(i=this.actArr[o][n],r=[],0!==t[o][n])for(c=0;c<n;c++){if(s=u.default.noBlockHorizontal(o,c,n,t),0==t[o][c]&&s){this.updateActCore(o,n),t[o][c]=t[o][n],t[o][n]=0,this.updateCore(o,n),u.default.showMoveAnimation(i,o,n,o,c,function(t,e){return l.updateCore(t,e)});break}if(0!==t[o][c]&&t[o][c]==t[o][n]&&s&&!e[o][c]){this.updateActCore(o,n),t[o][c]+=t[o][n],t[o][n]=0,e[o][c]=!0,this.updateCore(o,n),u.default.showMoveAnimation(i,o,n,o,c,function(t,e){return l.updateCore(t,e)}),u.default.addScore(t[o][c]/2);break}}return 3!=o||3!=n?[3,4]:0===r.length?[2,!1]:[4,Promise.all(r).then(function(){return!0})];case 3:a.sent(),a.label=4;case 4:return n++,[3,2];case 5:return o++,[3,1];case 6:return[2]}})})},e.prototype.moveRight=function(){return c(this,void 0,void 0,function(){var t,e,o,n,i,r,c,s,l,p=this;return a(this,function(a){switch(a.label){case 0:t=0,a.label=1;case 1:if(!(t<4))return[3,6];e=2,a.label=2;case 2:if(!(e>=0))return[3,5];if(o=this.actArr[t][e],n=u.default.getBoard(),i=u.default.conflictedArr,r=[],0!==n[t][e])for(c=3;c>e;c--){if(s=u.default.noBlockHorizontal(t,e,c,n),0==n[t][c]&&s){this.updateActCore(t,e),n[t][c]=n[t][e],n[t][e]=0,this.updateCore(t,e),l=u.default.showMoveAnimation(o,t,e,t,c,function(t,e){return p.updateCore(t,e)}),r.push(l);break}if(0!==n[t][c]&&n[t][c]==n[t][e]&&s&&!i[t][c]){this.updateActCore(t,e),n[t][c]+=n[t][e],n[t][e]=0,i[t][c]=!0,this.updateCore(t,e),l=u.default.showMoveAnimation(o,t,e,t,c,function(t,e){return p.updateCore(t,e)}),r.push(l),u.default.addScore(n[t][c]/2);break}}return 3!=t||3!=e?[3,4]:0===r.length?[2,!1]:[4,Promise.all(r).then(function(){return p.updatePanel(),!0})];case 3:a.sent(),a.label=4;case 4:return e--,[3,2];case 5:return t++,[3,1];case 6:return[2]}})})},e.prototype.moveUp=function(){return c(this,void 0,void 0,function(){var t,e,o,n,i,r,c,s,l,p=this;return a(this,function(a){switch(a.label){case 0:t=0,a.label=1;case 1:if(!(t<4))return[3,6];e=1,a.label=2;case 2:if(!(e<4))return[3,5];if(o=this.actArr[e][t],n=u.default.getBoard(),i=u.default.conflictedArr,r=[],0!=n[e][t])for(c=0;c<e;c++){if(s=u.default.noBlockVertical(t,c,e,n),0==n[c][t]&&s){this.updateActCore(e,t),n[c][t]=n[e][t],n[e][t]=0,this.updateCore(e,t),l=u.default.showMoveAnimation(o,e,t,c,t,function(t,e){return p.updateCore(t,e)}),r.push(l);break}if(n[c][t]==n[e][t]&&s&&!i[c][t]){this.updateActCore(e,t),n[c][t]+=n[e][t],n[e][t]=0,i[c][t]=!0,this.updateCore(e,t),l=u.default.showMoveAnimation(o,e,t,c,t,function(t,e){return p.updateCore(t,e)}),r.push(l),u.default.addScore(n[c][t]/2);break}}return 3!=e||3!=t?[3,4]:0===r.length?[2,!1]:[4,Promise.all(r).then(function(){return!0})];case 3:a.sent(),a.label=4;case 4:return e++,[3,2];case 5:return t++,[3,1];case 6:return[2]}})})},e.prototype.moveDown=function(){return c(this,void 0,void 0,function(){var t,e,o,n,i,r,c,s,l,p=this;return a(this,function(a){switch(a.label){case 0:t=0,a.label=1;case 1:if(!(t<4))return[3,6];e=2,a.label=2;case 2:if(!(e>=0))return[3,5];if(o=this.actArr[e][t],n=u.default.getBoard(),i=u.default.conflictedArr,r=[],0!=n[e][t])for(c=3;c>e;c--){if(s=u.default.noBlockVertical(t,e,c,n),0==n[c][t]&&s){this.updateActCore(e,t),n[c][t]=n[e][t],n[e][t]=0,this.updateCore(e,t),l=u.default.showMoveAnimation(o,e,t,c,t,function(t,e){return p.updateCore(t,e)}),r.push(l);break}if(n[c][t]==n[e][t]&&s&&!i[c][t]){this.updateActCore(e,t),n[c][t]+=n[e][t],n[e][t]=0,i[c][t]=!0,this.updateCore(e,t),l=u.default.showMoveAnimation(o,e,t,c,t,function(t,e){return p.updateCore(t,e)}),r.push(l),u.default.addScore(n[c][t]/2);break}}return 3!=e||3!=t?[3,4]:0===r.length?[2,!1]:[4,Promise.all(r).then(function(){return!0})];case 3:a.sent(),a.label=4;case 4:return e--,[3,2];case 5:return t++,[3,1];case 6:return[2]}})})},e.prototype.updateScore=function(t){this.lblScore.string="\u5f53\u524d\u5f97\u5206"+t},e.prototype.updateBestScore=function(){},e.prototype.addScore=function(){},r([f(cc.Node)],e.prototype,"panel",void 0),r([f(cc.Prefab)],e.prototype,"pre_core",void 0),r([f(cc.Node)],e.prototype,"nodeCareBgBox",void 0),r([f(cc.Prefab)],e.prototype,"pre_coreBg",void 0),r([f(cc.Label)],e.prototype,"lblScore",void 0),r([h],e)}(l.default);o.default=_,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","./ID23_Common":"ID23_Common","./ID23_Core":"ID23_Core"}],ID24_Common:[function(t,e,o){"use strict";cc._RF.push(e,"cb0d6gxjPVEuqN1RQgV3gUL","ID24_Common");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../core/app"),c=t("./ID24_Config"),a=t("./ID24_Core"),s=t("./ID24_CoreVo"),l=t("./ID24_LinkMgr"),u=function(){function t(){}return t.initAim=function(){},t.changeAimNum=function(){},t.init=function(e,o){void 0===e&&(e=null),void 0===o&&(o=null),r.default.pool.getNode(e),null==e?(e=this.obj_init.pre_core,o=this.obj_init.gro_box):(this.obj_init.pre_core=e,this.obj_init.gro_box=o),this.arr_chess=[],this.arr_chessVo=[];for(var n=c.default.MaxCol*c.default.MaxRow,i=[],l=[],u=0;u<c.default.MaxRow;u++){var p=[];i.push(p);for(var d=0;d<c.default.MaxCol;d++){var h=c.default.chessTypes.concat(),f=c.default.unMapLocation.indexOf(u*c.default.MaxCol+d)>-1?-2:this.isLine(u,d,i,h.sort(this.randomsort));p.push(f),l.push(f)}}for(var _=0;_<n;_++){var y=new s.default;y.location=_,y.value=l[_],this.arr_chessVo.push(y);var m=r.default.pool.getNode(e),v=m.getComponent(a.default);v.initUI(y),m.x=v.targetX,m.y=v.targetY,this.arr_chess.push(v),m.setParent(o)}var g=this.isDieMap();if(console.log("\u662f\u5426\u4e3a\u6b7b\u56fe\uff1a"+g.length),0==g.length)return console.log("\u91cd\u7f6e\u5730\u56fe"),void this.init(e,o);t.isPlay=!1,this.playInitAnim()},t.isLine=function(t,e,o,n){var i;return 1==n.length?n[0]:(i=n.pop(),t>1&&o[t-1][e]==i&&o[t-2][e]==i?this.isLine(t,e,o,n):e>1&&o[t][e-1]==i&&o[t][e-2]==i?this.isLine(t,e,o,n):i)},t.clickChess=function(t){if(0==this.arr_click_chess.length&&this.arr_click_chess.push(t),1==this.arr_click_chess.length){var e=this.arr_click_chess[0];if(e.vo.location==t.vo.location)return void console.error("\u540c\u4e00\u4e2a\u683c\u5b50");if(1==this.canMove(e,t)){var o=l.default.isHaveLineAfterMove(t,e);console.log("\u79fb\u52a8\u540e\u662f\u5426\u80fd\u6d88\u9664",o),1==o?(e.moveAndRemove(t,!0),t.moveAndRemove(e),c.default.stepNum>=1&&c.default.stepNum--):(e.moveAndBack(t,!0),t.moveAndBack(e)),this.arr_click_chess=[]}else this.arr_click_chess[0]=t}},t.removeAndOver=function(){return n(this,void 0,void 0,function(){var t,e,o,n,r,c;return i(this,function(i){switch(i.label){case 0:for(console.log("\u9700\u8981\u6d88\u9664"+l.default.lines),t=l.default.lines.length,e=[],this.moveEleNum=t,o=0;o<t;o++)(n=this.arr_chess[l.default.lines[o]]).isClick(!0),n.vo.value>=0&&this.arr_deleteNum[n.vo.value]++,1==l.default.isTargetType(n.vo.value)?(r=n.getTypeTargetPoint(),c=n.playRemoveAnimType(r.x,r.y),e.push(c)):(c=n.playRemoveAnim(),e.push(c));return[4,Promise.all(e)];case 1:return i.sent(),this.createCore(),[2]}})})},t.createCore=function(){return n(this,void 0,void 0,function(){var t,e,o,n,a,s,l,u;return i(this,function(i){switch(i.label){case 0:for(console.log("\u5237\u65b0\u5730\u56fe\u6570\u636e\uff01\uff01\uff01\uff01\uff01\uff01\uff01\uff01"),t=[],e=0;e<c.default.MaxCol;e++)for(o=c.default.MaxRow-1;o>=0;o--)n=c.default.MaxCol*o+e,-1==(a=this.arr_chess[n]).vo.value&&(-1!=(s=this.findCoreForCol(e,o))?(u=a.playDownAnim(Math.abs(o-s)),t.push(u)):(l=r.default.rand.randomArray(c.default.chessTypes),a.vo.value=l,u=a.playDownAnim(Math.abs(o+1)),t.push(u)));return[4,Promise.all(t)];case 1:return i.sent(),console.error("=========================="),this.downOver(),[2]}})})},t.findCoreForCol=function(t,e){for(var o=this.arr_chess[c.default.MaxCol*e+t],n=e;n>=0;n--){var i=c.default.MaxCol*n+t,r=this.arr_chess[i];if(r.vo.value>-1)return o.vo.value=r.vo.value,r.vo.value=-1,n}return-1},t.downOver=function(){var e=l.default.isHaveLine();if(console.log("\u79fb\u52a8\u540e\u662f\u5426\u80fd\u6d88\u9664",e),e)this.removeAndOver();else if(1!=this.isGameOver()){var o=this.isDieMap();if(console.log("\u662f\u5426\u4e3a\u6b7b\u56fe\uff1a"+o.length),0==o.length)return console.log("\u91cd\u7f6e\u5730\u56fe"),void this.init();t.isPlay=!1}},t.isDieMap=function(){for(var t=[],e=0;e<c.default.MaxRow;e++)for(var o=0;o<c.default.MaxCol;o++){var n=e*c.default.MaxCol+o,i=this.arr_chess[n];if(-2!=i.vo.value){if(o+1<c.default.MaxCol){var r=e*c.default.MaxCol+o+1;if(-2!=(s=this.arr_chess[r]).vo.value&&l.default.isHaveLineAfterMove(i,s)){if((t=l.default.lines.concat()).indexOf(n)>-1&&t.indexOf(r)>-1);else if(t.indexOf(n)>-1){var a=t.indexOf(n);t[a]=r}else t.indexOf(r)>-1&&(a=t.indexOf(r),t[a]=n);return t}}var s;if(e+1<c.default.MaxRow)if(r=e*c.default.MaxCol+o+c.default.MaxCol,-2!=(s=this.arr_chess[r]).vo.value&&l.default.isHaveLineAfterMove(i,s))return(t=l.default.lines.concat()).indexOf(n)>-1&&t.indexOf(r)>-1||(t.indexOf(n)>-1?(a=t.indexOf(n),t[a]=r):t.indexOf(r)>-1&&(a=t.indexOf(r),t[a]=n)),t}}return t},t.playInitAnim=function(){for(var t=0;t<c.default.MaxRow;t++)for(var e=0;e<c.default.MaxCol;e++){var o=t*c.default.MaxCol+e,n=this.arr_chess[o];-1!=n.vo.value&&n.show(.3)}},t.canMove=function(t,e){return t.vo.row==e.vo.row&&1==Math.abs(t.vo.col-e.vo.col)||t.vo.col==e.vo.col&&1==Math.abs(t.vo.row-e.vo.row)},t.isGameOver=function(){if(console.log("\u8fc7\u5173\u5143\u7d20\u662f\u5426\u6e05\u7a7a",l.default.isClear()),l.default.isClear()){console.error("\u6e38\u620f\u7ed3\u675f \u5b8c\u6210\u76ee\u6807"),console.log(this.arr_deleteNum),console.log(c.default.levelStepNum);for(var t=this.arr_deleteNum.length-1;t>=0;t--)this.arr_deleteNum[t]&&this.arr_deleteNum[t];return c.default.stepNum,!0}return 0==c.default.stepNum?(console.error("\u6e38\u620f\u7ed3\u675f \u6b65\u6570\u4e3a0"),console.log(this.arr_deleteNum),!0):(console.warn("\u6e38\u620f\u7ee7\u7eed"),console.log(this.arr_deleteNum),r.default.event.emit(r.default.eName.event_addScore),!1)},t.isPlay=!1,t.arr_chess=[],t.arr_chessVo=[],t.arr_deleteNum=[0,0,0,0,0,0],t.obj_init={pre_core:null,gro_box:null},t.arr_click_chess=[],t.moveEleNum=0,t.randomsort=function(){return Math.random()>.5?-1:1},t}();o.default=u,cc._RF.pop()},{"../../core/app":"app","./ID24_Config":"ID24_Config","./ID24_Core":"ID24_Core","./ID24_CoreVo":"ID24_CoreVo","./ID24_LinkMgr":"ID24_LinkMgr"}],ID24_Config:[function(t,e,o){"use strict";cc._RF.push(e,"e3b34IHUPxCzIfJQ6G9cXqe","ID24_Config"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.initData=function(){this.mapData=new Array;for(var t=0;t<this.MaxRow;t++){var e=new Array;this.mapData.push(e);for(var o=0;o<this.MaxCol;o++)this.mapData[t].push(-2)}},t.DIRECTOR={no:-1,up:0,down:1,left:2,right:3},t.link=null,t.configJson=null,t.unMapLocation=[],t.aim=[],t.unmapnum=0,t.stepNum=0,t.levelStepNum=0,t.levelBackgroundImageName="",t.MaxRow=7,t.MaxCol=6,t.currentElementNum=0,t}();o.default=n,cc._RF.pop()},{}],ID24_CoreVo:[function(t,e,o){"use strict";cc._RF.push(e,"13b85rks7BG27j2a8f9cwiE","ID24_CoreVo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ID24_Config"),i=function(){function t(){this.location=0,this._value=0}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){switch(t){case-2:case-1:default:this._value=t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return Math.floor(this.location/n.default.MaxCol)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this.location%n.default.MaxCol},enumerable:!1,configurable:!0}),t}();o.default=i,cc._RF.pop()},{"./ID24_Config":"ID24_Config"}],ID24_Core:[function(t,e,o){"use strict";cc._RF.push(e,"8eab8ivfaZIU6B/EcNEgIdy","ID24_Core");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./ID24_Common"),a=t("./ID24_Config"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vo=null,e.img_chess=null,e.arr_normalImg=[],e.arr_sharkImg=[],e.nodeShark=null,e.lab_location=null,e.img_bg=null,e.downTime=.3,e}return i(e,t),e.prototype.initUI=function(t){this.vo=t,this.nodeShark.active=!1,this.updateUI()},Object.defineProperty(e.prototype,"targetX",{get:function(){var t=this.node.width,e=this.node.width>>1;return t*this.vo.col+e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetY",{get:function(){var t=this.node.height,e=this.node.height>>1;return-1*(t*this.vo.row+e)},enumerable:!1,configurable:!0}),e.prototype.targetOrderX=function(t){var e=this.node.width,o=this.node.width>>1;return e*(t%a.default.MaxCol)+o},e.prototype.targetOrderY=function(t){var e=this.node.height,o=this.node.height>>1;return-1*(e*Math.floor(t/a.default.MaxCol)+o)},e.prototype.show=function(t){cc.tween(this.img_chess.node).set({scale:.3,opacity:0}).delay(t).set({opacity:255}).to(.2,{scale:1}).start()},e.prototype.isClick=function(t){this.img_chess.spriteFrame=1==t?this.arr_sharkImg[this.vo.value]:this.arr_normalImg[this.vo.value]},e.prototype.isShark=function(t){var e=this;1==t?(cc.Tween.stopAllByTarget(this.img_chess.node),cc.tween(this.img_chess.node).repeatForever(cc.tween().delay(.5).call(function(){e.isClick(!0)}).delay(.5).call(function(){e.isClick(!1)})).start()):(this.isClick(!1),cc.Tween.stopAllByTarget(this.img_chess.node))},e.prototype.updateUI=function(){switch(this.lab_location.string=this.vo.location.toString(),this.vo.value){case-2:this.node.active=!0,this.img_bg.active=!0,this.img_chess.node.active=!1;break;case-1:this.node.active=!0,this.img_bg.active=!1,this.img_chess.node.active=!1;break;default:this.node.active=!0,this.img_bg.active=!1,this.img_chess.spriteFrame=this.arr_normalImg[this.vo.value],this.img_chess.node.active=!0}},e.prototype.moveAndBack=function(t,e){var o=this;void 0===e&&(e=!1);var n=t.vo.location,i=this.targetOrderX(n),r=this.targetOrderY(n),a=1==e?1.2:.8;cc.tween(this.node).to(.3,{x:i,y:r,scale:a},{easing:cc.easing.cubicOut}).call(function(){o.isClick(!1),c.default.isPlay=!1}).to(.3,{x:this.targetX,y:this.targetY,scale:1},{easing:cc.easing.cubicOut}).start()},e.prototype.moveAndRemove=function(t,e){var o=this;void 0===e&&(e=!1);var n=t.vo.location,i=t.vo.value,r=this.targetOrderX(n),a=this.targetOrderY(n),s=1==e?1.4:.6;cc.tween(this.node).to(.3,{x:r,y:a,scale:s},{easing:cc.easing.cubicOut}).call(function(){o.changeValue(i)}).set({x:this.targetX,y:this.targetY,scale:0==e?1.4:.6}).to(.1,{scale:1},{easing:cc.easing.backOut}).call(function(){1==e&&c.default.removeAndOver()}).start()},e.prototype.changeValue=function(t){this.vo.value=t,this.updateUI()},e.prototype.playRemoveAnim=function(){var t=this;return new Promise(function(e){t.nodeShark.active=!0,cc.tween(t.nodeShark).set({scale:.3}).to(.4,{scale:.7}).call(function(){t.nodeShark.active=!1}).start(),cc.tween(t.node).delay(.4).to(.3,{scaleX:1.4,scaleY:1.4},{easing:cc.easing.cubicOut}).to(.3,{scale:0},{easing:cc.easing.cubicOut}).call(function(){t.vo.value=-1,t.updateUI(),t.node.active=!1,e(!0)}).start()})},e.prototype.playRemoveAnimType=function(t,e,o){var n=this;return void 0===o&&(o=!1),new Promise(function(o){n.nodeShark.active=!0,cc.tween(n.nodeShark).set({scale:.3}).to(.4,{scale:.7}).call(function(){n.nodeShark.active=!1}).start(),cc.tween(n.node).delay(.4).to(.6,{x:t,y:e},{easing:cc.easing.quadOut}).set({x:n.targetX,y:n.targetY}).call(function(){c.default.changeAimNum(n.vo.value,1),n.vo.value=-1,n.updateUI(),o(!0)}).start()})},e.prototype.getTypeTargetPoint=function(){return cc.v2()},e.prototype.playDownAnim=function(t){var e=this;return new Promise(function(o){var n=0+t*e.node.height;e.img_chess.node.opacity=0,e.img_chess.node.y=n,cc.Tween.stopAllByTarget(e.img_chess.node),cc.tween(e.img_chess.node).to(e.downTime,{y:0},{easing:cc.easing.expoOut}).call(function(){o(!0)}).start(),e.node.scale=1,e.img_chess.node.opacity=255,e.updateUI()})},r([u(cc.Sprite)],e.prototype,"img_chess",void 0),r([u([cc.SpriteFrame])],e.prototype,"arr_normalImg",void 0),r([u([cc.SpriteFrame])],e.prototype,"arr_sharkImg",void 0),r([u(cc.Node)],e.prototype,"nodeShark",void 0),r([u(cc.Label)],e.prototype,"lab_location",void 0),r([u(cc.Node)],e.prototype,"img_bg",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./ID24_Common":"ID24_Common","./ID24_Config":"ID24_Config"}],ID24_LinkMgr:[function(t,e,o){"use strict";cc._RF.push(e,"57527v5aUVFnqZ1+3Gksgyh","ID24_LinkMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ID24_Common"),i=t("./ID24_Config"),r=function(){function t(){}return t.isHaveLine=function(){this.lines=[];for(var t=[],e=[],o=0;o<i.default.MaxRow;o++){var r=[];e.push(r);for(var c=0;c<i.default.MaxCol;c++){var a=n.default.arr_chessVo[o*i.default.MaxCol+c].value;r.push(a)}}for(var s=0;s<i.default.MaxRow;s++)for(var l=0;l<i.default.MaxCol;l++){var u=1;if(-2!=e[s][l])for(var p=l;p<i.default.MaxCol;p++){if((h=p+1)>=i.default.MaxCol){if(u>=3)for(o=h-1;o>=h-u;o--){var d=s*i.default.MaxCol+o;t.indexOf(d)<0&&t.push(d)}break}if(-2==e[s][h]){if(u>=3)for(o=h-1;o>=h-u;o--)d=s*i.default.MaxCol+o,t.indexOf(d)<0&&t.push(d);break}if(e[s][l]!=e[s][h]){if(u>=3)for(o=h-1;o>=h-u;o--)d=s*i.default.MaxCol+o,t.indexOf(d)<0&&t.push(d);break}u++}}for(l=0;l<i.default.MaxCol;l++)for(s=0;s<i.default.MaxRow;s++)if(u=1,-2!=e[s][l])for(p=s;p<i.default.MaxRow;p++){var h;if((h=p+1)>=i.default.MaxRow){if(u>=3)for(o=h-1;o>=h-u;o--)d=o*i.default.MaxCol+l,t.indexOf(d)<0&&t.push(d);break}if(-2==e[h][l]){if(u>=3)for(o=h-1;o>=h-u;o--)d=o*i.default.MaxCol+l,t.indexOf(d)<0&&t.push(d);break}if(e[s][l]!=e[h][l]){if(u>=3)for(o=h-1;o>=h-u;o--)d=o*i.default.MaxCol+l,t.indexOf(d)<0&&t.push(d);break}u++}return this.lines=t.concat(),0!=this.lines.length&&(console.log("\u5f85\u6d88\u9664\u6570\u7ec4",this.lines),!0)},t.isHaveLineAfterMove=function(t,e){var o=t.vo.value,n=e.vo.value;return t.vo.value=n,e.vo.value=o,this.isHaveLine()?(t.vo.value=o,e.vo.value=n,!0):(t.vo.value=o,e.vo.value=n,!1)},t.isTargetType=function(){return!1},t.isClear=function(){return!1},t.lines=[],t}();o.default=r,cc._RF.pop()},{"./ID24_Common":"ID24_Common","./ID24_Config":"ID24_Config"}],ID24_View:[function(t,e,o){"use strict";cc._RF.push(e,"4ff77ow63FIRJtFEHqjc3zY","ID24_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("./ID24_Common"),l=t("./ID24_Config"),u=t("./ID24_Core"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pre_core=null,e.gro_box=null,e.lblScore=null,e.arr_tips=[],e}return i(e,t),e.prototype.show=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];console.log("view 24 show"),this.arr_event=[{name:c.default.eName.event_addScore,func:this.updateScore}],t.prototype.show.apply(this,e);var n={map:[0,5,36,41],step:99990,element:[0,1,2,3,4],aim:[{type:3,num:6},{type:4,num:5},{type:0,num:5}]};l.default.chessTypes=n.element,l.default.unMapLocation=n.map,l.default.aim=n.aim,l.default.stepNum=n.step,l.default.levelStepNum=n.step,l.default.initData(),console.warn(l.default.mapData),s.default.init(this.pre_core,this.gro_box),this.gro_box.on(cc.Node.EventType.TOUCH_START,this.onTap,this),this.c_scene=c.default.pool.getNode(this.pre_core).getComponent(u.default),window.ID24_Common=s.default},e.prototype.onTap=function(t){switch(t.target,t.type){case cc.Node.EventType.TOUCH_START:if(1==s.default.isPlay)return void console.log("isplay:"+s.default.isPlay);console.log("begin"),this._startPoint=this.gro_box.convertToNodeSpaceAR(t.getLocation());var e=Math.floor(this._startPoint.x/(this.c_scene.node.width*this.gro_box.scaleX)),o=Math.ceil(this._startPoint.y/(this.c_scene.node.height*this.gro_box.scaleY)),n=s.default.arr_chess[e-o*l.default.MaxCol];console.warn("start",n.vo.location),-2!=n.vo.value&&(n.isClick(!0),s.default.isPlay=!0,s.default.arr_click_chess[0]=n,this.gro_box.on(cc.Node.EventType.TOUCH_MOVE,this.onTap,this),this.gro_box.on(cc.Node.EventType.TOUCH_END,this.onTap,this),this.gro_box.on(cc.Node.EventType.TOUCH_CANCEL,this.onTap,this));break;case cc.Node.EventType.TOUCH_MOVE:this._endPoint=this.gro_box.convertToNodeSpaceAR(t.getLocation());var i=this._endPoint.x-this._startPoint.x,r=this._endPoint.y-this._startPoint.y;if(Math.abs(i-r)<=40)return;switch(e=Math.floor(this._startPoint.x/(this.c_scene.node.width*this.gro_box.scaleX)),o=Math.ceil(this._startPoint.y/(this.c_scene.node.height*this.gro_box.scaleY)),o=Math.abs(o),Math.abs(i)>Math.abs(r)?i>0?l.default.DIRECTOR.right:l.default.DIRECTOR.left:r>0?l.default.DIRECTOR.up:l.default.DIRECTOR.down){case l.default.DIRECTOR.down:if(++o>=l.default.MaxRow)return void this.clearClick();break;case l.default.DIRECTOR.up:if(--o<0)return void this.clearClick();break;case l.default.DIRECTOR.left:if(--e<0)return void this.clearClick();break;case l.default.DIRECTOR.right:if(++e>=l.default.MaxCol)return void this.clearClick()}this.gro_box.off(cc.Node.EventType.TOUCH_MOVE,this.onTap,this),n=s.default.arr_chess[e+o*l.default.MaxCol],console.warn("move",n.vo.location),-2!=n.vo.value&&s.default.clickChess(n);break;case cc.Node.EventType.TOUCH_END:case cc.Node.EventType.TOUCH_CANCEL:this.gro_box.off(cc.Node.EventType.TOUCH_END,this.onTap,this),this.gro_box.off(cc.Node.EventType.TOUCH_CANCEL,this.onTap,this),this._startPoint=this.gro_box.convertToNodeSpaceAR(t.getLocation()),e=Math.floor(this._startPoint.x/(this.c_scene.node.width*this.gro_box.scaleX)),o=Math.ceil(this._startPoint.y/(this.c_scene.node.height*this.gro_box.scaleY)),null==(n=s.default.arr_chess[e-o*l.default.MaxCol])||n.isClick(!1),console.warn("end",null==n?void 0:n.vo.location),s.default.arr_click_chess.length>0&&(s.default.arr_click_chess[0].isClick(!1),s.default.isPlay=!1,s.default.arr_click_chess=[])}},e.prototype.clearClick=function(){s.default.arr_click_chess[0]&&s.default.arr_click_chess[0].isClick(!1),s.default.isPlay=!1,s.default.arr_click_chess=[]},e.prototype.updateScore=function(){for(var t=0,e=s.default.arr_deleteNum,o=0;o<e.length;o++)t+=e[o];this.lblScore.string="\u5f53\u524d\u5f97\u5206\uff1a"+t},r([h(cc.Prefab)],e.prototype,"pre_core",void 0),r([h(cc.Node)],e.prototype,"gro_box",void 0),r([h(cc.Label)],e.prototype,"lblScore",void 0),r([d],e)}(a.default);o.default=f,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","./ID24_Common":"ID24_Common","./ID24_Config":"ID24_Config","./ID24_Core":"ID24_Core"}],ID25_Box:[function(t,e,o){"use strict";cc._RF.push(e,"77b5dmeMZBNbb04BTFMFa9j","ID25_Box");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../core/app"),l=t("./ID25_Data"),u=t("./ID25_View"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.imgTarget=null,e.arrImg=[],e.nodeRect=null,e.level=0,e._status=l.default.Enum_ObjStatus.Normal,e}return i(e,t),e.prototype.init=function(t){void 0===t&&(t=0),this.level=t,this.updateUI()},e.prototype.updateUI=function(){0==this.level?this.imgTarget.node.active=!1:(this.imgTarget.node.active=!0,this.imgTarget.spriteFrame=this.arrImg[this.level-1])},Object.defineProperty(e.prototype,"status",{get:function(){return this._status},set:function(t){switch(this._status=t,this._status){case l.default.Enum_ObjStatus.Run:break;case l.default.Enum_ObjStatus.Normal:this.imgTarget.node.opacity=255,this.updateUI();break;case l.default.Enum_ObjStatus.Move:this.imgTarget.node.opacity=76.5;break;case l.default.Enum_ObjStatus.Box:}},enumerable:!1,configurable:!0}),e.prototype.playCreateAnim=function(){this.imgTarget.node.scale=0,cc.tween(this.imgTarget.node).to(.25,{scale:1},{easing:cc.easing.backOut}).start()},e.prototype.composeEff=function(){return c(this,void 0,void 0,function(){return a(this,function(){return s.default.event.emit(u.default.event_playComposeAnim,this.arrImg[this.level-2],this.globalP,this.node),[2]})})},e.prototype.up=function(){this.init(this.level+1)},Object.defineProperty(e.prototype,"vo",{get:function(){var t=this;return l.default.arr_objConfig.find(function(e){return e.lv==t.level})},enumerable:!1,configurable:!0}),e.prototype.remove=function(){this.level=-1,this.status=l.default.Enum_ObjStatus.Normal,this.updateUI()},Object.defineProperty(e.prototype,"globalP",{get:function(){var t=this.imgTarget.node;return t.parent?t.parent.convertToWorldSpaceAR(t.getPosition()):cc.v2()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNormal",{get:function(){return this._status==l.default.Enum_ObjStatus.Normal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMove",{get:function(){return this._status==l.default.Enum_ObjStatus.Move},enumerable:!1,configurable:!0}),r([h(cc.Sprite)],e.prototype,"imgTarget",void 0),r([h([cc.SpriteFrame])],e.prototype,"arrImg",void 0),r([h(cc.Node)],e.prototype,"nodeRect",void 0),r([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../core/app":"app","./ID25_Data":"ID25_Data","./ID25_View":"ID25_View"}],ID25_Data:[function(t,e,o){"use strict";cc._RF.push(e,"a2ca1w1sWZI9auHDJefDivX","ID25_Data"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./bignumber/BigNum"),i=t("./ObjVo"),r=function(){function t(){}return Object.defineProperty(t,"coin",{get:function(){return new n.default(this._coin)},set:function(t){this._coin=t.bignumber},enumerable:!1,configurable:!0}),t.init=function(){var t=[{id:1,lv:1,img:1,run_img:"run1",coin_buy_lv:1,diamond_buy_lv:99,video_buy_lv:99,name:"1\u7ea7\u98de\u673a",coin:100,diamond:999,reclaim:100,speed:6700,income:25,up_diamond:0,atk:10,gun_type:1,gun_count:1},{id:2,lv:2,img:2,run_img:"run2",coin_buy_lv:3,diamond_buy_lv:99,video_buy_lv:99,name:"2\u7ea7\u98de\u673a",coin:316.64,diamond:999,reclaim:316.64,speed:6600,income:49,up_diamond:3,atk:12.6,gun_type:1,gun_count:1},{id:3,lv:3,img:3,run_img:"run3",coin_buy_lv:4,diamond_buy_lv:99,video_buy_lv:99,name:"3\u7ea7\u98de\u673a",coin:1002.608896,diamond:999,reclaim:1002.608896,speed:6500,income:96.04,up_diamond:6,atk:15.876,gun_type:1,gun_count:1},{id:4,lv:4,img:4,run_img:"run4",coin_buy_lv:5,diamond_buy_lv:99,video_buy_lv:99,name:"4\u7ea7\u98de\u673a",coin:3174.6608082944,diamond:999,reclaim:3174.6608082944,speed:6400,income:188.2384,up_diamond:9,atk:20.00376,gun_type:1,gun_count:1},{id:5,lv:5,img:5,run_img:"run5",coin_buy_lv:6,diamond_buy_lv:99,video_buy_lv:99,name:"5\u7ea7\u98de\u673a",coin:10052.2459833834,diamond:999,reclaim:10052.2459833834,speed:6300,income:368.947264,up_diamond:12,atk:25.2047376,gun_type:1,gun_count:1},{id:6,lv:6,img:6,run_img:"run6",coin_buy_lv:10,diamond_buy_lv:7,video_buy_lv:7,name:"6\u7ea7\u98de\u673a",coin:31829.4316817852,diamond:20,reclaim:31829.4316817852,speed:6200,income:723.13663744,up_diamond:15,atk:31.757969376,gun_type:2,gun_count:2},{id:7,lv:7,img:7,run_img:"run7",coin_buy_lv:11,diamond_buy_lv:8,video_buy_lv:10,name:"7\u7ea7\u98de\u673a",coin:100784.712477205,diamond:21.6,reclaim:100784.712477205,speed:6100,income:1417.3478093824,up_diamond:18,atk:40.01504141376,gun_type:2,gun_count:2},{id:8,lv:8,img:8,run_img:"run8",coin_buy_lv:12,diamond_buy_lv:9,video_buy_lv:11,name:"8\u7ea7\u98de\u673a",coin:319124.713587821,diamond:23.328,reclaim:319124.713587821,speed:6e3,income:2778.0017063895,up_diamond:21,atk:50.4189521813376,gun_type:2,gun_count:2},{id:9,lv:9,img:9,run_img:"run9",coin_buy_lv:13,diamond_buy_lv:10,video_buy_lv:12,name:"9\u7ea7\u98de\u673a",coin:1010476.49310447,diamond:25.19424,reclaim:1010476.49310447,speed:5900,income:5444.88334452343,up_diamond:24,atk:63.5278797484854,gun_type:2,gun_count:2},{id:10,lv:10,img:10,run_img:"run10",coin_buy_lv:14,diamond_buy_lv:11,video_buy_lv:13,name:"10\u7ea7\u98de\u673a",coin:3199572.76776601,diamond:27.2097792,reclaim:3199572.76776601,speed:5800,income:10671.9713552659,up_diamond:27,atk:80.0451284830916,gun_type:2,gun_count:2},{id:11,lv:11,img:11,run_img:"run11",coin_buy_lv:15,diamond_buy_lv:12,video_buy_lv:14,name:"11\u7ea7\u98de\u673a",coin:10131127.2118543,diamond:29.386561536,reclaim:10131127.2118543,speed:5700,income:20917.0638563212,up_diamond:30,atk:100.856861888695,gun_type:2,gun_count:2},{id:12,lv:12,img:12,run_img:"run12",coin_buy_lv:16,diamond_buy_lv:13,video_buy_lv:15,name:"12\u7ea7\u98de\u673a",coin:32079201.2036154,diamond:31.73748645888,reclaim:32079201.2036154,speed:5600,income:40997.4451583895,up_diamond:33,atk:127.079645979756,gun_type:2,gun_count:2},{id:13,lv:13,img:13,run_img:"run13",coin_buy_lv:17,diamond_buy_lv:14,video_buy_lv:16,name:"13\u7ea7\u98de\u673a",coin:101575582.691128,diamond:34.2764853755904,reclaim:101575582.691128,speed:5500,income:80354.9925104435,up_diamond:36,atk:160.120353934493,gun_type:3,gun_count:3},{id:14,lv:14,img:14,run_img:"run14",coin_buy_lv:18,diamond_buy_lv:15,video_buy_lv:17,name:"14\u7ea7\u98de\u673a",coin:321628925.033188,diamond:37.0186042056377,reclaim:321628925.033188,speed:5400,income:157495.785320469,up_diamond:39,atk:201.751645957461,gun_type:3,gun_count:3},{id:15,lv:15,img:15,run_img:"run15",coin_buy_lv:19,diamond_buy_lv:16,video_buy_lv:18,name:"15\u7ea7\u98de\u673a",coin:1018405828.22509,diamond:39.9800925420887,reclaim:1018405828.22509,speed:5300,income:308691.73922812,up_diamond:42,atk:254.207073906401,gun_type:3,gun_count:3},{id:16,lv:16,img:16,run_img:"run16",coin_buy_lv:20,diamond_buy_lv:17,video_buy_lv:19,name:"16\u7ea7\u98de\u673a",coin:3224680214.49191,diamond:43.1784999454558,reclaim:3224680214.49191,speed:5200,income:605035.808887115,up_diamond:45,atk:320.300913122065,gun_type:3,gun_count:3},{id:17,lv:17,img:17,run_img:"run17",coin_buy_lv:21,diamond_buy_lv:18,video_buy_lv:20,name:"17\u7ea7\u98de\u673a",coin:10210627431.1672,diamond:46.6327799410922,reclaim:10210627431.1672,speed:5100,income:1185870.18541874,up_diamond:48,atk:403.579150533802,gun_type:3,gun_count:3},{id:18,lv:18,img:18,run_img:"run18",coin_buy_lv:22,diamond_buy_lv:19,video_buy_lv:21,name:"18\u7ea7\u98de\u673a",coin:32330930698.0478,diamond:50.3634023363796,reclaim:32330930698.0478,speed:5e3,income:2324305.56342074,up_diamond:51,atk:508.50972967259,gun_type:3,gun_count:3},{id:19,lv:19,img:19,run_img:"run19",coin_buy_lv:23,diamond_buy_lv:20,video_buy_lv:22,name:"19\u7ea7\u98de\u673a",coin:102372658962.298,diamond:54.39247452329,reclaim:102372658962.298,speed:4900,income:4555638.90430465,up_diamond:54,atk:640.722259387464,gun_type:3,gun_count:3},{id:20,lv:20,img:20,run_img:"run20",coin_buy_lv:24,diamond_buy_lv:21,video_buy_lv:23,name:"20\u7ea7\u98de\u673a",coin:324152787338.222,diamond:58.7438724851532,reclaim:324152787338.222,speed:4800,income:8929052.25243711,up_diamond:57,atk:807.310046828204,gun_type:3,gun_count:3},{id:21,lv:21,img:21,run_img:"run21",coin_buy_lv:25,diamond_buy_lv:22,video_buy_lv:24,name:"21\u7ea7\u98de\u673a",coin:1026397385827.75,diamond:63.4433822839655,reclaim:1026397385827.75,speed:4700,income:17500942.4147767,up_diamond:60,atk:1017.21065900354,gun_type:3,gun_count:3},{id:22,lv:22,img:22,run_img:"run22",coin_buy_lv:26,diamond_buy_lv:23,video_buy_lv:25,name:"22\u7ea7\u98de\u673a",coin:3249984682484.97,diamond:68.5188528666827,reclaim:3249984682484.97,speed:4600,income:34301847.1329624,up_diamond:63,atk:1281.68543034446,gun_type:4,gun_count:4},{id:23,lv:23,img:23,run_img:"run23",coin_buy_lv:27,diamond_buy_lv:24,video_buy_lv:26,name:"23\u7ea7\u98de\u673a",coin:10290751498620.4,diamond:74.0003610960173,reclaim:10290751498620.4,speed:4500,income:67231620.3806063,up_diamond:66,atk:1614.92364223402,gun_type:4,gun_count:4},{id:24,lv:24,img:24,run_img:"run24",coin_buy_lv:28,diamond_buy_lv:25,video_buy_lv:27,name:"24\u7ea7\u98de\u673a",coin:32584635545231.7,diamond:79.9203899836987,reclaim:32584635545231.7,speed:4400,income:131773975.945988,up_diamond:69,atk:2034.80378921486,gun_type:4,gun_count:4},{id:25,lv:25,img:25,run_img:"run25",coin_buy_lv:29,diamond_buy_lv:26,video_buy_lv:28,name:"25\u7ea7\u98de\u673a",coin:0x5dd6883b9416,diamond:86.3140211823946,reclaim:0x5dd6883b9416,speed:4300,income:258276992.854137,up_diamond:72,atk:2563.85277441072,gun_type:4,gun_count:4},{id:26,lv:26,img:26,run_img:"run26",coin_buy_lv:30,diamond_buy_lv:27,video_buy_lv:29,name:"26\u7ea7\u98de\u673a",coin:326696454705671,diamond:93.2191428769862,reclaim:326696454705671,speed:4200,income:506222905.994109,up_diamond:75,atk:3230.45449575751,gun_type:4,gun_count:4},{id:27,lv:27,img:27,run_img:"run27",coin_buy_lv:31,diamond_buy_lv:28,video_buy_lv:30,name:"27\u7ea7\u98de\u673a",coin:0x3acd40b627cc8,diamond:100.676674307145,reclaim:0x3acd40b627cc8,speed:4100,income:992196895.748454,up_diamond:78,atk:4070.37266465447,gun_type:4,gun_count:4},{id:28,lv:28,img:28,run_img:"run28",coin_buy_lv:32,diamond_buy_lv:29,video_buy_lv:31,name:"28\u7ea7\u98de\u673a",coin:0xba309e9e2a756,diamond:108.730808251717,reclaim:0xba309e9e2a756,speed:4e3,income:1944705915.66697,up_diamond:81,atk:5128.66955746463,gun_type:4,gun_count:4},{id:29,lv:29,img:29,run_img:"run29",coin_buy_lv:33,diamond_buy_lv:30,video_buy_lv:32,name:"29\u7ea7\u98de\u673a",coin:0x24d8d406296d28,diamond:117.429272911854,reclaim:0x24d8d406296d28,speed:3900,income:3811623594.70726,up_diamond:84,atk:6462.12364240543,gun_type:4,gun_count:4},{id:30,lv:30,img:30,run_img:"run30",coin_buy_lv:34,diamond_buy_lv:31,video_buy_lv:33,name:"30\u7ea7\u98de\u673a",coin:0x74ac1b76397210,diamond:126.823614744802,reclaim:0x74ac1b76397210,speed:3800,income:7470782245.62623,up_diamond:87,atk:8142.27578943084,gun_type:4,gun_count:4},{id:31,lv:31,img:31,run_img:"run31",coin_buy_lv:35,diamond_buy_lv:32,video_buy_lv:34,name:"31\u7ea7\u98de\u673a",coin:0x1716e5ff75ea6e0,diamond:136.969503924387,reclaim:0x1716e5ff75ea6e0,speed:3700,income:14642733201.4274,up_diamond:90,atk:10259.2674946829,gun_type:4,gun_count:4},{id:32,lv:32,img:32,run_img:"run32",coin_buy_lv:36,diamond_buy_lv:33,video_buy_lv:35,name:"32\u7ea7\u98de\u673a",coin:0x491c44cf3025600,diamond:147.927064238338,reclaim:0x491c44cf3025600,speed:3600,income:28699757074.7977,up_diamond:93,atk:12926.6770433004,gun_type:4,gun_count:4},{id:33,lv:33,img:33,run_img:"run33",coin_buy_lv:37,diamond_buy_lv:34,video_buy_lv:36,name:"33\u7ea7\u98de\u673a",coin:0xe77f31884206780,diamond:159.761229377405,reclaim:0xe77f31884206780,speed:3500,income:56251523866.6035,up_diamond:96,atk:16287.6130745585,gun_type:5,gun_count:5},{id:34,lv:34,img:34,run_img:"run34",coin_buy_lv:38,diamond_buy_lv:35,video_buy_lv:37,name:"34\u7ea7\u98de\u673a",coin:330119087860652e4,diamond:172.542127727597,reclaim:330119087860652e4,speed:3400,income:110252986778.543,up_diamond:99,atk:20522.3924739437,gun_type:5,gun_count:5},{id:35,lv:35,img:35,run_img:"run35",coin_buy_lv:39,diamond_buy_lv:36,video_buy_lv:38,name:"35\u7ea7\u98de\u673a",coin:104528907980197e5,diamond:186.345497945805,reclaim:104528907980197e5,speed:3300,income:216095854085.944,up_diamond:102,atk:25858.2145171691,gun_type:5,gun_count:5},{id:36,lv:36,img:36,run_img:"run36",coin_buy_lv:40,diamond_buy_lv:37,video_buy_lv:39,name:"36\u7ea7\u98de\u673a",coin:330980334228495e5,diamond:201.253137781469,reclaim:330980334228495e5,speed:3200,income:423547874008.45,up_diamond:105,atk:32581.3502916331,gun_type:5,gun_count:5},{id:37,lv:37,img:37,run_img:"run37",coin_buy_lv:41,diamond_buy_lv:38,video_buy_lv:40,name:"37\u7ea7\u98de\u673a",coin:104801613030111e6,diamond:217.353388803987,reclaim:104801613030111e6,speed:3100,income:830153833056.563,up_diamond:108,atk:41052.5013674577,gun_type:5,gun_count:5},{id:38,lv:38,img:38,run_img:"run38",coin_buy_lv:42,diamond_buy_lv:39,video_buy_lv:41,name:"38\u7ea7\u98de\u673a",coin:331843827498542e6,diamond:234.741659908306,reclaim:331843827498542e6,speed:3e3,income:1627101512790.86,up_diamond:111,atk:51726.1517229966,gun_type:5,gun_count:5}];this.arr_objConfig=[];for(var e=0;e<t.length;e++){var o=new i.default(t[e]);this.arr_objConfig.push(o)}},Object.defineProperty(t,"lv1Vo",{get:function(){return this.arr_objConfig[0]},enumerable:!1,configurable:!0}),t._coin="500",t.Enum_ObjStatus={Normal:1,Move:2,Box:4,Run:5},t.arr_objConfig=[],t}();o.default=r,cc._RF.pop()},{"./ObjVo":"ObjVo","./bignumber/BigNum":"BigNum"}],ID25_View:[function(t,e,o){"use strict";cc._RF.push(e,"54624FDeq1Jprqp5FI+hbCb","ID25_View");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("../../core/base/BaseView"),s=t("../../data/Common"),l=t("./bignumber/BigNum"),u=t("./ID25_Data"),p=t("./Roost"),d=cc._decorator,h=d.ccclass,f=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.roost=null,e.btnBuy=null,e.nodeEffect=null,e.pre_star=null,e.imgDrag=null,e.lblCoin=null,e.lblBuyCoin=null,e.lblIncome=null,e.nodeEffectCompose=null,e.pre_ComposeObj=null,e.id=-1,e.clicktime=0,e._dt=1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){u.default.init()},e.prototype.show=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.arr_btn=[this.btnBuy],this.arr_event=[{name:o.event_playComposeAnim,func:this.playComposeAnim}],t.prototype.show.apply(this,e),this.roost.init(),this.roost.node.on(cc.Node.EventType.TOUCH_START,this._begin,this),this.roost.node.on(cc.Node.EventType.TOUCH_MOVE,this._move,this),this.roost.node.on(cc.Node.EventType.TOUCH_END,this._end,this),this.roost.node.on(cc.Node.EventType.TOUCH_CANCEL,this._end,this),window.view=this},e.prototype._begin=function(t){var e=this.roost.getRoostPos(t.getLocationX(),t.getLocationY()),o=this.roost.getRoostObj(e);o&&o.isNormal&&(this.id=e,this.imgDrag.node.x=t.getLocationX(),this.imgDrag.node.y=t.getLocationY(),this.imgDrag.node.active=!0,this.imgDrag.spriteFrame=o.imgTarget.spriteFrame,o.status=u.default.Enum_ObjStatus.Move)},e.prototype._move=function(t){-1!=this.id&&(this.imgDrag.node.x=t.getLocationX(),this.imgDrag.node.y=t.getLocationY(),this.imgDrag.node.opacity=255)},e.prototype._end=function(t){var e=t.getLocationX(),o=t.getLocationY();this.imgDrag.node.x=e,this.imgDrag.node.y=o,this.imgDrag.node.active=!1,this.imgDrag.node.opacity=0;var n=this.id;this.id=-1;var i=this.roost.getRoostObj(n);if(i&&i.isMove){var r=this.roost.getRoostPos(e,o);if(-1!=r&&r!=n){var c=this.roost.getRoostObj(r);if(c&&i.level==c.level){if(c.isNormal&&1==this.roost.composeByIndex(r,n))return}else if(!c||c&&c.isNormal)return void this.roost.changePos(n,r)}i.status=u.default.Enum_ObjStatus.Normal}},e.prototype.click=function(t){var e=(new Date).getTime();switch(this.clicktime,s.Common.clickWaitTime,this.clicktime=e,t.target){case this.btnBuy:var o=u.default.lv1Vo;u.default.coin.isBig(new l.default(o.coin.bignumber))?1==this.addObj(1,u.default.Enum_ObjStatus.Normal)?(u.default.coin=u.default.coin.unadd(new l.default(o.coin.bignumber)),o.buy_count_coin++):c.default.eventObj.toast("\u6ca1\u6709\u7a7a\u4f4d\u4e86"):c.default.eventObj.toast("\u91d1\u94b1\u4e0d\u8db3")}},e.prototype.addObj=function(t,e){return 1==this.roost.addObj(t,e)},e.prototype.playComposeAnim=function(t,e,o){var n=this,i=this.nodeEffectCompose.convertToNodeSpaceAR(e),r=c.default.pool.getNode(this.pre_ComposeObj).getComponent(cc.Sprite),a=c.default.pool.getNode(this.pre_ComposeObj).getComponent(cc.Sprite);r.node.setParent(this.nodeEffectCompose),a.node.setParent(this.nodeEffectCompose),r.node.setPosition(i),a.node.setPosition(i),r.spriteFrame=t,a.spriteFrame=t;var s=10/18/1e3*150,l=10/18/1e3*350;r.node.active=!0,a.node.active=!0,this.nodeEffect.active=!0,cc.tween(r.node).to(s,{x:i.x-40},{easing:cc.easing.sineIn}).to(l,{x:i.x,opacity:127.5},{easing:cc.easing.sineIn}).set({active:!1}).call(function(){c.default.pool.setNode(r.node)}).start(),cc.tween(a.node).to(s,{x:i.x+40},{easing:cc.easing.sineIn}).to(l,{x:i.x,opacity:127.5},{easing:cc.easing.sineIn}).set({active:!1}).call(function(){c.default.pool.setNode(a.node)}).start(),cc.tween(o).set({opacity:0}).delay(s+l).call(function(){n.shark(i,100)}).set({scale:1,opacity:255}).to(10/18/1e3*250,{scale:1.6}).to(10/18/1e3*150,{scale:2}).delay(10/18/1e3*300).to(10/18/1e3*600,{scale:1},{easing:cc.easing.backOut}).call(function(){n.nodeEffect.active=!1}).start()},e.prototype.shark=function(t,e){void 0===e&&(e=80);for(var o=t.x,n=t.y,i=Math.PI/180,r=0;r<3;r++)for(var a=e/2+e/4*r,s=function(t){var e=(0+45*t+c.default.rand.limitInteger(-15,15))*i,r=Math.sin(e)*a*.8+n,s=Math.cos(e)*a+o,u=c.default.pool.getNode(l.pre_star);u.width=u.height=30,l.nodeEffect.addChild(u),cc.tween(u).set({x:o,y:n,scale:1}).to(.35,{x:s,y:r,scale:.4}).delay(.05).to(.1,{opacity:0}).call(function(){u.opacity=255,c.default.pool.setNode(u)}).start()},l=this,u=0;u<8;u++)s(u)},e.prototype.update=function(t){this.lblCoin.string="\u91d1\u5e01\uff1a"+u.default.coin.number,this.lblBuyCoin.string=u.default.lv1Vo.coin.number,this._dt-=t,this._dt<=0&&(this._dt=5,this.addCoin())},e.prototype.addCoin=function(){for(var t=this,e=new l.default("0"),o=0;o<this.roost.arr_box.length;o++){var n=this.roost.arr_box[o];if(n&&n.level>0){var i=new l.default(n.vo.income);e.add(i)}}u.default.coin=u.default.coin.add(e),"0"!=e.number&&(this.lblIncome.string="+"+e.number,this.lblIncome.node.active=!0,cc.Tween.stopAllByTarget(this.lblIncome.node),cc.tween(this.lblIncome.node).set({opacity:0}).to(.2,{opacity:255}).delay(.5).to(.4,{opacity:0}).call(function(){t.lblIncome.node.active=!1}).start())},e.event_playComposeAnim=Symbol(),r([f(p.default)],e.prototype,"roost",void 0),r([f(cc.Node)],e.prototype,"btnBuy",void 0),r([f(cc.Node)],e.prototype,"nodeEffect",void 0),r([f(cc.Prefab)],e.prototype,"pre_star",void 0),r([f(cc.Sprite)],e.prototype,"imgDrag",void 0),r([f(cc.Label)],e.prototype,"lblCoin",void 0),r([f(cc.Label)],e.prototype,"lblBuyCoin",void 0),r([f(cc.Label)],e.prototype,"lblIncome",void 0),r([f(cc.Node)],e.prototype,"nodeEffectCompose",void 0),r([f(cc.Prefab)],e.prototype,"pre_ComposeObj",void 0),o=r([h],e)}(a.default);o.default=_,cc._RF.pop()},{"../../core/app":"app","../../core/base/BaseView":"BaseView","../../data/Common":"Common","./ID25_Data":"ID25_Data","./Roost":"Roost","./bignumber/BigNum":"BigNum"}],InterfaceUrl:[function(t,e,o){"use strict";cc._RF.push(e,"a685f9EhPhJl6W7ym/ZlyMX","InterfaceUrl"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t,"url",{get:function(){return 1==location.origin.includes("localhost")||1==location.origin.includes("192.168.2.33")?"https://hddev.kerlala.com":location.origin},enumerable:!1,configurable:!0}),Object.defineProperty(t,"config",{get:function(){var t={pid:"/70",sn:"/AZGyg6P9"},e=window.dmspConf;return e&&(t={pid:"/"+e.pid,sn:"/"+e.sn}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"pid",{get:function(){return this.config.pid},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sn",{get:function(){return this.config.sn},enumerable:!1,configurable:!0}),t.getUrl=function(t){return this.url+t+this.pid+this.sn},t.debug=!0,t.socketUrl="ws://xxx",t.getActivityInfo="/Common/activity/getActivityInfo",t.getUserInfo="/Common/activity/getUserInfo",t.getAdvertList="/Common/activity/getAdvertList",t.getUserExtInfo="/Component/draw/getUserExtInfo",t.commonDrawPrize="/Component/draw/commonDrawPrize",t.getPrizeList="/Component/draw/getPrizeList",t.getMyWinList="/Component/draw/getMyWinList",t.getWinInfo="/Component/draw/getWinInfo",t.getIndexData="/activity/dunk/getindexdata",t.apiNewGame="/activity/dunk/newgame",t.apiEndGame="/activity/dunk/endgame",t.getGameRecordList="/activity/dunk/gamerecord",t.activityInviteList="/activity/dunk/invite",t.advertApiGetMultAdvert="/advertApi/getMultAdvert",t}();o.default=n,cc._RF.pop()},{}],ListItem:[function(t,e,o){"use strict";cc._RF.push(e,"2a9b0LFqShMxI7rpMqMmHIh","ListItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c,a=cc._decorator,s=a.ccclass,l=a.property,u=a.disallowMultiple,p=a.menu,d=a.executionOrder;(function(t){t[t.NONE=0]="NONE",t[t.TOGGLE=1]="TOGGLE",t[t.SWITCH=2]="SWITCH"})(c||(c={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.title=null,e.selectedMode=c.NONE,e.selectedFlag=null,e.selectedSpriteFrame=null,e._unselectedSpriteFrame=null,e.adaptiveSize=!1,e._selected=!1,e._eventReg=!1,e}return i(e,t),Object.defineProperty(e.prototype,"selected",{get:function(){return this._selected},set:function(t){if(this._selected=t,this.selectedFlag)switch(this.selectedMode){case c.TOGGLE:this.selectedFlag.active=t;break;case c.SWITCH:var e=this.selectedFlag.getComponent(cc.Sprite);e&&(e.spriteFrame=t?this.selectedSpriteFrame:this._unselectedSpriteFrame)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"btnCom",{get:function(){return this._btnCom||(this._btnCom=this.node.getComponent(cc.Button)),this._btnCom},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){if(this.selectedMode==c.SWITCH){var t=this.selectedFlag.getComponent(cc.Sprite);this._unselectedSpriteFrame=t.spriteFrame}},e.prototype.onDestroy=function(){this.node.off(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this)},e.prototype._registerEvent=function(){this._eventReg||(this.btnCom&&this.list.selectedMode>0&&this.btnCom.clickEvents.unshift(this.createEvt(this,"onClickThis")),this.adaptiveSize&&this.node.on(cc.Node.EventType.SIZE_CHANGED,this._onSizeChange,this),this._eventReg=!0)},e.prototype._onSizeChange=function(){this.list._onItemAdaptive(this.node)},e.prototype.createEvt=function(t,e,o){if(void 0===o&&(o=null),t.isValid){t.comName=t.comName||t.name.match(/\<(.*?)\>/g).pop().replace(/\<|>/g,"");var n=new cc.Component.EventHandler;return n.target=o||t.node,n.component=t.comName,n.handler=e,n}},e.prototype.showAni=function(t,e,o){var n,i=this;switch(t){case 0:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,2*this.node.height)];break;case 1:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,2*this.node.width,0)];break;case 2:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,0,-2*this.node.height)];break;case 3:n=[cc.scaleTo(.2,.7),cc.moveBy(.3,-2*this.node.width,0)];break;default:n=[cc.scaleTo(.3,.1)]}(e||o)&&n.push(cc.callFunc(function(){if(o){i.list._delSingleItem(i.node);for(var t=i.list.displayData.length-1;t>=0;t--)if(i.list.displayData[t].id==i.listId){i.list.displayData.splice(t,1);break}}e()})),this.node.runAction(cc.sequence(n))},e.prototype.onClickThis=function(){this.list.selectedId=this.listId},r([l({type:cc.Sprite,tooltip:!1})],e.prototype,"icon",void 0),r([l({type:cc.Node,tooltip:!1})],e.prototype,"title",void 0),r([l({type:cc.Enum(c),tooltip:!1})],e.prototype,"selectedMode",void 0),r([l({type:cc.Node,tooltip:!1,visible:function(){return this.selectedMode>c.NONE}})],e.prototype,"selectedFlag",void 0),r([l({type:cc.SpriteFrame,tooltip:!1,visible:function(){return this.selectedMode==c.SWITCH}})],e.prototype,"selectedSpriteFrame",void 0),r([l({tooltip:!1})],e.prototype,"adaptiveSize",void 0),r([s,u(),p("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/\u865a\u62df\u5217\u8868/listItem"),d(-5001)],e)}(cc.Component);o.default=h,cc._RF.pop()},{}],List:[function(t,e,o){"use strict";cc._RF.push(e,"3df15uj8KtIp5CmbJ/oUTe5","List");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c,a,s,l=t("./ListItem"),u=cc._decorator,p=u.ccclass,d=u.property,h=u.disallowMultiple,f=u.menu,_=u.executionOrder,y=u.requireComponent;(function(t){t[t.NODE=1]="NODE",t[t.PREFAB=2]="PREFAB"})(c||(c={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.ADHERING=2]="ADHERING",t[t.PAGE=3]="PAGE"}(a||(a={})),function(t){t[t.NONE=0]="NONE",t[t.SINGLE=1]="SINGLE",t[t.MULT=2]="MULT"}(s||(s={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.templateType=c.NODE,e.tmpNode=null,e.tmpPrefab=null,e._slideMode=a.NORMAL,e.pageDistance=.3,e.pageChangeEvent=new cc.Component.EventHandler,e._virtual=!0,e.cyclic=!1,e.lackCenter=!1,e.lackSlide=!1,e._updateRate=0,e.frameByFrameRenderNum=0,e.renderEvent=new cc.Component.EventHandler,e.selectedMode=s.NONE,e.repeatEventSingle=!1,e.selectedEvent=null,e._selectedId=-1,e._forceUpdate=!1,e._updateDone=!0,e._numItems=0,e._inited=!1,e._needUpdateWidget=!1,e._aniDelRuning=!1,e._doneAfterUpdate=!1,e.adhering=!1,e._adheringBarrier=!1,e.curPageNum=0,e}return i(e,t),Object.defineProperty(e.prototype,"slideMode",{get:function(){return this._slideMode},set:function(t){this._slideMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"virtual",{get:function(){return this._virtual},set:function(t){null!=t&&(this._virtual=t),0!=this._numItems&&this._onScrolling()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateRate",{get:function(){return this._updateRate},set:function(t){t>=0&&t<=6&&(this._updateRate=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectedId",{get:function(){return this._selectedId},set:function(t){var e,o=this;switch(o.selectedMode){case s.SINGLE:if(!o.repeatEventSingle&&t==o._selectedId)return;e=o.getItemByListId(t);var n=void 0;if(o._selectedId>=0?o._lastSelectedId=o._selectedId:o._lastSelectedId=null,o._selectedId=t,e&&((n=e.getComponent(n)).selected=!0),o._lastSelectedId>=0&&o._lastSelectedId!=o._selectedId){var i=o.getItemByListId(o._lastSelectedId);i&&(i.getComponent(n).selected=!1)}o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems);break;case s.MULT:if(!(e=o.getItemByListId(t)))return;var r=e.getComponent(l.default);o._selectedId>=0&&(o._lastSelectedId=o._selectedId),o._selectedId=t;var c=!r.selected;r.selected=c;var a=o.multSelected.indexOf(t);c&&a<0?o.multSelected.push(t):!c&&a>=0&&o.multSelected.splice(a,1),o.selectedEvent&&cc.Component.EventHandler.emitEvents([o.selectedEvent],e,t%this._actualNumItems,null==o._lastSelectedId?null:o._lastSelectedId%this._actualNumItems,c)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numItems",{get:function(){return this._actualNumItems},set:function(t){var e=this;if(e.checkInited(!1))if(null==t||t<0)cc.error("numItems set the wrong::",t);else if(e._actualNumItems=e._numItems=t,e._forceUpdate=!0,e._virtual)e._resizeContent(),e.cyclic&&(e._numItems=e._cyclicNum*e._numItems),e._onScrolling(),e.frameByFrameRenderNum||e.slideMode!=a.PAGE||(e.curPageNum=e.nearestListId);else{var o=e.content.getComponent(cc.Layout);if(o&&(o.enabled=!0),e._delRedundantItem(),e.firstListId=0,e.frameByFrameRenderNum>0){for(var n=e.frameByFrameRenderNum>e._numItems?e._numItems:e.frameByFrameRenderNum,i=0;i<n;i++)e._createOrUpdateItem2(i);e.frameByFrameRenderNum<e._numItems&&(e._updateCounter=e.frameByFrameRenderNum,e._updateDone=!1)}else{for(i=0;i<t;i++)e._createOrUpdateItem2(i);e.displayItemNum=t}}else console.log("\u672a\u521d\u59cb\u5316")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollView",{get:function(){return this._scrollView},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this._init()},e.prototype.onDestroy=function(){var t=this;for(t._itemTmp&&t._itemTmp.isValid&&t._itemTmp.destroy(),t.tmpNode&&t.tmpNode.isValid&&t.tmpNode.destroy();t._pool.size();)t._pool.get().destroy()},e.prototype.onEnable=function(){this._registerEvent(),this._init()},e.prototype.onDisable=function(){this._unregisterEvent()},e.prototype._registerEvent=function(){var t=this;t.node.on(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.on("touch-up",t._onTouchUp,t),t.node.on(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.on("scroll-began",t._onScrollBegan,t,!0),t.node.on("scroll-ended",t._onScrollEnded,t,!0),t.node.on("scrolling",t._onScrolling,t,!0),t.node.on(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._unregisterEvent=function(){var t=this;t.node.off(cc.Node.EventType.TOUCH_START,t._onTouchStart,t,!0),t.node.off("touch-up",t._onTouchUp,t),t.node.off(cc.Node.EventType.TOUCH_CANCEL,t._onTouchCancelled,t,!0),t.node.off("scroll-began",t._onScrollBegan,t,!0),t.node.off("scroll-ended",t._onScrollEnded,t,!0),t.node.off("scrolling",t._onScrolling,t,!0),t.node.off(cc.Node.EventType.SIZE_CHANGED,t._onSizeChanged,t)},e.prototype._init=function(){var t=this;if(!t._inited)if(t._scrollView=t.node.getComponent(cc.ScrollView),t.content=t._scrollView.content,t.content){switch(t._layout=t.content.getComponent(cc.Layout),t._align=t._layout.type,t._resizeMode=t._layout.resizeMode,t._startAxis=t._layout.startAxis,t._topGap=t._layout.paddingTop,t._rightGap=t._layout.paddingRight,t._bottomGap=t._layout.paddingBottom,t._leftGap=t._layout.paddingLeft,t._columnGap=t._layout.spacingX,t._lineGap=t._layout.spacingY,t._colLineNum,t._verticalDir=t._layout.verticalDirection,t._horizontalDir=t._layout.horizontalDirection,t.setTemplateItem(cc.instantiate(t.templateType==c.PREFAB?t.tmpPrefab:t.tmpNode)),t._slideMode!=a.ADHERING&&t._slideMode!=a.PAGE||(t._scrollView.inertia=!1,t._scrollView._onMouseWheel=function(){}),t.virtual||(t.lackCenter=!1),t._lastDisplayData=[],t.displayData=[],t._pool=new cc.NodePool,t._forceUpdate=!1,t._updateCounter=0,t._updateDone=!0,t.curPageNum=0,t.cyclic&&(t._scrollView._processAutoScrolling=this._processAutoScrolling.bind(t),t._scrollView._startBounceBackIfNeeded=function(){return!1}),t._align){case cc.Layout.Type.HORIZONTAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}break;case cc.Layout.Type.VERTICAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.Type.GRID:switch(t._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(t._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:t._alignCalcType=3;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:t._alignCalcType=4}break;case cc.Layout.AxisDirection.VERTICAL:switch(t._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:t._alignCalcType=1;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:t._alignCalcType=2}}}t.content.removeAllChildren(),t._inited=!0}else cc.error(t.node.name+"'s cc.ScrollView unset content!")},e.prototype._processAutoScrolling=function(t){this._scrollView._autoScrollAccumulatedTime+=1*t;var e=Math.min(1,this._scrollView._autoScrollAccumulatedTime/this._scrollView._autoScrollTotalTime);if(this._scrollView._autoScrollAttenuate){var o=e-1;e=o*o*o*o*o+1}var n=this._scrollView._autoScrollStartPosition.add(this._scrollView._autoScrollTargetDelta.mul(e)),i=this._scrollView.getScrollEndedEventTiming(),r=Math.abs(e-1)<=i;Math.abs(e-1)<=this._scrollView.getScrollEndedEventTiming()&&!this._scrollView._isScrollEndedWithThresholdEventFired&&(this._scrollView._dispatchEvent("scroll-ended-with-threshold"),this._scrollView._isScrollEndedWithThresholdEventFired=!0),r&&(this._scrollView._autoScrolling=!1);var c=n.sub(this._scrollView.getContentPosition());this._scrollView._moveContent(this._scrollView._clampDelta(c),r),this._scrollView._dispatchEvent("scrolling"),this._scrollView._autoScrolling||(this._scrollView._isBouncing=!1,this._scrollView._scrolling=!1,this._scrollView._dispatchEvent("scroll-ended"))},e.prototype.setTemplateItem=function(t){if(t){var e=this;e._itemTmp=t,e._resizeMode==cc.Layout.ResizeMode.CHILDREN?e._itemSize=e._layout.cellSize:e._itemSize=cc.size(t.width,t.height);var o=t.getComponent(l.default),n=!1;switch(o||(n=!0),n&&(e.selectedMode=s.NONE),(o=t.getComponent(cc.Widget))&&o.enabled&&(e._needUpdateWidget=!0),e.selectedMode==s.MULT&&(e.multSelected=[]),e._align){case cc.Layout.Type.HORIZONTAL:e._colLineNum=1,e._sizeType=!1;break;case cc.Layout.Type.VERTICAL:e._colLineNum=1,e._sizeType=!0;break;case cc.Layout.Type.GRID:switch(e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var i=e.content.width-e._leftGap-e._rightGap;e._colLineNum=Math.floor((i+e._columnGap)/(e._itemSize.width+e._columnGap)),e._sizeType=!0;break;case cc.Layout.AxisDirection.VERTICAL:var r=e.content.height-e._topGap-e._bottomGap;e._colLineNum=Math.floor((r+e._lineGap)/(e._itemSize.height+e._lineGap)),e._sizeType=!1}}}},e.prototype.checkInited=function(t){return void 0===t&&(t=!0),!!this._inited||(t&&cc.error("List initialization not completed!"),!1)},e.prototype._resizeContent=function(){var t,e=this;switch(e._align){case cc.Layout.Type.HORIZONTAL:if(e._customSize){var o=e._getFixedSize(null);t=e._leftGap+o.val+e._itemSize.width*(e._numItems-o.count)+e._columnGap*(e._numItems-1)+e._rightGap}else t=e._leftGap+e._itemSize.width*e._numItems+e._columnGap*(e._numItems-1)+e._rightGap;break;case cc.Layout.Type.VERTICAL:e._customSize?(o=e._getFixedSize(null),t=e._topGap+o.val+e._itemSize.height*(e._numItems-o.count)+e._lineGap*(e._numItems-1)+e._bottomGap):t=e._topGap+e._itemSize.height*e._numItems+e._lineGap*(e._numItems-1)+e._bottomGap;break;case cc.Layout.Type.GRID:switch(e.lackCenter&&(e.lackCenter=!1),e._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:var n=Math.ceil(e._numItems/e._colLineNum);t=e._topGap+e._itemSize.height*n+e._lineGap*(n-1)+e._bottomGap;break;case cc.Layout.AxisDirection.VERTICAL:var i=Math.ceil(e._numItems/e._colLineNum);t=e._leftGap+e._itemSize.width*i+e._columnGap*(i-1)+e._rightGap}}var r=e.content.getComponent(cc.Layout);if(r&&(r.enabled=!1),e._allItemSize=t,e._allItemSizeNoEdge=e._allItemSize-(e._sizeType?e._topGap+e._bottomGap:e._leftGap+e._rightGap),e.cyclic){var c=e._sizeType?e.node.height:e.node.width;e._cyclicPos1=0,c-=e._cyclicPos1,e._cyclicNum=Math.ceil(c/e._allItemSizeNoEdge)+1;var a=e._sizeType?e._lineGap:e._columnGap;e._cyclicPos2=e._cyclicPos1+e._allItemSizeNoEdge+a,e._cyclicAllItemSize=e._allItemSize+e._allItemSizeNoEdge*(e._cyclicNum-1)+a*(e._cyclicNum-1),e._cycilcAllItemSizeNoEdge=e._allItemSizeNoEdge*e._cyclicNum,e._cycilcAllItemSizeNoEdge+=a*(e._cyclicNum-1)}e._lack=!e.cyclic&&e._allItemSize<(e._sizeType?e.node.height:e.node.width);var s=e._lack&&e.lackCenter||!e.lackSlide?.1:0,l=e._lack?(e._sizeType?e.node.height:e.node.width)-s:e.cyclic?e._cyclicAllItemSize:e._allItemSize;l<0&&(l=0),e._sizeType?e.content.height=l:e.content.width=l},e.prototype._onScrolling=function(t){if(void 0===t&&(t=null),null==this.frameCount&&(this.frameCount=this._updateRate),!this._forceUpdate&&t&&"scroll-ended"!=t.type&&this.frameCount>0)this.frameCount--;else if(this.frameCount=this._updateRate,!this._aniDelRuning){if(this.cyclic){var e=this.content.getPosition();e=this._sizeType?e.y:e.x;var o=this._allItemSizeNoEdge+(this._sizeType?this._lineGap:this._columnGap),n=this._sizeType?cc.v2(0,o):cc.v2(o,0);switch(this._alignCalcType){case 1:e>-this._cyclicPos1?(this.content.x=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n))):e<-this._cyclicPos2&&(this.content.x=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n)));break;case 2:e<this._cyclicPos1?(this.content.x=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n))):e>this._cyclicPos2&&(this.content.x=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n)));break;case 3:e<this._cyclicPos1?(this.content.y=this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n))):e>this._cyclicPos2&&(this.content.y=this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n)));break;case 4:e>-this._cyclicPos1?(this.content.y=-this._cyclicPos2,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.sub(n))):e<-this._cyclicPos2&&(this.content.y=-this._cyclicPos1,this._scrollView.isAutoScrolling()&&(this._scrollView._autoScrollStartPosition=this._scrollView._autoScrollStartPosition.add(n)))}}var i,r,c,a;if(this._calcViewPos(),this._sizeType?(i=this.viewTop,c=this.viewBottom):(r=this.viewRight,a=this.viewLeft),this._virtual){this.displayData=[];var s=void 0,l=0,u=this._numItems-1;if(this._customSize)for(var p=!1;l<=u&&!p;l++)switch(s=this._calcItemPos(l),this._align){case cc.Layout.Type.HORIZONTAL:s.right>=a&&s.left<=r?this.displayData.push(s):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.VERTICAL:s.bottom<=i&&s.top>=c?this.displayData.push(s):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.Type.GRID:switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:s.bottom<=i&&s.top>=c?this.displayData.push(s):0!=l&&this.displayData.length>0&&(p=!0);break;case cc.Layout.AxisDirection.VERTICAL:s.right>=a&&s.left<=r?this.displayData.push(s):0!=l&&this.displayData.length>0&&(p=!0)}}else{var d=this._itemSize.width+this._columnGap,h=this._itemSize.height+this._lineGap;switch(this._alignCalcType){case 1:l=(a+this._leftGap)/d,u=(r+this._rightGap)/d;break;case 2:l=(-r-this._rightGap)/d,u=(-a-this._leftGap)/d;break;case 3:l=(-i-this._topGap)/h,u=(-c-this._bottomGap)/h;break;case 4:l=(c+this._bottomGap)/h,u=(i+this._topGap)/h}for(l=Math.floor(l)*this._colLineNum,u=Math.ceil(u)*this._colLineNum,l<0&&(l=0),--u>=this._numItems&&(u=this._numItems-1);l<=u;l++)this.displayData.push(this._calcItemPos(l))}if(this._delRedundantItem(),this.displayData.length<=0||!this._numItems)return void(this._lastDisplayData=[]);this.firstListId=this.displayData[0].id,this.displayItemNum=this.displayData.length;var f=this._lastDisplayData.length,_=this.displayItemNum!=f;if(_&&(this.frameByFrameRenderNum>0&&this._lastDisplayData.sort(function(t,e){return t-e}),_=this.firstListId!=this._lastDisplayData[0]||this.displayData[this.displayItemNum-1].id!=this._lastDisplayData[f-1]),this._forceUpdate||_)if(this.frameByFrameRenderNum>0)this._numItems>0?(this._updateDone?this._updateCounter=0:this._doneAfterUpdate=!0,this._updateDone=!1):(this._updateCounter=0,this._updateDone=!0);else{this._lastDisplayData=[];for(var y=0;y<this.displayItemNum;y++)this._createOrUpdateItem(this.displayData[y]);this._forceUpdate=!1}this._calcNearestItem()}}},e.prototype._calcViewPos=function(){var t=this.content.getPosition();switch(this._alignCalcType){case 1:this.elasticLeft=t.x>0?t.x:0,this.viewLeft=(t.x<0?-t.x:0)-this.elasticLeft,this.viewRight=this.viewLeft+this.node.width,this.elasticRight=this.viewRight>this.content.width?Math.abs(this.viewRight-this.content.width):0,this.viewRight+=this.elasticRight;break;case 2:this.elasticRight=t.x<0?-t.x:0,this.viewRight=(t.x>0?-t.x:0)+this.elasticRight,this.viewLeft=this.viewRight-this.node.width,this.elasticLeft=this.viewLeft<-this.content.width?Math.abs(this.viewLeft+this.content.width):0,this.viewLeft-=this.elasticLeft;break;case 3:this.elasticTop=t.y<0?Math.abs(t.y):0,this.viewTop=(t.y>0?-t.y:0)+this.elasticTop,this.viewBottom=this.viewTop-this.node.height,this.elasticBottom=this.viewBottom<-this.content.height?Math.abs(this.viewBottom+this.content.height):0,this.viewBottom+=this.elasticBottom;break;case 4:this.elasticBottom=t.y>0?Math.abs(t.y):0,this.viewBottom=(t.y<0?-t.y:0)-this.elasticBottom,this.viewTop=this.viewBottom+this.node.height,this.elasticTop=this.viewTop>this.content.height?Math.abs(this.viewTop-this.content.height):0,this.viewTop-=this.elasticTop}},e.prototype._calcItemPos=function(t){var e,o,n,i,r,c,a,s;switch(this._align){case cc.Layout.Type.HORIZONTAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:if(this._customSize){var l=this._getFixedSize(t);r=this._leftGap+(this._itemSize.width+this._columnGap)*(t-l.count)+(l.val+this._columnGap*l.count),e=(u=this._customSize[t])>0?u:this._itemSize.width}else r=this._leftGap+(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width;return c=r+e,this.lackCenter&&(r+=p=this.content.width/2-this._allItemSizeNoEdge/2,c+=p),{id:t,left:r,right:c,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y};case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:return this._customSize?(l=this._getFixedSize(t),c=-this._rightGap-(this._itemSize.width+this._columnGap)*(t-l.count)-(l.val+this._columnGap*l.count),e=(u=this._customSize[t])>0?u:this._itemSize.width):(c=-this._rightGap-(this._itemSize.width+this._columnGap)*t,e=this._itemSize.width),r=c-e,this.lackCenter&&(r-=p=this.content.width/2-this._allItemSizeNoEdge/2,c-=p),{id:t,right:c,left:r,x:r+this._itemTmp.anchorX*e,y:this._itemTmp.y}}break;case cc.Layout.Type.VERTICAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:return this._customSize?(l=this._getFixedSize(t),n=-this._topGap-(this._itemSize.height+this._lineGap)*(t-l.count)-(l.val+this._lineGap*l.count),o=(u=this._customSize[t])>0?u:this._itemSize.height):(n=-this._topGap-(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height),i=n-o,this.lackCenter&&(n-=p=this.content.height/2-this._allItemSizeNoEdge/2,i-=p),{id:t,top:n,bottom:i,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*o};case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:var u,p;if(this._customSize)l=this._getFixedSize(t),i=this._bottomGap+(this._itemSize.height+this._lineGap)*(t-l.count)+(l.val+this._lineGap*l.count),o=(u=this._customSize[t])>0?u:this._itemSize.height;else i=this._bottomGap+(this._itemSize.height+this._lineGap)*t,o=this._itemSize.height;return n=i+o,this.lackCenter&&(n+=p=this.content.height/2-this._allItemSizeNoEdge/2,i+=p),{id:t,top:n,bottom:i,x:this._itemTmp.x,y:i+this._itemTmp.anchorY*o}}case cc.Layout.Type.GRID:var d=Math.floor(t/this._colLineNum);switch(this._startAxis){case cc.Layout.AxisDirection.HORIZONTAL:switch(this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:s=(i=(n=-this._topGap-(this._itemSize.height+this._lineGap)*d)-this._itemSize.height)+this._itemTmp.anchorY*this._itemSize.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:n=(i=this._bottomGap+(this._itemSize.height+this._lineGap)*d)+this._itemSize.height,s=i+this._itemTmp.anchorY*this._itemSize.height}switch(a=this._leftGap+t%this._colLineNum*(this._itemSize.width+this._columnGap),this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:a+=this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a+=(1-this._itemTmp.anchorX)*this._itemSize.width,a-=(1-this.content.anchorX)*this.content.width,a*=-1}return{id:t,top:n,bottom:i,x:a,y:s};case cc.Layout.AxisDirection.VERTICAL:switch(this._horizontalDir){case cc.Layout.HorizontalDirection.LEFT_TO_RIGHT:c=(r=this._leftGap+(this._itemSize.width+this._columnGap)*d)+this._itemSize.width,a=r+this._itemTmp.anchorX*this._itemSize.width,a-=this.content.anchorX*this.content.width;break;case cc.Layout.HorizontalDirection.RIGHT_TO_LEFT:a=(r=(c=-this._rightGap-(this._itemSize.width+this._columnGap)*d)-this._itemSize.width)+this._itemTmp.anchorX*this._itemSize.width,a+=(1-this.content.anchorX)*this.content.width}switch(s=-this._topGap-t%this._colLineNum*(this._itemSize.height+this._lineGap),this._verticalDir){case cc.Layout.VerticalDirection.TOP_TO_BOTTOM:s-=(1-this._itemTmp.anchorY)*this._itemSize.height,s+=(1-this.content.anchorY)*this.content.height;break;case cc.Layout.VerticalDirection.BOTTOM_TO_TOP:s-=this._itemTmp.anchorY*this._itemSize.height,s+=this.content.anchorY*this.content.height,s*=-1}return{id:t,left:r,right:c,x:a,y:s}}}},e.prototype._calcExistItemPos=function(t){var e=this.getItemByListId(t);if(!e)return null;var o={id:t,x:e.x,y:e.y};return this._sizeType?(o.top=e.y+e.height*(1-e.anchorY),o.bottom=e.y-e.height*e.anchorY):(o.left=e.x-e.width*e.anchorX,o.right=e.x+e.width*(1-e.anchorX)),o},e.prototype.getItemPos=function(t){return this._virtual?this._calcItemPos(t):this.frameByFrameRenderNum?this._calcItemPos(t):this._calcExistItemPos(t)},e.prototype._getFixedSize=function(t){if(!this._customSize)return null;null==t&&(t=this._numItems);var e=0,o=0;for(var n in this._customSize)parseInt(n)<t&&(e+=this._customSize[n],o++);return{val:e,count:o}},e.prototype._onScrollBegan=function(){this._beganPos=this._sizeType?this.viewTop:this.viewLeft},e.prototype._onScrollEnded=function(){var t=this;if(null!=t.scrollToListId){var e=t.getItemByListId(t.scrollToListId);t.scrollToListId=null,e&&e.runAction(cc.sequence(cc.scaleTo(.1,1.06),cc.scaleTo(.1,1)))}t._onScrolling(),t._slideMode!=a.ADHERING||t.adhering?t._slideMode==a.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()):t.adhere()},e.prototype._onTouchStart=function(t,e){if(!this._scrollView.hasNestedViewGroup(t,e)&&(t.eventPhase!==cc.Event.AT_TARGET||t.target!==this.node)){for(var o=t.target;null==o._listId&&o.parent;)o=o.parent;this._scrollItem=null!=o._listId?o:t.target}},e.prototype._onTouchUp=function(){var t=this;t._scrollPos=null,t._slideMode==a.ADHERING?(this.adhering&&(this._adheringBarrier=!0),t.adhere()):t._slideMode==a.PAGE&&(null!=t._beganPos?this._pageAdhere():t.adhere()),this._scrollItem=null},e.prototype._onTouchCancelled=function(t,e){var o=this;o._scrollView.hasNestedViewGroup(t,e)||t.simulate||(o._scrollPos=null,o._slideMode==a.ADHERING?(o.adhering&&(o._adheringBarrier=!0),o.adhere()):o._slideMode==a.PAGE&&(null!=o._beganPos?o._pageAdhere():o.adhere()),this._scrollItem=null)},e.prototype._onSizeChanged=function(){this.checkInited(!1)&&this._onScrolling()},e.prototype._onItemAdaptive=function(t){if(!this._sizeType&&t.width!=this._itemSize.width||this._sizeType&&t.height!=this._itemSize.height){this._customSize||(this._customSize={});var e=this._sizeType?t.height:t.width;this._customSize[t._listId]!=e&&(this._customSize[t._listId]=e,this._resizeContent(),this.updateAll(),null!=this._scrollToListId&&(this._scrollPos=null,this.unschedule(this._scrollToSo),this.scrollTo(this._scrollToListId,Math.max(0,this._scrollToEndTime-(new Date).getTime()/1e3))))}},e.prototype._pageAdhere=function(){var t=this;if(t.cyclic||!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){var e=t._sizeType?t.viewTop:t.viewLeft,o=(t._sizeType?t.node.height:t.node.width)*t.pageDistance;if(Math.abs(t._beganPos-e)>o)switch(t._alignCalcType){case 1:case 4:t._beganPos>e?t.prePage(.5):t.nextPage(.5);break;case 2:case 3:t._beganPos<e?t.prePage(.5):t.nextPage(.5)}else t.elasticTop<=0&&t.elasticRight<=0&&t.elasticBottom<=0&&t.elasticLeft<=0&&t.adhere();t._beganPos=null}},e.prototype.adhere=function(){var t=this;if(t.checkInited()&&!(t.elasticTop>0||t.elasticRight>0||t.elasticBottom>0||t.elasticLeft>0)){t.adhering=!0,t._calcNearestItem();var e=(t._sizeType?t._topGap:t._leftGap)/(t._sizeType?t.node.height:t.node.width);t.scrollTo(t.nearestListId,.7,e)}},e.prototype.update=function(){if(!(this.frameByFrameRenderNum<=0||this._updateDone))if(this._virtual){for(var t=this._updateCounter+this.frameByFrameRenderNum>this.displayItemNum?this.displayItemNum:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++){var o=this.displayData[e];o&&this._createOrUpdateItem(o)}this._updateCounter>=this.displayItemNum-1?this._doneAfterUpdate?(this._updateCounter=0,this._updateDone=!1,this._doneAfterUpdate=!1):(this._updateDone=!0,this._delRedundantItem(),this._forceUpdate=!1,this._calcNearestItem(),this.slideMode==a.PAGE&&(this.curPageNum=this.nearestListId)):this._updateCounter+=this.frameByFrameRenderNum}else if(this._updateCounter<this._numItems){for(t=this._updateCounter+this.frameByFrameRenderNum>this._numItems?this._numItems:this._updateCounter+this.frameByFrameRenderNum,e=this._updateCounter;e<t;e++)this._createOrUpdateItem2(e);this._updateCounter+=this.frameByFrameRenderNum}else this._updateDone=!0,this._calcNearestItem(),this.slideMode==a.PAGE&&(this.curPageNum=this.nearestListId)},e.prototype._createOrUpdateItem=function(t){var e=this.getItemByListId(t.id);if(e)this._forceUpdate&&this.renderEvent&&(e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems));else{var o=this._pool.size()>0;if((e=o?this._pool.get():cc.instantiate(this._itemTmp))._listId!=t.id&&(e._listId=t.id,e.setContentSize(this._itemSize)),e.setPosition(cc.v2(t.x,t.y)),this._resetItemSize(e),this.content.addChild(e),o&&this._needUpdateWidget){var n=e.getComponent(cc.Widget);n&&n.updateAlignment()}e.setSiblingIndex(this.content.childrenCount-1);var i=e.getComponent(l.default);e.listItem=i,i&&(i.listId=t.id,i.list=this,i._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],e,t.id%this._actualNumItems)}this._resetItemSize(e),this._updateListItem(e.listItem),this._lastDisplayData.indexOf(t.id)<0&&this._lastDisplayData.push(t.id)},e.prototype._createOrUpdateItem2=function(t){var e,o=this.content.children[t];o?this._forceUpdate&&this.renderEvent&&(o._listId=t,e&&(e.listId=t),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t)):((o=cc.instantiate(this._itemTmp))._listId=t,this.content.addChild(o),e=o.getComponent(e),o.listItem=e,e&&(e.listId=t,e.list=this,e._registerEvent()),this.renderEvent&&cc.Component.EventHandler.emitEvents([this.renderEvent],o,t)),this._updateListItem(e),this._lastDisplayData.indexOf(t)<0&&this._lastDisplayData.push(t)},e.prototype._updateListItem=function(t){if(t&&this.selectedMode>s.NONE){var e=t.node;switch(this.selectedMode){case s.SINGLE:t.selected=this.selectedId==e._listId;break;case s.MULT:t.selected=this.multSelected.indexOf(e._listId)>=0}}},e.prototype._resetItemSize=function(){},e.prototype._updateItemPos=function(t){var e=isNaN(t)?t:this.getItemByListId(t),o=this.getItemPos(e._listId);e.setPosition(o.x,o.y)},e.prototype.setMultSelected=function(t,e){var o=this;if(o.checkInited()){if(Array.isArray(t)||(t=[t]),null==e)o.multSelected=t;else{var n=void 0,i=void 0;if(e)for(var r=t.length-1;r>=0;r--)n=t[r],(i=o.multSelected.indexOf(n))<0&&o.multSelected.push(n);else for(r=t.length-1;r>=0;r--)n=t[r],(i=o.multSelected.indexOf(n))>=0&&o.multSelected.splice(i,1)}o._forceUpdate=!0,o._onScrolling()}},e.prototype.updateItem=function(t){if(this.checkInited()){Array.isArray(t)||(t=[t]);for(var e=0,o=t.length;e<o;e++){var n=t[e],i=this.getItemByListId(n);i&&cc.Component.EventHandler.emitEvents([this.renderEvent],i,n%this._actualNumItems)}}},e.prototype.updateAll=function(){this.checkInited()&&(this.numItems=this.numItems)},e.prototype.getItemByListId=function(t){for(var e=this.content.childrenCount-1;e>=0;e--){var o=this.content.children[e];if(o._listId==t)return o}},e.prototype._getOutsideItem=function(){for(var t,e=[],o=this.content.childrenCount-1;o>=0;o--)t=this.content.children[o],this.displayData.find(function(e){return e.id==t._listId})||e.push(t);return e},e.prototype._delRedundantItem=function(){if(this._virtual)for(var t=this._getOutsideItem(),e=t.length-1;e>=0;e--){var o=t[e];if(!this._scrollItem||o._listId!=this._scrollItem._listId){this._pool.put(o);for(var n=this._lastDisplayData.length-1;n>=0;n--)if(this._lastDisplayData[n]==o._listId){this._lastDisplayData.splice(n,1);break}}}else for(;this.content.childrenCount>this._numItems;)this._delSingleItem(this.content.children[this.content.childrenCount-1])},e.prototype._delSingleItem=function(t){t.removeFromParent(),t.destroy&&t.destroy(),t=null},e.prototype.aniDelItem=function(t,e,o){var n=this;if(!n.checkInited()||n.cyclic||!n._virtual)return cc.error("This function is not allowed to be called!");if(n._aniDelRuning)return cc.warn("Please wait for the current deletion to finish!");var i,r=n.getItemByListId(t);if(r){i=r.getComponent(i),n._aniDelRuning=!0;var c=n.displayData[n.displayData.length-1].id,a=i.selected;i.showAni(o,function(){var o,i,l;if(c<n._numItems-2&&(o=c+1),null!=o){var u=n._calcItemPos(o);n.displayData.push(u),n._virtual?n._createOrUpdateItem(u):n._createOrUpdateItem2(o)}else n._numItems--;if(n.selectedMode==s.SINGLE)a?n._selectedId=-1:n._selectedId-1>=0&&n._selectedId--;else if(n.selectedMode==s.MULT&&n.multSelected.length){var p=n.multSelected.indexOf(t);p>=0&&n.multSelected.splice(p,1);for(var d=n.multSelected.length-1;d>=0;d--)(_=n.multSelected[d])>=t&&n.multSelected[d]--}if(n._customSize){n._customSize[t]&&delete n._customSize[t];var h={},f=void 0;for(var _ in n._customSize){f=n._customSize[_];var y=parseInt(_);h[y-(y>=t?1:0)]=f}n._customSize=h}for(d=null!=o?o:c;d>=t+1;d--)if(r=n.getItemByListId(d)){var m=n._calcItemPos(d-1);i=[cc.moveTo(.2333,cc.v2(m.x,m.y))],d<=t+1&&(l=!0,i.push(cc.callFunc(function(){n._aniDelRuning=!1,e(t)}))),i.length>1?r.runAction(cc.sequence(i)):r.runAction(i[0])}l||(n._aniDelRuning=!1,e(t))},!0)}else e(t)},e.prototype.scrollTo=function(t,e,o,n){void 0===e&&(e=.5),void 0===o&&(o=null),void 0===n&&(n=!1);var i=this;if(i.checkInited(!1)){null==e?e=.5:e<0&&(e=0),t<0?t=0:t>=i._numItems&&(t=i._numItems-1),!i._virtual&&i._layout&&i._layout.enabled&&i._layout.updateLayout();var r,c,a=i.getItemPos(t);switch(i._alignCalcType){case 1:r=a.left,r-=null!=o?i.node.width*o:i._leftGap,a=cc.v2(r,0);break;case 2:r=a.right-i.node.width,r+=null!=o?i.node.width*o:i._rightGap,a=cc.v2(r+i.content.width,0);break;case 3:c=a.top,c+=null!=o?i.node.height*o:i._topGap,a=cc.v2(0,-c);break;case 4:c=a.bottom+i.node.height,c-=null!=o?i.node.height*o:i._bottomGap,a=cc.v2(0,-c+i.content.height)}var s=i.content.getPosition();s=Math.abs(i._sizeType?s.y:s.x);var l=i._sizeType?a.y:a.x;Math.abs((null!=i._scrollPos?i._scrollPos:s)-l)>.5&&(i._scrollView.scrollToOffset(a,e),i._scrollToListId=t,i._scrollToEndTime=(new Date).getTime()/1e3+e,i._scrollToSo=i.scheduleOnce(function(){if(i._adheringBarrier||(i.adhering=i._adheringBarrier=!1),i._scrollPos=i._scrollToListId=i._scrollToEndTime=i._scrollToSo=null,n){var e=i.getItemByListId(t);e&&e.runAction(cc.sequence(cc.scaleTo(.1,1.05),cc.scaleTo(.1,1)))}},e+.1),e<=0&&i._onScrolling())}},e.prototype._calcNearestItem=function(){var t,e,o,n,i,r,c=this;c.nearestListId=null,c._virtual&&c._calcViewPos(),o=c.viewTop,n=c.viewRight,i=c.viewBottom,r=c.viewLeft;for(var a=!1,s=0;s<c.content.childrenCount&&!a;s+=c._colLineNum)if(t=c._virtual?c.displayData[s]:c._calcExistItemPos(s))switch(e=c._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,c._alignCalcType){case 1:t.right>=r&&(c.nearestListId=t.id,r>e&&(c.nearestListId+=c._colLineNum),a=!0);break;case 2:t.left<=n&&(c.nearestListId=t.id,n<e&&(c.nearestListId+=c._colLineNum),a=!0);break;case 3:t.bottom<=o&&(c.nearestListId=t.id,o<e&&(c.nearestListId+=c._colLineNum),a=!0);break;case 4:t.top>=i&&(c.nearestListId=t.id,i>e&&(c.nearestListId+=c._colLineNum),a=!0)}if((t=c._virtual?c.displayData[c.displayItemNum-1]:c._calcExistItemPos(c._numItems-1))&&t.id==c._numItems-1)switch(e=c._sizeType?(t.top+t.bottom)/2:e=(t.left+t.right)/2,c._alignCalcType){case 1:n>e&&(c.nearestListId=t.id);break;case 2:r<e&&(c.nearestListId=t.id);break;case 3:i<e&&(c.nearestListId=t.id);break;case 4:o>e&&(c.nearestListId=t.id)}},e.prototype.prePage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum-1,t)},e.prototype.nextPage=function(t){void 0===t&&(t=.5),this.checkInited()&&this.skipPage(this.curPageNum+1,t)},e.prototype.skipPage=function(t,e){var o=this;if(o.checkInited())return o._slideMode!=a.PAGE?cc.error("This function is not allowed to be called, Must SlideMode = PAGE!"):void(t<0||t>=o._numItems||o.curPageNum!=t&&(o.curPageNum=t,o.pageChangeEvent&&cc.Component.EventHandler.emitEvents([o.pageChangeEvent],t),o.scrollTo(t,e)))},e.prototype.calcCustomSize=function(t){var e=this;if(e.checkInited()){if(!e._itemTmp)return cc.error("Unset template item!");if(!e.renderEvent)return cc.error("Unset Render-Event!");e._customSize={};var o=cc.instantiate(e._itemTmp);e.content.addChild(o);for(var n=0;n<t;n++)cc.Component.EventHandler.emitEvents([e.renderEvent],o,n),o.height==e._itemSize.height&&o.width==e._itemSize.width||(e._customSize[n]=e._sizeType?o.height:o.width);return Object.keys(e._customSize).length||(e._customSize=null),o.removeFromParent(),o.destroy&&o.destroy(),e._customSize}},r([d({type:cc.Enum(c),tooltip:!1})],e.prototype,"templateType",void 0),r([d({type:cc.Node,tooltip:!1,visible:function(){return this.templateType==c.NODE}})],e.prototype,"tmpNode",void 0),r([d({type:cc.Prefab,tooltip:!1,visible:function(){return this.templateType==c.PREFAB}})],e.prototype,"tmpPrefab",void 0),r([d()],e.prototype,"_slideMode",void 0),r([d({type:cc.Enum(a),tooltip:!1})],e.prototype,"slideMode",null),r([d({type:cc.Float,range:[0,1,.1],tooltip:!1,slide:!0,visible:function(){return this._slideMode==a.PAGE}})],e.prototype,"pageDistance",void 0),r([d({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this._slideMode==a.PAGE}})],e.prototype,"pageChangeEvent",void 0),r([d()],e.prototype,"_virtual",void 0),r([d({type:cc.Boolean,tooltip:!1})],e.prototype,"virtual",null),r([d({tooltip:!1,visible:function(){var t=this.virtual&&this.slideMode==a.NORMAL;return t||(this.cyclic=!1),t}})],e.prototype,"cyclic",void 0),r([d({tooltip:!1,visible:function(){return this.virtual}})],e.prototype,"lackCenter",void 0),r([d({tooltip:!1,visible:function(){var t=this.virtual&&!this.lackCenter;return t||(this.lackSlide=!1),t}})],e.prototype,"lackSlide",void 0),r([d({type:cc.Integer})],e.prototype,"_updateRate",void 0),r([d({type:cc.Integer,range:[0,6,1],tooltip:!1,slide:!0})],e.prototype,"updateRate",null),r([d({type:cc.Integer,range:[0,12,1],tooltip:!1,slide:!0})],e.prototype,"frameByFrameRenderNum",void 0),r([d({type:cc.Component.EventHandler,tooltip:!1})],e.prototype,"renderEvent",void 0),r([d({type:cc.Enum(s),tooltip:!1})],e.prototype,"selectedMode",void 0),r([d({tooltip:!1,visible:function(){return this.selectedMode==s.SINGLE}})],e.prototype,"repeatEventSingle",void 0),r([d({type:cc.Component.EventHandler,tooltip:!1,visible:function(){return this.selectedMode>s.NONE}})],e.prototype,"selectedEvent",void 0),r([d({serializable:!1})],e.prototype,"_numItems",void 0),r([p,h(),f("\u81ea\u5b9a\u4e49\u7ec4\u4ef6/\u865a\u62df\u5217\u8868/List"),y(cc.ScrollView),_(-5e3)],e)}(cc.Component);o.default=m,cc._RF.pop()},{"./ListItem":"ListItem"}],ModelTips:[function(t,e,o){"use strict";cc._RF.push(e,"e15697T8YxAhJ8/1wefzXJ5","ModelTips");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.vo=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.setData=function(t){this.vo=t,this.label.overflow=cc.Label.Overflow.NONE,this.label.string=t+"",this.label._forceUpdateRenderData(!0),this.label.node.width>500&&(this.label.string="",this.label.overflow=cc.Label.Overflow.RESIZE_HEIGHT,this.label.node.width=500,this.label.string=t+"",this.label._forceUpdateRenderData(!0)),this.label.node.parent.width=this.label.node.width+50,this.label.node.parent.height=this.label.node.height+50},r([s(cc.Label)],e.prototype,"label",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ObjVo:[function(t,e,o){"use strict";cc._RF.push(e,"f34f3VnhTFORq+rgtHnU5vo","ObjVo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./bignumber/BigNum"),i=function(){function t(t){this.atk=0,this.id=0,this.lv=0,this._img="",this._runImg="",this.buy_lv_for_coin=0,this.buy_lv_for_diamond=0,this.buy_lv_for_video=0,this.name="",this.income="",this._coin="",this._diamond="",this.speed=1,this.delete_coin="",this.up_diamond=0,this.buy_count_coin=0,this.buy_count_diamond=0,this.gun_count=0,this.gun_type=0,this.data=t,this.init()}return Object.defineProperty(t.prototype,"img",{get:function(){return this._img+"_png"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"run_img",{get:function(){return this._runImg+"_png"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coin",{get:function(){for(var t=new n.default(this._coin),e=0;e<this.buy_count_coin;e++)t=t.mcl(new n.default(1.08));return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"diamond",{get:function(){for(var t=new n.default(this._diamond),e=0;e<this.buy_count_diamond;e++)t=t.mcl(new n.default(1.08));return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minCoin",{get:function(){var t=Math.pow(2,this.lv-1),e=new n.default(this.coin.bignumber),o=new n.default(t);return e.divide(o)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coinCanBuy",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.init=function(){var t=this.data;this.atk=t.atk,this.id=t.id,this.lv=t.lv,this._img=t.img+"",this._runImg=t.run_img+"",this.buy_lv_for_coin=t.coin_buy_lv,this.buy_lv_for_diamond=t.diamond_buy_lv,this.buy_lv_for_video=t.video_buy_lv,this.name=t.name,this.income=(t.income+"").split(".")[0],this._coin=(t.coin+"").split(".")[0],this._diamond=(t.diamond+"").split(".")[0],this.speed=t.speed,this.delete_coin=(t.reclaim+"").split(".")[0],this.up_diamond=Math.floor(t.up_diamond),this.gun_count=t.gun_count,this.gun_type=t.gun_type},t}();o.default=i,cc._RF.pop()},{"./bignumber/BigNum":"BigNum"}],Roost:[function(t,e,o){"use strict";cc._RF.push(e,"075ccvL0KNEPrFZjzGRy6Cj","Roost");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../core/app"),a=t("./ID25_Box"),s=t("./ID25_Data"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeRoot=null,e.pre_box=null,e.arr_box=[],e.maxCount=20,e}return i(e,t),e.prototype.init=function(){for(var t=0;t<this.maxCount;t++){var e=c.default.pool.getNode(this.pre_box);e.setParent(this.nodeRoot);var o=e.getComponent(a.default);o.init(),this.arr_box.push(o)}},e.prototype.addObj=function(t,e){s.default.arr_objConfig.find(function(e){return e.lv==t});for(var o=0;o<this.maxCount;o++){var n=this.arr_box[o];if(n.level<=0)return n.level=t,n.status=e,n.playCreateAnim(),!0}return!1},e.prototype.getRoostPos=function(t,e){for(var o=0;o<this.maxCount;o++)if(1==this.arr_box[o].node.getBoundingBoxToWorld().contains(cc.v2(t,e)))return o;return-1},e.prototype.getRoostObj=function(t){return this.arr_box[t]},e.prototype.composeByIndex=function(t,e){var o=this.arr_box[t],n=this.arr_box[e];return this.composeByObj(o,n)},e.prototype.composeByObj=function(t,e){return!(!t||!e||t.level!=e.level||!s.default.arr_objConfig.find(function(e){return e.lv==t.level+1})||(e.remove(),t.up(),t.composeEff(),0))},e.prototype.changePos=function(t,e){var o=this.arr_box[t],n=this.arr_box[e],i=o.level;o.level=n.level,n.level=i,o.updateUI(),n.updateUI(),o.status=s.default.Enum_ObjStatus.Normal},r([p(cc.Node)],e.prototype,"nodeRoot",void 0),r([p(cc.Prefab)],e.prototype,"pre_box",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../core/app":"app","./ID25_Box":"ID25_Box","./ID25_Data":"ID25_Data"}],SysData:[function(t,e,o){"use strict";cc._RF.push(e,"e547dUF7klEvIyLRZ1Rdsgs","SysData"),Object.defineProperty(o,"__esModule",{value:!0}),o.SysData=void 0;o.SysData=function(){this.throw_basketball_time="",this.throw_basketball_num="",this.first_give_chance="",this.every_day_chance="",this.is_share_add_chance="",this.share_person_num="",this.share_chance_num="",this.share_max_num="",this.shoot_of_num="",this.shoot_chance_num="",this.remaining_game_num=""},cc._RF.pop()},{}],User:[function(t,e,o){"use strict";cc._RF.push(e,"5fb9eAizIpGdLxVMawrTTbh","User"),Object.defineProperty(o,"__esModule",{value:!0}),o.User=void 0;o.User=function(){this.isLogin=!1,this.countToday=3,this.remain_num=3,this.total_num=0,this.nickname="",this.phone="",this.ident=""},cc._RF.pop()},{}],app:[function(t,e,o){"use strict";cc._RF.push(e,"899b3+Jcw1IrKMdu/ONdazd","app"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./utils/dateUtils"),i=t("./utils/encodeUtils"),r=t("./utils/eventNameUtils"),c=t("./utils/eventObjUtils"),a=t("./utils/eventUtils"),s=t("./utils/httpUtils"),l=t("./utils/imgUrils"),u=t("./utils/jsUrils"),p=t("./utils/poolUtils"),d=t("./utils/promiseUtils"),h=t("./utils/randomUtils"),f=t("./utils/storageUtil"),_=t("./utils/tweenUtils"),y=t("./utils/uiManagerUtils"),m=t("./utils/urlUtils"),v=function(){function t(){}return Object.defineProperty(t,"promise",{get:function(){return d.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"pool",{get:function(){return p.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"event",{get:function(){return a.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"eName",{get:function(){return r.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"rand",{get:function(){return h.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"date",{get:function(){return n.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"encode",{get:function(){return i.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"eventObj",{get:function(){return c.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"http",{get:function(){return s.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"img",{get:function(){return l.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"nodeTree",{get:function(){return console.error("not find nodeTree"),{}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"common",{get:function(){return u.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"tween",{get:function(){return _.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"uiMgr",{get:function(){return y.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"url",{get:function(){return m.default.instance()},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storage",{get:function(){return f.default.instance()},enumerable:!1,configurable:!0}),t}();o.default=v,cc._RF.pop()},{"./utils/dateUtils":"dateUtils","./utils/encodeUtils":"encodeUtils","./utils/eventNameUtils":"eventNameUtils","./utils/eventObjUtils":"eventObjUtils","./utils/eventUtils":"eventUtils","./utils/httpUtils":"httpUtils","./utils/imgUrils":"imgUrils","./utils/jsUrils":"jsUrils","./utils/poolUtils":"poolUtils","./utils/promiseUtils":"promiseUtils","./utils/randomUtils":"randomUtils","./utils/storageUtil":"storageUtil","./utils/tweenUtils":"tweenUtils","./utils/uiManagerUtils":"uiManagerUtils","./utils/urlUtils":"urlUtils"}],bignumber:[function(t,e){"use strict";cc._RF.push(e,"6e616jEsgtBiKhESClFPC7A","bignumber"),function(t){var o,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,r=Math.floor,c="[BigNumber Error] ",a=c+"Number primitive has more than 15 significant digits: ",s=1e14,l=14,u=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7;function h(t){var e=0|t;return t>0||t===e?e:e-1}function f(t){for(var e,o,n=1,i=t.length,r=t[0]+"";n<i;){for(e=t[n++]+"",o=l-e.length;o--;e="0"+e);r+=e}for(i=r.length;48===r.charCodeAt(--i););return r.slice(0,i+1||1)}function _(t,e){var o,n,i=t.c,r=e.c,c=t.s,a=e.s,s=t.e,l=e.e;if(!c||!a)return null;if(o=i&&!i[0],n=r&&!r[0],o||n)return o?n?0:-a:c;if(c!=a)return c;if(o=c<0,n=s==l,!i||!r)return n?0:!i^o?1:-1;if(!n)return s>l^o?1:-1;for(a=(s=i.length)<(l=r.length)?s:l,c=0;c<a;c++)if(i[c]!=r[c])return i[c]>r[c]^o?1:-1;return s==l?0:s>l^o?1:-1}function y(t,e,o,n){if(t<e||t>o||t!==r(t))throw Error(c+(n||"Argument")+("number"==typeof t?t<e||t>o?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function m(t){var e=t.c.length-1;return h(t.e/l)==e&&t.c[e]%2!=0}function v(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function g(t,e,o){var n,i;if(e<0){for(i=o+".";++e;i+=o);t=i+t}else if(++e>(n=t.length)){for(i=o,e-=n;--e;i+=o);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}(o=function t(e){var o,b,w,O,I,C,R,x,P,D=U.prototype={constructor:U,toString:null,valueOf:null},S=new U(1),N=20,T=4,E=-7,j=21,A=-1e7,k=1e7,M=!1,B=1,L=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},V="0123456789abcdefghijklmnopqrstuvwxyz";function U(t,e){var o,i,c,s,p,d,h,f,_=this;if(!(_ instanceof U))return new U(t,e);if(null==e){if(t&&!0===t._isBigNumber)return _.s=t.s,void(!t.c||t.e>k?_.c=_.e=null:t.e<A?_.c=[_.e=0]:(_.e=t.e,_.c=t.c.slice()));if((d="number"==typeof t)&&0*t==0){if(_.s=1/t<0?(t=-t,-1):1,t===~~t){for(s=0,p=t;p>=10;p/=10,s++);return void(s>k?_.c=_.e=null:(_.e=s,_.c=[t]))}f=String(t)}else{if(!n.test(f=String(t)))return w(_,f,d);_.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(s=f.indexOf("."))>-1&&(f=f.replace(".","")),(p=f.search(/e/i))>0?(s<0&&(s=p),s+=+f.slice(p+1),f=f.substring(0,p)):s<0&&(s=f.length)}else{if(y(e,2,V.length,"Base"),10==e)return W(_=new U(t),N+_.e+1,T);if(f=String(t),d="number"==typeof t){if(0*t!=0)return w(_,f,d,e);if(_.s=1/t<0?(f=f.slice(1),-1):1,U.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(a+t)}else _.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(o=V.slice(0,e),s=p=0,h=f.length;p<h;p++)if(o.indexOf(i=f.charAt(p))<0){if("."==i){if(p>s){s=h;continue}}else if(!c&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){c=!0,p=-1,s=0;continue}return w(_,String(t),d,e)}d=!1,(s=(f=b(f,e,10,_.s)).indexOf("."))>-1?f=f.replace(".",""):s=f.length}for(p=0;48===f.charCodeAt(p);p++);for(h=f.length;48===f.charCodeAt(--h););if(f=f.slice(p,++h)){if(h-=p,d&&U.DEBUG&&h>15&&(t>u||t!==r(t)))throw Error(a+_.s*t);if((s=s-p-1)>k)_.c=_.e=null;else if(s<A)_.c=[_.e=0];else{if(_.e=s,_.c=[],p=(s+1)%l,s<0&&(p+=l),p<h){for(p&&_.c.push(+f.slice(0,p)),h-=l;p<h;)_.c.push(+f.slice(p,p+=l));p=l-(f=f.slice(p)).length}else p-=h;for(;p--;f+="0");_.c.push(+f)}}else _.c=[_.e=0]}function G(t,e,o,n){var i,r,c,a,s;if(null==o?o=T:y(o,0,8),!t.c)return t.toString();if(i=t.c[0],c=t.e,null==e)s=f(t.c),s=1==n||2==n&&(c<=E||c>=j)?v(s,c):g(s,c,"0");else if(r=(t=W(new U(t),e,o)).e,a=(s=f(t.c)).length,1==n||2==n&&(e<=r||r<=E)){for(;a<e;s+="0",a++);s=v(s,r)}else if(e-=c,s=g(s,r,"0"),r+1>a){if(--e>0)for(s+=".";e--;s+="0");}else if((e+=r-a)>0)for(r+1==a&&(s+=".");e--;s+="0");return t.s<0&&i?"-"+s:s}function H(t,e){for(var o,n=1,i=new U(t[0]);n<t.length;n++){if(!(o=new U(t[n])).s){i=o;break}e.call(i,o)&&(i=o)}return i}function z(t,e,o){for(var n=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,n++);return(o=n+o*l-1)>k?t.c=t.e=null:o<A?t.c=[t.e=0]:(t.e=o,t.c=e),t}function W(t,e,o,n){var c,a,u,d,h,f,_,y=t.c,m=p;if(y){t:{for(c=1,d=y[0];d>=10;d/=10,c++);if((a=e-c)<0)a+=l,u=e,_=(h=y[f=0])/m[c-u-1]%10|0;else if((f=i((a+1)/l))>=y.length){if(!n)break t;for(;y.length<=f;y.push(0));h=_=0,c=1,u=(a%=l)-l+1}else{for(h=d=y[f],c=1;d>=10;d/=10,c++);_=(u=(a%=l)-l+c)<0?0:h/m[c-u-1]%10|0}if(n=n||e<0||null!=y[f+1]||(u<0?h:h%m[c-u-1]),n=o<4?(_||n)&&(0==o||o==(t.s<0?3:2)):_>5||5==_&&(4==o||n||6==o&&(a>0?u>0?h/m[c-u]:0:y[f-1])%10&1||o==(t.s<0?8:7)),e<1||!y[0])return y.length=0,n?(e-=t.e+1,y[0]=m[(l-e%l)%l],t.e=-e||0):y[0]=t.e=0,t;if(0==a?(y.length=f,d=1,f--):(y.length=f+1,d=m[l-a],y[f]=u>0?r(h/m[c-u]%m[u])*d:0),n)for(;;){if(0==f){for(a=1,u=y[0];u>=10;u/=10,a++);for(u=y[0]+=d,d=1;u>=10;u/=10,d++);a!=d&&(t.e++,y[0]==s&&(y[0]=1));break}if(y[f]+=d,y[f]!=s)break;y[f--]=0,d=1}for(a=y.length;0===y[--a];y.pop());}t.e>k?t.c=t.e=null:t.e<A&&(t.c=[t.e=0])}return t}function X(t){var e,o=t.e;return null===o?t.toString():(e=f(t.c),e=o<=E||o>=j?v(e,o):g(e,o,"0"),t.s<0?"-"+e:e)}return U.clone=t,U.ROUND_UP=0,U.ROUND_DOWN=1,U.ROUND_CEIL=2,U.ROUND_FLOOR=3,U.ROUND_HALF_UP=4,U.ROUND_HALF_DOWN=5,U.ROUND_HALF_EVEN=6,U.ROUND_HALF_CEIL=7,U.ROUND_HALF_FLOOR=8,U.EUCLID=9,U.config=U.set=function(t){var e,o;if(null!=t){if("object"!=typeof t)throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(y(o=t[e],0,1e9,e),N=o),t.hasOwnProperty(e="ROUNDING_MODE")&&(y(o=t[e],0,8,e),T=o),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((o=t[e])&&o.pop?(y(o[0],-1e9,0,e),y(o[1],0,1e9,e),E=o[0],j=o[1]):(y(o,-1e9,1e9,e),E=-(j=o<0?-o:o))),t.hasOwnProperty(e="RANGE"))if((o=t[e])&&o.pop)y(o[0],-1e9,-1,e),y(o[1],1,1e9,e),A=o[0],k=o[1];else{if(y(o,-1e9,1e9,e),!o)throw Error(c+e+" cannot be zero: "+o);A=-(k=o<0?-o:o)}if(t.hasOwnProperty(e="CRYPTO")){if((o=t[e])!==!!o)throw Error(c+e+" not true or false: "+o);if(o){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!o,Error(c+"crypto unavailable");M=o}else M=o}if(t.hasOwnProperty(e="MODULO_MODE")&&(y(o=t[e],0,9,e),B=o),t.hasOwnProperty(e="POW_PRECISION")&&(y(o=t[e],0,1e9,e),L=o),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(o=t[e]))throw Error(c+e+" not an object: "+o);F=o}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(o=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(o))throw Error(c+e+" invalid: "+o);V=o}}return{DECIMAL_PLACES:N,ROUNDING_MODE:T,EXPONENTIAL_AT:[E,j],RANGE:[A,k],CRYPTO:M,MODULO_MODE:B,POW_PRECISION:L,FORMAT:F,ALPHABET:V}},U.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!U.DEBUG)return!0;var e,o,n=t.c,i=t.e,a=t.s;t:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-1e9&&i<=1e9&&i===r(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((e=(i+1)%l)<1&&(e+=l),String(n[0]).length==e){for(e=0;e<n.length;e++)if((o=n[e])<0||o>=s||o!==r(o))break t;if(0!==o)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(c+"Invalid BigNumber: "+t)},U.maximum=U.max=function(){return H(arguments,D.lt)},U.minimum=U.min=function(){return H(arguments,D.gt)},U.random=(O=9007199254740992*Math.random()&2097151?function(){return r(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,o,n,a,s,u=0,d=[],h=new U(S);if(null==t?t=N:y(t,0,1e9),a=i(t/l),M)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)(s=131072*e[u]+(e[u+1]>>>11))>=9e15?(o=crypto.getRandomValues(new Uint32Array(2)),e[u]=o[0],e[u+1]=o[1]):(d.push(s%1e14),u+=2);u=a/2}else{if(!crypto.randomBytes)throw M=!1,Error(c+"crypto unavailable");for(e=crypto.randomBytes(a*=7);u<a;)(s=281474976710656*(31&e[u])+1099511627776*e[u+1]+4294967296*e[u+2]+16777216*e[u+3]+(e[u+4]<<16)+(e[u+5]<<8)+e[u+6])>=9e15?crypto.randomBytes(7).copy(e,u):(d.push(s%1e14),u+=7);u=a/7}if(!M)for(;u<a;)(s=O())<9e15&&(d[u++]=s%1e14);for(a=d[--u],t%=l,a&&t&&(s=p[l-t],d[u]=r(a/s)*s);0===d[u];d.pop(),u--);if(u<0)d=[n=0];else{for(n=-1;0===d[0];d.splice(0,1),n-=l);for(u=1,s=d[0];s>=10;s/=10,u++);u<l&&(n-=l-u)}return h.e=n,h.c=d,h}),U.sum=function(){for(var t=1,e=arguments,o=new U(e[0]);t<e.length;)o=o.plus(e[t++]);return o},b=function(){function t(t,e,o,n){for(var i,r,c=[0],a=0,s=t.length;a<s;){for(r=c.length;r--;c[r]*=e);for(c[0]+=n.indexOf(t.charAt(a++)),i=0;i<c.length;i++)c[i]>o-1&&(null==c[i+1]&&(c[i+1]=0),c[i+1]+=c[i]/o|0,c[i]%=o)}return c.reverse()}return function(e,n,i,r,c){var a,s,l,u,p,d,h,_,y=e.indexOf("."),m=N,v=T;for(y>=0&&(u=L,L=0,e=e.replace(".",""),d=(_=new U(n)).pow(e.length-y),L=u,_.c=t(g(f(d.c),d.e,"0"),10,i,"0123456789"),_.e=_.c.length),l=u=(h=t(e,n,i,c?(a=V,"0123456789"):(a="0123456789",V))).length;0==h[--u];h.pop());if(!h[0])return a.charAt(0);if(y<0?--l:(d.c=h,d.e=l,d.s=r,h=(d=o(d,_,m,v,i)).c,p=d.r,l=d.e),y=h[s=l+m+1],u=i/2,p=p||s<0||null!=h[s+1],p=v<4?(null!=y||p)&&(0==v||v==(d.s<0?3:2)):y>u||y==u&&(4==v||p||6==v&&1&h[s-1]||v==(d.s<0?8:7)),s<1||!h[0])e=p?g(a.charAt(1),-m,a.charAt(0)):a.charAt(0);else{if(h.length=s,p)for(--i;++h[--s]>i;)h[s]=0,s||(++l,h=[1].concat(h));for(u=h.length;!h[--u];);for(y=0,e="";y<=u;e+=a.charAt(h[y++]));e=g(e,l,a.charAt(0))}return e}}(),o=function(){function t(t,e,o){var n,i,r,c,a=0,s=t.length,l=e%d,u=e/d|0;for(t=t.slice();s--;)a=((i=l*(r=t[s]%d)+(n=u*r+(c=t[s]/d|0)*l)%d*d+a)/o|0)+(n/d|0)+u*c,t[s]=i%o;return a&&(t=[a].concat(t)),t}function e(t,e,o,n){var i,r;if(o!=n)r=o>n?1:-1;else for(i=r=0;i<o;i++)if(t[i]!=e[i]){r=t[i]>e[i]?1:-1;break}return r}function o(t,e,o,n){for(var i=0;o--;)t[o]-=i,i=t[o]<e[o]?1:0,t[o]=i*n+t[o]-e[o];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(n,i,c,a,u){var p,d,f,_,y,m,v,g,b,w,O,I,C,R,x,P,D,S=n.s==i.s?1:-1,N=n.c,T=i.c;if(!(N&&N[0]&&T&&T[0]))return new U(n.s&&i.s&&(N?!T||N[0]!=T[0]:T)?N&&0==N[0]||!T?0*S:S/0:NaN);for(b=(g=new U(S)).c=[],S=c+(d=n.e-i.e)+1,u||(u=s,d=h(n.e/l)-h(i.e/l),S=S/l|0),f=0;T[f]==(N[f]||0);f++);if(T[f]>(N[f]||0)&&d--,S<0)b.push(1),_=!0;else{for(R=N.length,P=T.length,f=0,S+=2,(y=r(u/(T[0]+1)))>1&&(T=t(T,y,u),N=t(N,y,u),P=T.length,R=N.length),C=P,O=(w=N.slice(0,P)).length;O<P;w[O++]=0);D=T.slice(),D=[0].concat(D),x=T[0],T[1]>=u/2&&x++;do{if(y=0,(p=e(T,w,P,O))<0){if(I=w[0],P!=O&&(I=I*u+(w[1]||0)),(y=r(I/x))>1)for(y>=u&&(y=u-1),v=(m=t(T,y,u)).length,O=w.length;1==e(m,w,v,O);)y--,o(m,P<v?D:T,v,u),v=m.length,p=1;else 0==y&&(p=y=1),v=(m=T.slice()).length;if(v<O&&(m=[0].concat(m)),o(w,m,O,u),O=w.length,-1==p)for(;e(T,w,P,O)<1;)y++,o(w,P<O?D:T,O,u),O=w.length}else 0===p&&(y++,w=[0]);b[f++]=y,w[0]?w[O++]=N[C]||0:(w=[N[C]],O=1)}while((C++<R||null!=w[0])&&S--);_=null!=w[0],b[0]||b.splice(0,1)}if(u==s){for(f=1,S=b[0];S>=10;S/=10,f++);W(g,c+(g.e=f+d*l-1)+1,a,_)}else g.e=d,g.r=+_;return g}}(),I=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,R=/^\.([^.]+)$/,x=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,w=function(t,e,o,n){var i,r=o?e:e.replace(P,"");if(x.test(r))t.s=isNaN(r)?null:r<0?-1:1;else{if(!o&&(r=r.replace(I,function(t,e,o){return i="x"==(o=o.toLowerCase())?16:"b"==o?2:8,n&&n!=i?t:e}),n&&(i=n,r=r.replace(C,"$1").replace(R,"0.$1")),e!=r))return new U(r,i);if(U.DEBUG)throw Error(c+"Not a"+(n?" base "+n:"")+" number: "+e);t.s=null}t.c=t.e=null},D.absoluteValue=D.abs=function(){var t=new U(this);return t.s<0&&(t.s=1),t},D.comparedTo=function(t,e){return _(this,new U(t,e))},D.decimalPlaces=D.dp=function(t,e){var o,n,i,r=this;if(null!=t)return y(t,0,1e9),null==e?e=T:y(e,0,8),W(new U(r),t+r.e+1,e);if(!(o=r.c))return null;if(n=((i=o.length-1)-h(this.e/l))*l,i=o[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},D.dividedBy=D.div=function(t,e){return o(this,new U(t,e),N,T)},D.dividedToIntegerBy=D.idiv=function(t,e){return o(this,new U(t,e),0,1)},D.exponentiatedBy=D.pow=function(t,e){var o,n,a,s,u,p,d,h,f=this;if((t=new U(t)).c&&!t.isInteger())throw Error(c+"Exponent not an integer: "+X(t));if(null!=e&&(e=new U(e)),u=t.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!t.c||!t.c[0])return h=new U(Math.pow(+X(f),u?2-m(t):+X(t))),e?h.mod(e):h;if(p=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new U(NaN);(n=!p&&f.isInteger()&&e.isInteger())&&(f=f.mod(e))}else{if(t.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||u&&f.c[1]>=24e7:f.c[0]<8e13||u&&f.c[0]<=9999975e7)))return s=f.s<0&&m(t)?-0:0,f.e>-1&&(s=1/s),new U(p?1/s:s);L&&(s=i(L/l+2))}for(u?(o=new U(.5),p&&(t.s=1),d=m(t)):d=(a=Math.abs(+X(t)))%2,h=new U(S);;){if(d){if(!(h=h.times(f)).c)break;s?h.c.length>s&&(h.c.length=s):n&&(h=h.mod(e))}if(a){if(0===(a=r(a/2)))break;d=a%2}else if(W(t=t.times(o),t.e+1,1),t.e>14)d=m(t);else{if(0==(a=+X(t)))break;d=a%2}f=f.times(f),s?f.c&&f.c.length>s&&(f.c.length=s):n&&(f=f.mod(e))}return n?h:(p&&(h=S.div(h)),e?h.mod(e):s?W(h,L,T,void 0):h)},D.integerValue=function(t){var e=new U(this);return null==t?t=T:y(t,0,8),W(e,e.e+1,t)},D.isEqualTo=D.eq=function(t,e){return 0===_(this,new U(t,e))},D.isFinite=function(){return!!this.c},D.isGreaterThan=D.gt=function(t,e){return _(this,new U(t,e))>0},D.isGreaterThanOrEqualTo=D.gte=function(t,e){return 1===(e=_(this,new U(t,e)))||0===e},D.isInteger=function(){return!!this.c&&h(this.e/l)>this.c.length-2},D.isLessThan=D.lt=function(t,e){return _(this,new U(t,e))<0},D.isLessThanOrEqualTo=D.lte=function(t,e){return-1===(e=_(this,new U(t,e)))||0===e},D.isNaN=function(){return!this.s},D.isNegative=function(){return this.s<0},D.isPositive=function(){return this.s>0},D.isZero=function(){return!!this.c&&0==this.c[0]},D.minus=function(t,e){var o,n,i,r,c=this,a=c.s;if(e=(t=new U(t,e)).s,!a||!e)return new U(NaN);if(a!=e)return t.s=-e,c.plus(t);var u=c.e/l,p=t.e/l,d=c.c,f=t.c;if(!u||!p){if(!d||!f)return d?(t.s=-e,t):new U(f?c:NaN);if(!d[0]||!f[0])return f[0]?(t.s=-e,t):new U(d[0]?c:3==T?-0:0)}if(u=h(u),p=h(p),d=d.slice(),a=u-p){for((r=a<0)?(a=-a,i=d):(p=u,i=f),i.reverse(),e=a;e--;i.push(0));i.reverse()}else for(n=(r=(a=d.length)<(e=f.length))?a:e,a=e=0;e<n;e++)if(d[e]!=f[e]){r=d[e]<f[e];break}if(r&&(i=d,d=f,f=i,t.s=-t.s),(e=(n=f.length)-(o=d.length))>0)for(;e--;d[o++]=0);for(e=s-1;n>a;){if(d[--n]<f[n]){for(o=n;o&&!d[--o];d[o]=e);--d[o],d[n]+=s}d[n]-=f[n]}for(;0==d[0];d.splice(0,1),--p);return d[0]?z(t,d,p):(t.s=3==T?-1:1,t.c=[t.e=0],t)},D.modulo=D.mod=function(t,e){var n,i,r=this;return t=new U(t,e),!r.c||!t.s||t.c&&!t.c[0]?new U(NaN):!t.c||r.c&&!r.c[0]?new U(r):(9==B?(i=t.s,t.s=1,n=o(r,t,0,3),t.s=i,n.s*=i):n=o(r,t,0,B),(t=r.minus(n.times(t))).c[0]||1!=B||(t.s=r.s),t)},D.multipliedBy=D.times=function(t,e){var o,n,i,r,c,a,u,p,f,_,y,m,v,g,b,w=this,O=w.c,I=(t=new U(t,e)).c;if(!(O&&I&&O[0]&&I[0]))return!w.s||!t.s||O&&!O[0]&&!I||I&&!I[0]&&!O?t.c=t.e=t.s=null:(t.s*=w.s,O&&I?(t.c=[0],t.e=0):t.c=t.e=null),t;for(n=h(w.e/l)+h(t.e/l),t.s*=w.s,(u=O.length)<(_=I.length)&&(v=O,O=I,I=v,i=u,u=_,_=i),i=u+_,v=[];i--;v.push(0));for(g=s,b=d,i=_;--i>=0;){for(o=0,y=I[i]%b,m=I[i]/b|0,r=i+(c=u);r>i;)o=((p=y*(p=O[--c]%b)+(a=m*p+(f=O[c]/b|0)*y)%b*b+v[r]+o)/g|0)+(a/b|0)+m*f,v[r--]=p%g;v[r]=o}return o?++n:v.splice(0,1),z(t,v,n)},D.negated=function(){var t=new U(this);return t.s=-t.s||null,t},D.plus=function(t,e){var o,n=this,i=n.s;if(e=(t=new U(t,e)).s,!i||!e)return new U(NaN);if(i!=e)return t.s=-e,n.minus(t);var r=n.e/l,c=t.e/l,a=n.c,u=t.c;if(!r||!c){if(!a||!u)return new U(i/0);if(!a[0]||!u[0])return u[0]?t:new U(a[0]?n:0*i)}if(r=h(r),c=h(c),a=a.slice(),i=r-c){for(i>0?(c=r,o=u):(i=-i,o=a),o.reverse();i--;o.push(0));o.reverse()}for((i=a.length)-(e=u.length)<0&&(o=u,u=a,a=o,e=i),i=0;e;)i=(a[--e]=a[e]+u[e]+i)/s|0,a[e]=s===a[e]?0:a[e]%s;return i&&(a=[i].concat(a),++c),z(t,a,c)},D.precision=D.sd=function(t,e){var o,n,i,r=this;if(null!=t&&t!==!!t)return y(t,1,1e9),null==e?e=T:y(e,0,8),W(new U(r),t,e);if(!(o=r.c))return null;if(n=(i=o.length-1)*l+1,i=o[i]){for(;i%10==0;i/=10,n--);for(i=o[0];i>=10;i/=10,n++);}return t&&r.e+1>n&&(n=r.e+1),n},D.shiftedBy=function(t){return y(t,-u,u),this.times("1e"+t)},D.squareRoot=D.sqrt=function(){var t,e,n,i,r,c=this,a=c.c,s=c.s,l=c.e,u=N+4,p=new U("0.5");if(1!==s||!a||!a[0])return new U(!s||s<0&&(!a||a[0])?NaN:a?c:1/0);if(0==(s=Math.sqrt(+X(c)))||s==1/0?(((e=f(a)).length+l)%2==0&&(e+="0"),s=Math.sqrt(+e),l=h((l+1)/2)-(l<0||l%2),n=new U(e=s==1/0?"1e"+l:(e=s.toExponential()).slice(0,e.indexOf("e")+1)+l)):n=new U(s+""),n.c[0])for((s=(l=n.e)+u)<3&&(s=0);;)if(r=n,n=p.times(r.plus(o(c,r,u,1))),f(r.c).slice(0,s)===(e=f(n.c)).slice(0,s)){if(n.e<l&&--s,"9999"!=(e=e.slice(s-3,s+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(W(n,n.e+N+2,1),t=!n.times(n).eq(c));break}if(!i&&(W(r,r.e+N+2,0),r.times(r).eq(c))){n=r;break}u+=4,s+=4,i=1}return W(n,n.e+N+1,T,t)},D.toExponential=function(t,e){return null!=t&&(y(t,0,1e9),t++),G(this,t,e,1)},D.toFixed=function(t,e){return null!=t&&(y(t,0,1e9),t=t+this.e+1),G(this,t,e)},D.toFormat=function(t,e,o){var n,i=this;if(null==o)null!=t&&e&&"object"==typeof e?(o=e,e=null):t&&"object"==typeof t?(o=t,t=e=null):o=F;else if("object"!=typeof o)throw Error(c+"Argument not an object: "+o);if(n=i.toFixed(t,e),i.c){var r,a=n.split("."),s=+o.groupSize,l=+o.secondaryGroupSize,u=o.groupSeparator||"",p=a[0],d=a[1],h=i.s<0,f=h?p.slice(1):p,_=f.length;if(l&&(r=s,s=l,l=r,_-=r),s>0&&_>0){for(r=_%s||s,p=f.substr(0,r);r<_;r+=s)p+=u+f.substr(r,s);l>0&&(p+=u+f.slice(r)),h&&(p="-"+p)}n=d?p+(o.decimalSeparator||"")+((l=+o.fractionGroupSize)?d.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(o.fractionGroupSeparator||"")):d):p}return(o.prefix||"")+n+(o.suffix||"")},D.toFraction=function(t){var e,n,i,r,a,s,u,d,h,_,y,m,v=this,g=v.c;if(null!=t&&(!(u=new U(t)).isInteger()&&(u.c||1!==u.s)||u.lt(S)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+X(u));if(!g)return new U(v);for(e=new U(S),h=n=new U(S),i=d=new U(S),m=f(g),a=e.e=m.length-v.e-1,e.c[0]=p[(s=a%l)<0?l+s:s],t=!t||u.comparedTo(e)>0?a>0?e:h:u,s=k,k=1/0,u=new U(m),d.c[0]=0;_=o(u,e,0,1),1!=(r=n.plus(_.times(i))).comparedTo(t);)n=i,i=r,h=d.plus(_.times(r=h)),d=r,e=u.minus(_.times(r=e)),u=r;return r=o(t.minus(n),i,0,1),d=d.plus(r.times(h)),n=n.plus(r.times(i)),d.s=h.s=v.s,y=o(h,i,a*=2,T).minus(v).abs().comparedTo(o(d,n,a,T).minus(v).abs())<1?[h,i]:[d,n],k=s,y},D.toNumber=function(){return+X(this)},D.toPrecision=function(t,e){return null!=t&&y(t,1,1e9),G(this,t,e,2)},D.toString=function(t){var e,o=this,n=o.s,i=o.e;return null===i?n?(e="Infinity",n<0&&(e="-"+e)):e="NaN":(null==t?e=i<=E||i>=j?v(f(o.c),i):g(f(o.c),i,"0"):10===t?e=g(f((o=W(new U(o),N+i+1,T)).c),o.e,"0"):(y(t,2,V.length,"Base"),e=b(g(f(o.c),i,"0"),10,t,n,!0)),n<0&&o.c[0]&&(e="-"+e)),e},D.valueOf=D.toJSON=function(){return X(this)},D._isBigNumber=!0,null!=e&&U.set(e),U}()).default=o.BigNumber=o,"function"==typeof define&&define.amd?define(function(){return o}):void 0!==e&&e.exports?e.exports=o:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=o),window.BigNumber=o}(void 0),cc._RF.pop()},{}],dateUtils:[function(t,e,o){"use strict";cc._RF.push(e,"54276ew9cxNMLNloCt3PwXM","dateUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTime=function(){return(new Date).getTime()},e.prototype.getFormatBySecond=function(t){void 0===t&&(t=0),t<0&&(t=0);var e=Math.floor(t/3600),o=Math.floor((t-3600*e)/60),n=Math.floor((t-3600*e)%60);return(0==o?"00":o<10?"0"+o:""+o)+":"+(0==n?"00":n<10?"0"+n:""+n)},e.prototype.getDay=function(t){return new Date(t).getDay()},e.prototype.isSameDate=function(t,e){var o=new Date(t),n=new Date(e);return o.getFullYear()==n.getFullYear()&&o.getMonth()==n.getMonth()&&o.getDate()==n.getDate()},e.prototype.format=function(t,e){void 0===e&&(e="yyyy-MM-dd hh:mm:ss");var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return e},e.prototype.dateDifference=function(t,e){var o=Math.abs(e-t);return Math.ceil(o/864e5)},e}(t("../base/singtonClass").default);o.default=r,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],encodeUtils:[function(t,e,o){"use strict";cc._RF.push(e,"6b19duw5m1MHLMw6d6g6Vd7","encodeUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.aesDecrypt=function(t){var e="0FldOs9PhBZqzEMK",o="DFBZpId059PhEMoK";e=CryptoJS.enc.Utf8.parse(e),o=CryptoJS.enc.Utf8.parse(o);var n=t,i=CryptoJS.AES.decrypt(n,e,{iv:o,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Utf8);return JSON.parse(i)},e}(t("../base/singtonClass").default);o.default=r,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],eventNameUtils:[function(t,e,o){"use strict";cc._RF.push(e,"e60c85iEcFLdbmmk5kf8dXb","eventNameUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.OPEN_VIEW=Symbol(),e.CLOSE_VIEW=Symbol(),e.TOAST=Symbol(),e.OPEN_VIEW_AND_RUN_FUNC=Symbol(),e.SHOW_WAIT=Symbol(),e.HIDE_WAIT=Symbol(),e.COMPLETE_LOGIN=Symbol(),e.addStep=Symbol(),e.event_view08_addScore=Symbol(),e.event_view08_gameEnd=Symbol(),e.event_view10_addScore=Symbol(),e.event_view10_gameEnd=Symbol(),e.event_addScore=Symbol(),e.event_gameEnd=Symbol(),e}return i(e,t),e}(t("../base/singtonClass").default);o.default=r,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],eventObjUtils:[function(t,e,o){"use strict";cc._RF.push(e,"81d445QK0hADbwIJBXxPF5E","eventObjUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../app"),a=t("../base/singtonClass"),s=t("../gameEnum"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.openView=function(t,e){var o;void 0===t&&(t=s.default.view.TOAST_VIEW),void 0===e&&(e=s.default.layer.WINDOW_LAYER);for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];(o=c.default.event).emit.apply(o,r([c.default.eName.OPEN_VIEW,t,e],n))},e.prototype.openViewAsync=function(t,e,o){var n;void 0===t&&(t=s.default.view.TOAST_VIEW),void 0===e&&(e=s.default.layer.WINDOW_LAYER),void 0===o&&(o=null);for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];(n=c.default.event).emit.apply(n,r([c.default.eName.OPEN_VIEW_AND_RUN_FUNC,t,e,o],i))},e.prototype.closeView=function(t){void 0===t&&(t=s.default.view.TOAST_VIEW),c.default.event.emit(c.default.eName.CLOSE_VIEW,t)},e.prototype.toast=function(t,e){void 0===e&&(e=2),t?c.default.event.emit(c.default.eName.TOAST,t,e):console.error("msg is null",t)},e.prototype.showWait=function(){},e.prototype.hideWait=function(){},e.prototype.showViewWait=function(){c.default.event.emit(c.default.eName.SHOW_WAIT)},e.prototype.hideViewWait=function(){c.default.event.emit(c.default.eName.HIDE_WAIT)},e.prototype.loginSuccess=function(){c.default.event.emit(c.default.eName.COMPLETE_LOGIN,!0)},e.prototype.loginFail=function(){c.default.event.emit(c.default.eName.COMPLETE_LOGIN,!1)},e}(a.default);o.default=l,cc._RF.pop()},{"../app":"app","../base/singtonClass":"singtonClass","../gameEnum":"gameEnum"}],eventUtils:[function(t,e,o){"use strict";cc._RF.push(e,"9f4f4iFgdlC6bcLeDQpEolx","eventUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._allEventInfo=new Map,e._allContextInfo=new Map,e}return i(e,t),e.prototype.on=function(t,e,o){"function"==typeof e?(this._allContextInfo.has(o)||this._allContextInfo.set(o,[]),this._allContextInfo.get(o).push(t),this._allEventInfo.has(t)||this._allEventInfo.set(t,new Map),this._allEventInfo.get(t).set(o,{handler:e,context:o})):console.error("\u6ca1\u6709\u4e8b\u4ef6\u54cd\u5e94\u51fd\u6570\uff01")},e.prototype.once=function(t,e,o){var n=this;this.on(t,function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];e.call.apply(e,r([o],i)),n.off(t,o)},o)},e.prototype.onByArray=function(t,e){for(var o=0,n=t;o<n.length;o++){var i=n[o];this.on(i,e[i],e)}},e.prototype.onByArrayAndCall=function(t,e){for(var o=0,n=t;o<n.length;o++){var i=n[o],r=e[i];this.on(i,r,e),r.call(e,!0)}},e.prototype.off=function(t,e){this._allEventInfo.has(t)||console.warn("\u4e8b\u4ef6\u5df2\u7ecf\u5173\u95ed\u76d1\u542c\u6216\u4ece\u672a\u5f00\u59cb\u76d1\u542c\uff01"),this._allEventInfo.get(t).delete(e)},e.prototype.offAll=function(t){this._allContextInfo.has(t);var e=this._allContextInfo.get(t);if(Array.isArray(e))for(var o=0,n=e;o<n.length;o++){var i=n[o];this.off(i,t)}this._allContextInfo.delete(t)},e.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this._allEventInfo.get(t);n&&n.forEach(function(t){var o;return(o=t.handler).call.apply(o,r([t.context],e))})},e}(t("../base/singtonClass").default);o.default=c,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],gameEnum:[function(t,e,o){"use strict";var n,i,r,c;cc._RF.push(e,"b1a3f6HyGJG8K3tAoyWrnys","gameEnum"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t.NODE="None",t.HomeScene="HomeScene",t.DemoView="DemoView",t.ID01_View="ID01_View",t.ID02_View="ID02_View",t.ID03_View="ID03_View",t.ID04_View="ID04_View",t.ID05_View="ID05_View",t.ID06_View="ID06_View",t.ID07_View="ID07_View",t.ID08_View="ID08_View",t.ID09_View="ID09_View",t.ID10_View="ID10_View",t.ID11_View="ID11_View",t.ID12_View="ID12_View",t.ID13_View="ID13_View",t.ID14_View="ID14_View",t.ID15_View="ID15_View",t.ID16_View="ID16_View",t.ID17_View="ID17_View",t.ID18_View="ID18_View",t.ID19_View="ID19_View",t.ID20_View="ID20_View",t.ID21_View="ID21_View",t.ID22_View="ID22_View",t.ID23_View="ID23_View",t.ID24_View="ID24_View",t.ID25_View="ID25_View"}(n||(n={})),function(t){t[t.PrizeView=1]="PrizeView",t[t.PrizeInfoView=1]="PrizeInfoView"}(i||(i={})),function(t){t[t.NORMAL=1]="NORMAL",t[t.BG_SCALE=2]="BG_SCALE",t[t.WIDGET_BUTTOM_SHOW=3]="WIDGET_BUTTOM_SHOW",t[t.WIDGET_LEFT_SHOW=4]="WIDGET_LEFT_SHOW",t[t.BG_SCALE1=5]="BG_SCALE1",t[t.FADE_OUT=6]="FADE_OUT"}(r||(r={})),function(t){t.SCENE_LAYER="sceneLayer",t.WINDOW_LAYER="windowLayer",t.TOP_LAYER="topLayer",t.EFFECT_LAYER="effectLayer"}(c||(c={}));var a=function(){function t(){}return t.view=n,t.isRemoteView=i,t.layer=c,t.viewEffect=r,t}();o.default=a,cc._RF.pop()},{}],httpUtils:[function(t,e,o){"use strict";cc._RF.push(e,"3216c63helBXK62rxsAtSAy","httpUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CRequest=o.eHttpCode=void 0;var r,c=t("../app"),a=t("../base/singtonClass");(function(t){t[t.Invalid=-1]="Invalid",t[t.Success=0]="Success",t[t.Timeout=1]="Timeout",t[t.Error=2]="Error"})(r=o.eHttpCode||(o.eHttpCode={}));var s=function(){function t(){}return t.prototype.sendRequest=function(t,e,o,n,i,c){var a=new XMLHttpRequest;a.responseType="text";var s=function(){a.onreadystatechange=null,a.ontimeout=null,a.onerror=null,a.onabort=null};if(a.onreadystatechange=function(){if(4===a.readyState&&a.status>=200&&a.status<400){var t=r.Success,e=null,o=a.responseText;try{e=JSON.parse(o)}catch(c){t=r.Error,e={}}n&&i&&n.apply(i,[e,t]),s()}},a.ontimeout=function(){n&&i&&n.apply(i,[null,r.Timeout]),s()},a.onerror=function(){n&&i&&n.apply(i,[null,r.Error]),s()},a.onabort=function(){s()},a.open(t,e,!0),a.timeout=5e3,c)for(var l=0,u=Object.keys(c);l<u.length;l++){var p=u[l];a.setRequestHeader(p,c[p])}var d=document.getElementsByTagName("meta")["csrf-token"],h=document.getElementsByTagName("meta").Authorization;a.withCredentials=!0,a.xsrfCookieName="XSRF-TOKEN",a.xsrfHeaderName="X-XSRF-TOKEN",a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("X-CSRF-TOKEN",d?d.content:""),a.setRequestHeader("Authorization","Bearer "+(h?h.content:"")),a.setRequestHeader("Content-Type","application/json"),a.send(o)},t}();o.CRequest=s;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map_request=new Map,e}return i(e,t),e.prototype.request=function(t,e,o,n,i,r){(new s).sendRequest(t,e,o,n,i,r)},e.prototype.get=function(t,e,o,n,i){if(e){-1==t.indexOf("?")&&(t+="?");for(var r="",c=Object.keys(e),a=0;a<c.length;++a)r+="&"+c[a]+"="+e[c[a]];t+=encodeURI(r)}this.request("GET",t,null,o,n,i)},e.prototype.post=function(t,e,o,n,i){this.request("POST",t,e,o,n,i)},e.prototype.asyncGet=function(t,e,o){var n=this;return new Promise(function(i){e&&(-1==t.indexOf("?")&&(t+="?"),t+=c.default.common.paramObjToString(e)),n.request("GET",t,null,function(t,e){i({resp:t,code:e})},n,o)})},e.prototype.asyncPost=function(t,e,o){var n=this;return e=JSON.stringify(e),new Promise(function(i){n.request("POST",encodeURI(t),e,function(t,e){i({resp:t,code:e})},n,o)})},e.prototype.getXHR=function(t){var e=cc.js.getClassName(t);if(0==this.map_request.has(e)){var o=new t;this.map_request.set(e,o)}return this.map_request.get(e)},e}(a.default);o.default=l,cc._RF.pop()},{"../app":"app","../base/singtonClass":"singtonClass"}],imgUrils:[function(t,e,o){"use strict";cc._RF.push(e,"72b306pCDBOPafA9AnqrY+0","imgUrils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../base/singtonClass"),s=t("../app"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.texture=null,e._canvas=null,e}return i(e,t),e.prototype.setBase64=function(t,e){t&&(t.spriteFrame=this.base64ToSpriteFrame(e))},e.prototype.base64ToSpriteFrame=function(t){var e=new Image;e.src=t;var o=new cc.Texture2D;return o.initWithElement(e),o.handleLoadedTexture(),new cc.SpriteFrame(o)},e.prototype.base64ToTexture2D=function(t,e){void 0===e&&(e=!0);var o=new Image;o.src=t;var n=new cc.Texture2D;return n.initWithElement(o),n.handleLoadedTexture(),0==e&&(n.packable=!1),n},e.prototype.ShapeTouch=function(t,e,o){return r(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return[4,new Promise(function(n){var i=new Image;i.onload=function(){var t=document.createElement("canvas").getContext("2d");t.drawImage(i,0,0);var r=t.getImageData(e,i.height-o,1,1).data[3];console.log("aaaaaaaa"),n({touch:r>0,alpha:r})},i.onerror=function(){console.log("aaaaaaaa"),n({touch:!1,alpha:0})},i.src=t})];case 1:return[2,n.sent()]}})})},e.prototype.captureNode=function(t){var e=new cc.Node;e.parent=cc.find("Canvas");var o=e.addComponent(cc.Camera),n=t.width,i=t.height,r=new cc.RenderTexture;r.initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.gfx.RB_FMT_S8),o.targetTexture=r;var c=document.createElement("canvas");c.width=n,c.height=i;var a=c.getContext("2d");o.render();for(var s=t.getContentSize(),l=new Uint8Array(s.width*s.height*4),u=r.width/2-t.width/2,p=r.height/2-t.height/2,d=t.width,h=t.height,f=r.readPixels(l,u,p,d,h),_=4*n,y=0;y<i;y++){for(var m=i-1-y,v=a.createImageData(n,1),g=m*n*4,b=0;b<_;b++)v.data[b]=f[g+b];a.putImageData(v,0,y)}var w=c.toDataURL("image/png"),O=document.createElement("img");O.src=w;var I=new cc.Texture2D;return I.initWithElement(O),(new cc.SpriteFrame).setTexture(I),w},e.prototype.renderNode=function(t){var e=new cc.Node;e.parent=cc.find("Canvas");var o=e.addComponent(cc.Camera),n=t.getPosition(),i=t.width,r=t.height;o.alignWithScreen=!1,o.ortho=!0,o.orthoSize=r/2;var c=new cc.RenderTexture;c.initWithSize(i,r,cc.gfx.RB_FMT_S8),o.targetTexture=c;var a=document.createElement("canvas");a.width=i,a.height=r;var s=a.getContext("2d");t.setPosition(cc.Vec2.ZERO),o.render(t),t.setPosition(n);for(var l=c.readPixels(),u=4*i,p=0;p<r;p++){for(var d=r-1-p,h=s.createImageData(i,1),f=d*i*4,_=0;_<u;_++)h.data[_]=l[f+_];s.putImageData(h,0,p)}return a.toDataURL("image/png")},e.prototype.createImg=function(t){var e=t.getPosition(),o=t.width,n=t.height,i=s.default.nodeTree.locateNode("CaptureCamera").getComponent(cc.Camera);i.backgroundColor=cc.Color.TRANSPARENT,i.clearFlags=cc.Camera.ClearFlags.DEPTH|cc.Camera.ClearFlags.STENCIL|cc.Camera.ClearFlags.COLOR,i.alignWithScreen=!1,i.orthoSize=n/2;var r=new cc.RenderTexture;r.initWithSize(o,n,cc.gfx.RB_FMT_S8),i.targetTexture=r,t.setPosition(cc.Vec2.ZERO),i.render(t),t.setPosition(e);var c=r.readPixels(),a=document.createElement("canvas"),l=a.getContext("2d");a.width=r.width,a.height=r.height;for(var u=4*o,p=0;p<n;p++){for(var d=n-1-p,h=l.createImageData(o,1),f=d*o*4,_=0;_<u;_++)h.data[_]=c[f+_];l.putImageData(h,0,p)}return a.toDataURL("image/png")},e.prototype.init=function(t){var e=new cc.RenderTexture;e.initWithSize(cc.visibleRect.width,cc.visibleRect.height,cc.gfx.RB_FMT_S8),this.camera=t.addComponent(cc.Camera),this.camera.targetTexture=e,this.texture=e},e.prototype.createImg1=function(t){return this.init(t),this.createCanvas(),this._canvas.toDataURL("image/png")},e.prototype.createCanvas=function(){var t=this.texture.width,e=this.texture.height;this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=t,this._canvas.height=e);var o=this._canvas.getContext("2d");this.camera.render();for(var n=this.texture.readPixels(),i=4*t,r=0;r<e;r++){for(var c=e-1-r,a=o.createImageData(t,1),s=c*t*4,l=0;l<i;l++)a.data[l]=n[s+l];o.putImageData(a,0,r)}return this._canvas},e.prototype.clearCanvas=function(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height)},e}(a.default);o.default=l,cc._RF.pop()},{"../app":"app","../base/singtonClass":"singtonClass"}],jsUrils:[function(t,e,o){"use strict";cc._RF.push(e,"8799dNqqTBAEJB7YKyHfcVK","jsUrils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.shuffle=function(t){for(var e=r(t),o=t.length-1;o>0;o--){var n=Math.floor(Math.random()*(o+1)),i=e[n];e[n]=e[o],e[o]=i}return e},e.prototype.paramObjToString=function(t){var e="",o=[];if(t){for(var n in t)o.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));e=o.join("&")}return e},Object.defineProperty(e.prototype,"isAndroid",{get:function(){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1;return t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isiOS",{get:function(){var t=navigator.userAgent;return t.indexOf("Android")>-1||t.indexOf("Adr"),!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWx",{get:function(){return!(-1==navigator.userAgent.toLowerCase().indexOf("micromessenger"))},enumerable:!1,configurable:!0}),e.prototype.copyProp=function(t,e){for(var o in e)"function"!=typeof e[o]&&(t[o]=e[o]);return t},e.prototype.copyToClipBoard=function(t){void 0===t&&(t="\u6587\u672c\u5185\u5bb9");var e=t,o=document.createElement("textarea");o.value=e,o.setAttribute("readonly",""),o.style.contain="strict",o.style.position="absolute",o.style.left="-9999px",o.style.fontSize="12pt";var n=getSelection(),i=null,r=!1;n.rangeCount>0&&(i=n.getRangeAt(0),r=!0),document.body.appendChild(o),o.select(),o.selectionStart=0,o.selectionEnd=e.length;var c=!1;try{c=document.execCommand("copy")}catch(a){}return document.body.removeChild(o),r&&(n.removeAllRanges(),n.addRange(i)),c},Object.defineProperty(e.prototype,"userAgent",{get:function(){return navigator.userAgent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uaVer",{get:function(){var t=navigator.userAgent,e="Win32"==navigator.platform||"Windows"==navigator.platform,o="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;if(o)return"Mac";if("X11"==navigator.platform&&!e&&!o)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return"Linux";if(e){if(t.indexOf("Windows NT 5.0")>-1||t.indexOf("Windows 2000")>-1)return"Win2000";if(t.indexOf("Windows NT 5.1")>-1||t.indexOf("Windows XP")>-1)return"WinXP";if(t.indexOf("Windows NT 5.2")>-1||t.indexOf("Windows 2003")>-1)return"Win2003";if(t.indexOf("Windows NT 6.0")>-1||t.indexOf("Windows Vista")>-1)return"WinVista";if(t.indexOf("Windows NT 6.1")>-1||t.indexOf("Windows 7")>-1)return"Win7";if(t.indexOf("Windows NT 10")>-1||t.indexOf("Windows 10")>-1)return"Win10"}return"other"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"netType",{get:function(){var t,e=navigator.userAgent,o=e.match(/NetType\/\w+/)?e.match(/NetType\/\w+/)[0]:"NetType/other";switch(o=o.toLowerCase().replace("nettype/","")){case"wifi":t="wifi";break;case"4g":t="4g";break;case"3g":case"3gnet":t="3g";break;case"2g":t="2g";break;default:t="other"}return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return window.screen.width+" x "+window.screen.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t=navigator.userAgent;console.log(t);var e=new MobileDetect(t),o=e.os();console.log(o),console.log(e.mobile());var n="";if("iOS"==o)o=e.os()+e.version("iPhone"),n=e.mobile();else if("AndroidOS"==o){for(var i,r=t.split(";"),c=0;c<r.length;c++)if(r[c].indexOf("Build/")>0){i=c;break}i>-1&&(n=r[i].substring(0,r[i].indexOf("Build/")))}return n},enumerable:!1,configurable:!0}),e.prototype.htmlToBBCode=function(t){if(!t)return"";t=t.replace(/\n/g,"<br/>");var e=(new HTML2BBCode).feed(t).s,o=(e=e.replace(/\[/g,"<").replace(/\]/g,">")).match(/<.*?>/g);return e=e.replace(/<\/url>/g,"</on>"),o&&o.forEach(function(t){if(1==t.includes("url=")){var o=t.split("url=")[1].slice(0,-1);e=e.replace(t,'<on click="handler" param="'+o+'"">')}}),e},e}(t("../base/singtonClass").default);o.default=c,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],poolUtils:[function(t,e,o){"use strict";cc._RF.push(e,"2cc22hfudhOFIpjiyd2fel9","poolUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handle=new Map,e}return i(e,t),e.prototype.getNode=function(t,e){if(void 0===e&&(e=null),!t)return console.error("prefab is null"),null;var o=t.name,n=null;return(n=this.handle.has(o)&&this.handle.get(o).length>0?this.handle.get(o).shift():cc.instantiate(t))?(e&&n.setParent(e),n):null},e.prototype.setNode=function(t){var e=t.name;t.removeFromParent(),this.handle.has(e)?this.handle.get(e).push(t):this.handle.set(e,[t])},e}(t("../base/singtonClass").default);o.default=r,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],promiseUtils:[function(t,e,o){"use strict";cc._RF.push(e,"83242+T9lRJEo2FVl41Rj+s","promiseUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.sleep=function(t,e){return r(this,void 0,void 0,function(){return c(this,function(){return[2,new Promise(function(o){e?e.scheduleOnce(o,t):setTimeout(o,1e3*t)})]})})},e.prototype.loadPrefab=function(t){return new Promise(function(e){cc.loader.loadRes(t,cc.Prefab,function(t,o){if(t)return cc.error(t),void e(null);e(o)})})},e.prototype.loadView=function(t,e){var o="ui/"+t;return new Promise(function(t){cc.resources.load(o,cc.Prefab,function(t,o){e&&e(t,o)},function(e,o){t(o)})})},e.prototype.loadSpriteFrame=function(t){return new Promise(function(e){cc.loader.loadRes(t,cc.SpriteFrame,function(t,o){if(t)return cc.error(t),void e(null);e(o)})})},e.prototype.loadUrlTexture=function(t,e){return new Promise(function(o){cc.assetManager.loadRemote(t,function(t,n){!t&&n instanceof cc.Texture2D?(e&&e(null,n),o(n)):(e&&e(t,null),o(null))})})},e}(t("../base/singtonClass").default);o.default=a,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],randomUtils:[function(t,e,o){"use strict";cc._RF.push(e,"9244alQdwlDCby7VAmBpNHB","randomUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.limit=function(t,e){t=Math.min(t,e);var o=(e=Math.max(t,e))-t;return t+Math.random()*o},e.prototype.limitInteger=function(t,e){return Math.floor(this.limit(t,e+1))},e.prototype.rand=function(){return this.limitInteger(1,9)*(this.limitInteger(1,10)%2==0?1:-1)},e.prototype.randomArray=function(t){return t?t[Math.floor(Math.random()*t.length)]:null},e.prototype.randomArraySplitObj=function(t,e){if(!t)return null;var o=[];t.forEach(function(t){t!=e&&o.push(t)}),o.length<=0&&(o=t);var n=Math.floor(Math.random()*o.length);return o[n]},e.prototype.randomByWeight=function(t,e){if(t.length!=e.length)return console.warn("random2\u8f93\u5165\u4e0d\u5408\u6cd5: arr1.length != arr2.length"),null;for(var o=0,n=0,i=Math.random(),r=e.length-1;r>=0;r--)o+=e[r];for(i*=o,r=e.length-1;r>=0;r--)if(i<=(n+=e[r]))return t[r];return null},e}(t("../base/singtonClass").default);o.default=r,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],requestUtils:[function(t,e){"use strict";cc._RF.push(e,"88effOQZVhAaJcVz0cr3v89","requestUtils"),cc._RF.pop()},{}],singtonClass:[function(t,e,o){"use strict";cc._RF.push(e,"3330cvG7aZAuI13y9lI2L+j","singtonClass");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.instance=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=this;return o._instance||(o._instance=new(o.bind.apply(o,n([void 0],t)))),o._instance},t}();o.default=i,cc._RF.pop()},{}],storageUtil:[function(t,e,o){"use strict";cc._RF.push(e,"aef60aajy5FIrBYirjC0oGt","storageUtil");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.set=function(t,e){var o="object"==typeof e?JSON.stringify(e):e;window.localStorage.setItem(t,o)},e.prototype.get=function(t,e){void 0===e&&(e=!0);var o=window.localStorage.getItem(t);if(o){if(e)try{return JSON.parse(o)}catch(n){return o}return o}return null},e.prototype.remove=function(t){window.localStorage.removeItem(t)},e.prototype.getCookie=function(t){for(var e=document.cookie.split("; "),o=0;o<e.length;o++){var n=e[o].split("=");if(n[0]===t)return decodeURIComponent(n[1])}return null},e.prototype.setCookie=function(t,e,o,n,i,r){void 0===o&&(o=0);var c=encodeURIComponent(t)+"="+encodeURIComponent(e);if(o){var a=new Date;c+="; expires="+new Date(a.getTime()+864e5*o).toUTCString()}n&&(c+="; path="+n),i&&(c+="; domain="+i),r&&(c+="; secure"),document.cookie=c},Object.defineProperty(e.prototype,"cookie",{get:function(){return{getItem:function(t){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(t,e,o,n,i,r){if(!t||/^(?:expires|max\-age|path|domain|secure)$/i.test(t))return!1;var c="";if(o)switch(o.constructor){case Number:c=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:c="; expires="+o;break;case Date:c="; expires="+o.toUTCString()}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+c+(i?"; domain="+i:"")+(n?"; path="+n:"")+(r?"; secure":""),!0},removeItem:function(t,e,o){return!(!t||!this.hasItem(t)||(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(e?"; path="+e:""),0))},hasItem:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},get keys(){for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}}},enumerable:!1,configurable:!0}),e}(t("../base/singtonClass").default);o.default=r,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],tweenUtils:[function(t,e,o){"use strict";cc._RF.push(e,"75fbdT0/TBKvIi7pbgznvrY","tweenUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.labTween=function(t,e,o){void 0===o&&(o=.5);var n={a:Number(t.string)};cc.tween(n).to(o,{a:e},{progress:function(e,o,n,i){var r=e,c=o-r,a=Math.round(c*i+r);t&&(t.string=String(a))}}).start()},e.prototype.sharkTween=function(t,e){void 0===e&&(e=8.5),cc.Tween.stopAllByTarget(t),cc.tween(t).repeatForever(cc.tween().set({angle:0}).to(e,{angle:359})).start()},e.prototype.guideFingerTween=function(t){cc.Tween.stopAllByTarget(t),cc.tween(t).repeatForever(cc.tween().set({x:0,y:0,scale:1}).to(.8,{x:50,y:-50,scale:1.2}).to(.8,{x:0,y:0,scale:1})).start()},e.prototype.scaleShow=function(t){cc.Tween.stopAllByTarget(t),cc.tween(t).set({scale:.7}).to(.05,{scale:.9}).to(.05,{scale:.7}).call(function(){t.active=!0}).start()},e.prototype.scaleDelayShow=function(t,e){cc.Tween.stopAllByTarget(t),cc.tween(t).call(function(){t.active=!1}).delay(e).call(function(){t.active=!0}).set({scale:.7}).to(.05,{scale:.9}).to(.05,{scale:.7}).start()},e.prototype.stopAllByTarget=function(t){cc.Tween.stopAllByTarget(t)},e.prototype.scaleTween=function(t,e,o,n){void 0===n&&(n=.5),cc.Tween.stopAllByTarget(t),cc.tween(t).repeatForever(cc.tween().set({scale:o}).to(n,{scale:e}).to(n,{scale:o})).start()},e.prototype.floatTweenXY=function(t,e){void 0===e&&(e=.5),cc.Tween.stopAllByTarget(t),t.pauseAllActions();var o=cc.repeatForever(cc.sequence(cc.moveBy(e,-8,8),cc.moveBy(e,8,-8)));t.runAction(o)},e.prototype.floatTween=function(t,e){void 0===e&&(e=.8),cc.Tween.stopAllByTarget(t),cc.tween(t).repeatForever(cc.tween().set({y:0}).to(e,{y:40})).start()},e}(t("../base/singtonClass").default);o.default=r,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],"uiManagerUtils copy":[function(t,e){"use strict";cc._RF.push(e,"5b30dPSJnBEyLFBtBMzlFOH","uiManagerUtils copy"),cc._RF.pop()},{}],uiManagerUtils:[function(t,e,o){"use strict";cc._RF.push(e,"bd6840Jr3JNoJeT8PUsLsu9","uiManagerUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function c(t){try{s(n.next(t))}catch(e){r(e)}}function a(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(c,a)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;c;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,n=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(!(i=(i=c.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){c.label=r[1];break}if(6===r[0]&&c.label<i[1]){c.label=i[1],i=r;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(r);break}i[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../net/InterfaceUrl"),l=t("../app"),u=t("../base/singtonClass"),p=t("../gameEnum"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dictPanel=new Map,e._dictComp=new Map,e._isLoading=new Map,e._bundleConfig=new Map,e._listIsShow=new Map,e}return i(e,t),e.prototype.init=function(){},e.prototype.show=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];t&&(this._listIsShow.set(t,!0),1!=this._dictPanel.has(t)&&(1!=this._isLoading.has(t)||1!=this._isLoading.get(t)?(this._isLoading.set(t,!0),l.default.eventObj.showViewWait(),1==p.default.isRemoteView[t]?this.loadPrefabForBundle.apply(this,a([t,e],o)):this.loadPrefab.apply(this,a([t,e],o))):console.log(t,"is load")))},e.prototype.loadPrefab=function(t,e){for(var o=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r="ui/"+t;cc.resources.load(r,cc.Prefab,function(i,r){if(o._isLoading.set(t,!1),l.default.eventObj.hideViewWait(),i)return console.log(" === === === === === === === === === === === === === === === "),console.warn("\u672c\u5730\u52a0\u8f7dprefab\u5931\u8d25\uff1a",t),void console.log(" === === === === === === === === === === === === === === === ");o.showNode(!1,r,t,e,t,n)})},e.prototype.loadPrefabForBundle=function(t,e){for(var o=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r="http://192.168.2.35:1688/bundle_ui",c="ui/"+t;cc.assetManager.loadBundle(r,function(i,a){if(i)return o._isLoading.set(t,!1),l.default.eventObj.hideViewWait(),void cc.error("Failed to load bundle: "+r);REHome&&REHome.init&&REHome.init(l.default,s.default.config.pid,s.default.config.sn,s.default.url),a.load(c,cc.Prefab,function(i,r){o._isLoading.set(t,!1),l.default.eventObj.hideViewWait(),i?cc.error("Failed to load prefab: "+i):o.showNode(!0,r,t,e,t,n)})})},e.prototype.showNode=function(t,e,o,n,i,s){return r(this,void 0,void 0,function(){var i;return c(this,function(){return this._listIsShow.has(o)&&0==this._listIsShow.get(o)?(console.log("\u6253\u5f00\u9875\u9762\u65f6 \u5728\u52a0\u8f7d\u8fc7\u7a0b\u4e2d \u8c03\u7528\u4e86hide"),[2]):(i=cc.instantiate(e),this._dictPanel.set(o,i),i.parent=s[0],this.showCallBack.apply(this,a([t,i,n,o],s)),[2])})})},e.prototype.showCallBack=function(t,e,o){for(var n,i,r=[],c=3;c<arguments.length;c++)r[c-3]=arguments[c];var s=r[0];if(s){var l=s.split("/"),u=l[l.length-1];if(u)if(1==t){var p=this._bundleConfig.get(s),d=e.getComponent(u);p?d.init(p.showComplete,p.hideComplete):d.init(null,null),d&&(null===(n=null==d?void 0:d.show)||void 0===n||n.call.apply(n,a([d],r))),o&&o(),this._dictComp.set(s,d)}else(d=e.getComponent(u))&&(null===(i=null==d?void 0:d.show)||void 0===i||i.call.apply(i,a([d],r))),o&&o(),this._dictComp.set(s,d);else console.error(r[0]+" getComponent is error")}},e.prototype.getView=function(t){return this._dictPanel.has(t)?this._dictPanel.get(t):null},e.prototype.getViewComp=function(t){return this._dictComp.has(t)?this._dictComp.get(t):null},e.prototype.updateRemoteView=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=l.default.uiMgr.getViewComp(p.default.view.PrizeView);n?n.updateForHome?n.updateForHome.apply(n,e):console.warn("updateForHome is null:",t):console.warn("comp is null:",t)},e.prototype.hide=function(t,e){for(var o=this,n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(this._listIsShow.set(t,!1),0!=this._dictPanel.has(t)){var r=t;if(r){var c=r.split("/"),a=c[c.length-1],s=this._dictPanel.get(t);if(e&&e(),s){var l=s.getComponent(a);l?(l.hide&&l.hide.call(l,n),l.hideEffect&&l.hideEffect.call(l,function(){o.panelDestroy(t,s,l)})):this.panelDestroy(t,s,l)}}}else"WaitView"!=t&&console.log("\u4e0d\u5b58\u5728:",t)},e.prototype.panelDestroy=function(t,e,o){e.removeFromParent(),o&&(null==o||o.off()),this._dictPanel.delete(t),e.destroyAllChildren(),e.destroy()},e.prototype.isShow=function(t){return!(!this._listIsShow.has(t)||1!=this._listIsShow.get(t))},e}(u.default);o.default=d,cc._RF.pop()},{"../../net/InterfaceUrl":"InterfaceUrl","../app":"app","../base/singtonClass":"singtonClass","../gameEnum":"gameEnum"}],urlUtils:[function(t,e,o){"use strict";cc._RF.push(e,"ac351IkAYpJxKk4gyOXuZYt","urlUtils");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.param=null,e}return i(e,t),Object.defineProperty(e.prototype,"searchParam",{get:function(){var t={};if(window.document.location){var e=decodeURIComponent(window.document.location.hash);if(e=e.split("#")[1])for(var o=e.split("&"),n=0;n<o.length;n++)t[o[n].split("=")[0]]=o[n].split("=")[1];var i=decodeURIComponent(window.document.location.search);if(i=i.split("?")[1])for(o=i.split("&"),n=0;n<o.length;n++)t[o[n].split("=")[0]]=o[n].split("=")[1]}return this.param=t,t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchHerf",{get:function(){var t={};if(window.document.location){var e=decodeURIComponent(window.location.href);if(e=e.split("?")[1])for(var o=e.split("&"),n=0;n<o.length;n++)t[o[n].split("=")[0]]=o[n].split("=")[1]}return t},enumerable:!1,configurable:!0}),e}(t("../base/singtonClass").default);o.default=r,cc._RF.pop()},{"../base/singtonClass":"singtonClass"}],viewMgr:[function(t,e,o){"use strict";cc._RF.push(e,"207efXYSvhOmIcMqY/xukx/","viewMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,i++)n[i]=r[c];return n};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../app"),s=t("../gameEnum"),l=t("../ui/ModelTips"),u=cc._decorator,p=u.ccclass,d=u.property,h=u.executionOrder,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sceneLayer=null,e.effectLayer=null,e.windowLayer=null,e.waitLayer=null,e.topLayer=null,e.prefabToast=null,e.node_null=null,e.node_wait=null,e}return i(e,t),e.prototype.start=function(){a.default.event.on(a.default.eName.OPEN_VIEW,this.show,this),a.default.event.on(a.default.eName.OPEN_VIEW_AND_RUN_FUNC,this.showCallBack,this),a.default.event.on(a.default.eName.CLOSE_VIEW,this.hide,this),a.default.event.on(a.default.eName.TOAST,this.toast,this),a.default.event.on(a.default.eName.SHOW_WAIT,this.showWait,this),a.default.event.on(a.default.eName.HIDE_WAIT,this.hideWait,this),this.node_null.on(cc.Node.EventType.TOUCH_END,this._click,this),cc.tween(this.node_wait).repeatForever(cc.tween().set({angle:0}).to(3,{angle:359})).start(),this.waitLayer.active=!1},e.prototype.showWait=function(){this.waitLayer.active=!0},e.prototype.hideWait=function(){this.waitLayer.active=!1},e.prototype.onDestroy=function(){a.default.event.offAll(this),this.node_null.off(cc.Node.EventType.TOUCH_END,this._click,this),cc.Tween.stopAllByTarget(this.node_wait)},e.prototype._click=function(){},e.prototype.show=function(t,e){var o;void 0===t&&(t=s.default.view.TOAST_VIEW),void 0===e&&(e=s.default.layer.WINDOW_LAYER);for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=this.node.getChildByName(e);r?(o=a.default.uiMgr).show.apply(o,c([t,null,r],n)):console.error("\u5c42\u7ea7\u4e0d\u5b58\u5728\uff1a",e)},e.prototype.showCallBack=function(t,e,o){var n;void 0===t&&(t=s.default.view.TOAST_VIEW),void 0===e&&(e=s.default.layer.WINDOW_LAYER);for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var l=this.node.getChildByName(e);l?(n=a.default.uiMgr).show.apply(n,c([t,o,l],i)):console.error("\u5c42\u7ea7\u4e0d\u5b58\u5728\uff1a",e)},e.prototype.hide=function(t){void 0===t&&(t=s.default.view.TOAST_VIEW),a.default.uiMgr.hide(t)},e.prototype.toast=function(t,e,o){if(void 0===e&&(e=.5),void 0===o&&(o=3),!(o<=0)){var n=a.default.pool.getNode(this.prefabToast);if(n)this.effectLayer.addChild(n),n.setPosition(cc.v3(0,160,0)),n.getComponent(l.default).setData(t),cc.tween(n).to(.1,{opacity:255}).delay(e).to(.15,{opacity:0}).call(function(){a.default.pool.setNode(n)}).start();else{var i=o-1;a.default.event.emit(a.default.eName.TOAST,t,e,i)}}},r([d(cc.Node)],e.prototype,"sceneLayer",void 0),r([d(cc.Node)],e.prototype,"effectLayer",void 0),r([d(cc.Node)],e.prototype,"windowLayer",void 0),r([d(cc.Node)],e.prototype,"waitLayer",void 0),r([d(cc.Node)],e.prototype,"topLayer",void 0),r([d(cc.Prefab)],e.prototype,"prefabToast",void 0),r([d(cc.Node)],e.prototype,"node_null",void 0),r([d(cc.Node)],e.prototype,"node_wait",void 0),r([p,h(-300)],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../app":"app","../gameEnum":"gameEnum","../ui/ModelTips":"ModelTips"}]},{},["Anim_goal","app","BaseListItem","BaseListView","BaseUrl","BaseView","singtonClass","gameEnum","viewMgr","List","ListItem","ModelTips","dateUtils","encodeUtils","eventNameUtils","eventObjUtils","eventUtils","httpUtils","imgUrils","jsUrils","poolUtils","promiseUtils","randomUtils","requestUtils","storageUtil","tweenUtils","uiManagerUtils copy","uiManagerUtils","urlUtils","ActivityData","Common","Config","Data","SysData","User","DebugConfigItem","DebugItem","DebugView","GM","AutoZIndex","InterfaceUrl","HomeItem","HomeScene","ID01_Card","ID01_View","ID02_Item","ID02_View","ID03_Item","ID03_View","ID04_Item","ID04_View","ID05_Role","ID05_View","ID06_Role","ID06_View","ID07_View","ID08_Role","ID08_View","ID09_Item","ID09_View","ID10_Role","ID10_View","ID11_View","ID11_pipe","ID11_role","ID12_Role","ID12_View","ID13_View","ID14_View","ID15_Role","ID15_View","ID16_Item","ID16_View","ID17_Role","ID17_View","ID18_Box","ID18_BoxMgr","ID18_Robot","ID18_View","ID19_Role","ID19_Timer","ID19_View","ID20_Item","ID20_View","ID20_core","ID21_Fruit","ID21_Roulette","ID21_View","ID22_Role","ID22_View","ID22_model","ID23_AnimUtils","ID23_Common","ID23_Config","ID23_Core","ID23_TouchCtrl","ID23_View","ID24_Common","ID24_Config","ID24_Core","ID24_CoreVo","ID24_LinkMgr","ID24_View","ID25_Box","ID25_Data","ID25_View","ObjVo","Roost","BigNum","bignumber"]);