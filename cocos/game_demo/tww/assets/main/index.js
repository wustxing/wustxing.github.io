System.register("chunks:///_virtual/app.ts",["./rollupPluginModLoBabelHelpers.js","cc","./dateUtils.ts","./encodeUtils.ts","./eventNameUtils.ts","./eventObjUtils.ts","./eventUtils.ts","./httpUtils.ts","./imgUrils.ts","./jsUrils.ts","./mathUtils.ts","./poolUtils.ts","./promiseUtils.ts","./randomUtils.ts","./storageUtils.ts","./tweenUtils.ts","./uiManagerUtils.ts","./urlUtils.ts","./vectorUtils.ts"],(function(t){var n,e,u,i,c,s,o,r,f,a,l,d,g,y,k,U,p,m,v;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){u=t.default},function(t){i=t.default},function(t){c=t.default},function(t){s=t.default},function(t){o=t.default},function(t){r=t.default},function(t){f=t.default},function(t){a=t.default},function(t){l=t.default},function(t){d=t.default},function(t){g=t.default},function(t){y=t.default},function(t){k=t.default},function(t){U=t.default},function(t){p=t.default},function(t){m=t.default},function(t){v=t.default}],execute:function(){e._RF.push({},"08ddbAIKllOq7c9ziy/UgN+","app",void 0);t("default",function(){function t(){}return n(t,null,[{key:"promise",get:function(){return g.instance()}},{key:"pool",get:function(){return d.instance()}},{key:"event",get:function(){return o.instance()}},{key:"eName",get:function(){return c.instance()}},{key:"rand",get:function(){return y.instance()}},{key:"date",get:function(){return u.instance()}},{key:"encode",get:function(){return i.instance()}},{key:"eventObj",get:function(){return s.instance()}},{key:"http",get:function(){return r.instance()}},{key:"img",get:function(){return f.instance()}},{key:"nodeTree",get:function(){return console.error("not find nodeTree"),{}}},{key:"common",get:function(){return a.instance()}},{key:"tween",get:function(){return U.instance()}},{key:"uiMgr",get:function(){return p.instance()}},{key:"url",get:function(){return m.instance()}},{key:"storage",get:function(){return k.instance()}},{key:"vector",get:function(){return v.instance()}},{key:"math",get:function(){return l.instance()}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/arrayUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(n){var r,t,e;return{setters:[function(n){r=n.inheritsLoose},function(n){t=n.cclegacy},function(n){e=n.default}],execute:function(){t._RF.push({},"27fc6EfJO5AMp+UcaAgy2Fb","arrayUtils",void 0);n("default",function(n){function t(){return n.apply(this,arguments)||this}r(t,n);var e=t.prototype;return e.noRepeated=function(n){for(var r=[n[0]],t=1;t<n.length;t++){for(var e=!1,o=0;o<r.length;o++)if(n[t]==r[o]){e=!0;break}e||r.push(n[t])}return r},e.copy2DArray=function(n){for(var r=[],t=0;t<n.length;t++)r.push(n[t].concat());return r},e.fisherYatesShuffle=function(n){for(var r=n.length;r;){var t=Math.floor(Math.random()*r--),e=n[r];n[r]=n[t],n[t]=e}return n},e.confound=function(n){return n.slice().sort((function(){return Math.random()-.5}))},e.flattening=function(n){for(;n.some((function(n){return Array.isArray(n)}));)n=[].concat.apply([],n);return n},e.removeItem=function(n,r){for(var t=n.concat(),e=0;e<t.length;e++){if(r==t[e]){n.splice(e,1);break}}},e.combineArrays=function(n,r){return[].concat(n,r)},e.getRandomValueInArray=function(n){return n[Math.floor(Math.random()*n.length)]},t}(e));t._RF.pop()}}}));

System.register("chunks:///_virtual/AutoCollider.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,e,n,r,i,s;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,r=t.SphereCollider,i=t.v3,s=t.Component}],execute:function(){var c;e._RF.push({},"41213hY6YVIjIqWf/H6cY3N","AutoCollider",void 0);var u=n.ccclass,a=(n.property,n.executeInEditMode);t("AutoCollide",u("AutoCollide")(c=a(!0)(c=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.start=function(){this.test()},n.test=function(){this.node.getComponents(r).forEach((function(t){t.destroy()}));for(var t=0;t<15;t++){var o=this.node.addComponent(r);o.radius=.002;var e=2*Math.PI/15*t;o.center=i(.021*Math.cos(e),0,.021*Math.sin(e))}},e}(s))||c)||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseListView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts"],(function(t){var e,n,r,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator},function(t){i=t.default}],execute:function(){var s;n._RF.push({},"421a1LZtZtAcbjF8uKzLBNb","BaseListView",void 0);var a=r.ccclass;r.property,t("BaseListView",a("BaseListView")(s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).arrData=null,e.listV=null,e}return e(n,t),n.prototype.updateUI=function(){},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts"],(function(t){var s,a,n,e,u;return{setters:[function(t){s=t.construct,a=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){e=t.cclegacy},function(t){u=t.default}],execute:function(){e._RF.push({},"0cb9cVWwBRDLKJXbiUWU+LG","BaseUrl",void 0);t("default",function(){function t(){this.success_callback=null,this.fail_callback=null,this._urlData=null,this.url=""}t.instance=function(){var t=this;if(!t._instance){for(var a=arguments.length,n=new Array(a),e=0;e<a;e++)n[e]=arguments[e];t._instance=s(t,n)}return t._instance};var e=t.prototype;return e.send=function(){},e.post=function(){var t=a(n().mark((function t(s){var a,e,c=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._urlData=s,a=null,e=setTimeout((function(){console.log("定时器"),u.eventObj.showWait()}),500),t.next=5,u.http.asyncPost(this.url,s).then((function(t){a=c.autoData(t.resp,!0)})).catch((function(t){a=c.autoData(t,!1)}));case 5:clearTimeout(e),u.eventObj.hideWait(),a.status?this.success(a.data,a.obj):this.fail(a.data,a.msg);case 8:case"end":return t.stop()}}),t,this)})));return function(s){return t.apply(this,arguments)}}(),e.autoData=function(t,s){void 0===s&&(s=!0);var a={status:!1,data:null,obj:null,msg:null};return 1==s?(a.status=!0,a.data=t,a.obj=t.data,"success"==t.status?(a.status=!0,a.data=t,a.obj=t.data):(a.status=!1,a.data=t,a.msg=t.message)):(a.status=!1,a.data=t,a.msg=t.message),a},e.autoResponse=function(t){var s=this.autoData(t,!0);s.status?this.success(s.data,s.obj):this.fail(s.data,s.msg)},e.get=function(){var t=a(n().mark((function t(s){var a,e,c=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._urlData=s,a=null,e=setTimeout((function(){u.eventObj.showWait()}),500),s&&0!=Object.keys(s).length&&(console.warn(s),-1==this.url.indexOf("?")&&(this.url+="?"),this.url+=u.common.paramObjToString(s)),t.next=6,u.http.asyncGet(this.url).then((function(t){a=c.autoData(t.resp,!0)})).catch((function(t){a=c.autoData(t,!1)}));case 6:clearTimeout(e),u.eventObj.hideWait(),a.status?this.success(a.data,a.obj):this.fail(a.data,a.msg);case 9:case"end":return t.stop()}}),t,this)})));return function(s){return t.apply(this,arguments)}}(),e.success=function(t,s){void 0===s&&(s=null),this.url.indexOf("api/index/ping")>=0||(console.log(this.url),console.log("[BASEURL-LOG]",t)),this.success_callback&&(this.success_callback(s),this.success_callback=null)},e.fail=function(t,s){console.warn(this.url),console.warn("[BASEURL-ERROR]",t);var a=t.code;console.warn("未知错误["+a+"]",t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./gameEnum.ts"],(function(e){var t,i,n,o,a,c,r,s,f,h,l,v,u,d,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,r=e.Enum,s=e.Input,f=e.Widget,h=e.tween,l=e.easing,v=e.UIOpacity,u=e.Component},function(e){d=e.default},function(e){_=e.default}],execute:function(){var g,E,m,p;a._RF.push({},"4ca1fXdXk9JPp+Bvi/MxCxE","BaseView",void 0);var y=c.ccclass,w=c.property;e("default",(g=w({type:r(_.viewEffect),displayName:"弹出效果",tooltip:"NORMAL:缩小放大特效;BUTTON_SHOW:从下方弹出"}),y((p=t((m=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(t=e.call.apply(e,[this].concat(a))||this).view_name=_.view.NONE,t.arr_btn=[],t.arr_event=[],n(t,"effectType",p,o(t)),t.btnBack=null,t.c_startTime=0,t.c_endTime=0,t.url="",t.rurl="",t.clicktime=0,t}i(t,e);var a=t.prototype;return a.closeView=function(){d.uiMgr.hide(this.view_name)},a.showView=function(e){void 0===e&&(e=_.layer.WINDOW_LAYER);for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];d.event.emit(d.eName.OPEN_VIEW,this.view_name,e,i)},a.show=function(){var e=this;this.view_name=arguments.length<=0?void 0:arguments[0],console.log(this.view_name," is show"),this.showEffect(),this.arr_btn.forEach((function(t){t.on(s.EventType.TOUCH_END,e.click,e)}));var t=this.node.getChildByName("btn_back");t&&t.on(s.EventType.TOUCH_END,this._click,this);var i=this.node.getChildByName("btn_null");i&&i.on(s.EventType.TOUCH_END,this._click,this),this.btnBack&&this.btnBack.on(s.EventType.TOUCH_END,this._click,this),this.arr_event.forEach((function(t){d.event.on(t.name,t.func,t.target?t.target:e)})),this.c_startTime=d.date.getTime()},a.hide=function(){var e=this;this.arr_btn.forEach((function(t){t.off(s.EventType.TOUCH_END,e.click,e)})),d.event.offAll(this);var t=this.node.getChildByName("btn_back");t&&t.off(s.EventType.TOUCH_END,this._click,this);var i=this.node.getChildByName("btn_null");i&&i.off(s.EventType.TOUCH_END,this._click,this),this.btnBack&&this.btnBack.off(s.EventType.TOUCH_END,this._click,this),this.c_endTime=d.date.getTime()},a.off=function(){var e=this;this.arr_btn.forEach((function(t){t.off(s.EventType.TOUCH_END,e.click,e)})),d.event.offAll(this)},a.click=function(e){},a._click=function(e){var t=this.node.getChildByName("btn_back");this.node.getChildByName("btn_null");switch(e.currentTarget){case this.btnBack:this.closeView();break;case t:d.uiMgr.hide(this.view_name)}},a.hideEffect=function(e){switch(console.log("hideEffect",this.view_name),this.effectType){case _.viewEffect.BG_SCALE:if(!(i=this.node.getChildByName("view")))return void e();i.scale=d.vector.getV3(1);var t=i.getComponent(v);t.opacity=255,h(t).to(.1,{opacity:0},{easing:l.smooth}).start(),h(i).to(.1,{scale:d.vector.getV3(1.3)},{easing:l.smooth}).call((function(){i.scale=d.vector.getV3(1),t.opacity=255,e()})).start();break;case _.viewEffect.WIDGET_BUTTOM_SHOW:if(!(i=this.node.getChildByName("view")))return void e();if(!(n=i.getComponent(f)))return void e();n.bottom=0,h(n).to(.1,{bottom:-500},{easing:l.smooth}).call((function(){n.bottom=0,e()})).start();break;case _.viewEffect.WIDGET_LEFT_SHOW:var i,n;if(!(i=this.node.getChildByName("view")))return void e();if(!(n=i.getComponent(f)))return void e();n.left=0,h(n).to(.1,{left:-500},{easing:l.smooth}).call((function(){n.left=0,e()})).start();break;default:e()}},a.showEffect=function(){switch(this.effectType){case _.viewEffect.BG_SCALE:if(!(e=this.node.getChildByName("view")))return;e.scale=d.vector.getV3(1.5),h(e).to(.2,{scale:d.vector.getV3(1)},{easing:l.expoOut}).start();break;case _.viewEffect.BG_SCALE1:if(!(e=this.node.getChildByName("view")))return;e.scale=d.vector.getV3(.7),h(e).to(.1,{scale:d.vector.getV3(1)}).start();break;case _.viewEffect.WIDGET_BUTTOM_SHOW:if(!(e=this.node.getChildByName("view")))return;if(!(t=e.getComponent(f)))return;t.bottom=-500,h(t).to(1.6,{bottom:0},{easing:l.quintOut}).start();break;case _.viewEffect.WIDGET_LEFT_SHOW:var e,t;if(!(e=this.node.getChildByName("view")))return;if(!(t=e.getComponent(f)))return;t.left=-500,h(t).to(.1,{left:0},{easing:l.quadOut}).start();break;case _.viewEffect.NORMAL:default:this.node.scale=d.vector.getV3(1)}},t}(u)).prototype,"effectType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.viewEffect.NORMAL}}),E=m))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Debug.ts"],(function(t){var e,i,n,o,r,c,a,u,s,h,l,p,f,T,v,d,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Node,u=t.Quat,s=t.Vec2,h=t.Camera,l=t.toRadian,p=t.input,f=t.Input,T=t.clamp,v=t.Vec3,d=t.Component},function(t){C=t.Debug}],execute:function(){var E,y,S,g,b,m,w,_;r._RF.push({},"fa3bd1pc6ZMQ422iA/LXBoA","CameraCtr",void 0);var D=c.ccclass,U=c.property;t("CameraCtr",(E=D("CameraCtr"),y=U(a),E((b=e((g=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"distance",b,o(e)),n(e,"vertical",m,o(e)),n(e,"horizontal",w,o(e)),n(e,"target",_,o(e)),e.camera=null,e.rot=new u,e.curXY=new s,e.curScale=1,e.touchCount=0,e.touchs=[{id:-1,pre:new s,cur:new s},{id:-1,pre:new s,cur:new s}],e.rotTemp=new u,e}i(e,t);var r=e.prototype;return r.start=function(){this.camera=this.getComponentInChildren(h),this.curXY.set(l(this.horizontal),-l(this.vertical)),this.camera&&(C.camera=this.camera)},r.onEnable=function(){p.on(f.EventType.MOUSE_WHEEL,this.onMouseScale,this),p.on(f.EventType.TOUCH_START,this.onTouchStart,this),p.on(f.EventType.TOUCH_MOVE,this.onTouchMove,this),p.on(f.EventType.TOUCH_CANCEL,this.onTouchEnd,this),p.on(f.EventType.TOUCH_END,this.onTouchEnd,this)},r.onDisable=function(){p.off(f.EventType.MOUSE_WHEEL,this.onMouseScale,this),p.off(f.EventType.TOUCH_START,this.onTouchStart,this),p.off(f.EventType.TOUCH_MOVE,this.onTouchMove,this),p.off(f.EventType.TOUCH_CANCEL,this.onTouchEnd,this),p.off(f.EventType.TOUCH_END,this.onTouchEnd,this)},r.updateRotate=function(){var t=this.node,e=this.rot;this.curXY.y=T(this.curXY.y,l(-60),l(30)),u.rotateY(e,u.IDENTITY,-this.curXY.x),u.rotateX(e,e,this.curXY.y),u.slerp(e,t.rotation,e,.25),t.rotation=e},r.onMouseScale=function(t){var e=t.getScrollY()>0?1:-1;this.curScale=T(this.curScale-.1*e,.25,1.5),this.node.scale=new v(this.curScale,this.curScale,this.curScale)},r.onTouchStart=function(t){for(var e=t.getID(),i=t.getUILocation(),n=0;n<2;n++){var o=this.touchs[n];if(-1==o.id){o.id=e,o.pre.set(i),o.cur.set(i),this.touchCount++;break}}},r.onTouchMove=function(t){for(var e=null,i=t.getID(),n=t.getUILocation(),o=0;o<2;o++){var r=this.touchs[o];r.id==i&&(r.cur.set(n),e=r)}if(1==this.touchCount){var c=t.getUIDelta();this.curXY.x+=.008*c.x,this.curXY.y+=.008*c.y}else if(2==this.touchCount){var a=this.touchs[0],u=this.touchs[1],h=s.distance(a.cur,u.cur),l=s.distance(a.pre,u.pre);this.curScale=T(this.curScale-.002*(h-l),.25,1.5),this.node.scale=new v(this.curScale,this.curScale,this.curScale)}e&&e.pre.set(e.cur)},r.onTouchEnd=function(t){for(var e=t.getID(),i=0;i<2;i++){var n=this.touchs[i];n.id==e&&(n.id=-1,this.touchCount--)}},r.update=function(t){this.updateRotate()},e}(d)).prototype,"distance",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),m=e(g.prototype,"vertical",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),w=e(g.prototype,"horizontal",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),_=e(g.prototype,"target",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=g))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/cameraUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(t){var e,n,i,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Vec3,o=t.view},function(t){r=t.default}],execute:function(){n._RF.push({},"aae62eKRSVJMbgr2iQSqr31","cameraUtils",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.isInView=function(t,e){var n=t.node.getWorldPosition(),r=t.worldToScreen(e),s=i.normalize(new i,e.subtract(n)),c=t.node.forward,u=i.dot(c,s),a=o.getViewportRect();return u>0&&(r.x<=a.width&&r.x>=0&&r.y<=a.height&&r.y>=0||void 0)},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/ChickModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts"],(function(e){var t,n,i,r,o,a,s,l,c,u,p,f,y,h,d,b,_,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.SkeletalAnimation,u=e.Node,p=e.MeshRenderer,f=e.Animation,y=e.v3,h=e.tween,d=e.easing,b=e.Color,_=e.Component},function(e){m=e.default}],execute:function(){var g,x,v,I,E,M,w,D,P;s._RF.push({},"871b8l8u9JI77z+ewZQO4ju","ChickModel",void 0);var R=l.ccclass,T=l.property;e("ChickModel",(g=R("ChickModel"),x=T(c),v=T(u),I=T(p),g((w=t((M=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"fbx",w,r(t)),i(t,"nodeX",D,r(t)),i(t,"meshBody",P,r(t)),t}n(t,e);var s=t.prototype;return s.start=function(){},s.run=function(){this.fbx.play("anim_rig_run")},s.fall_into_water_die=function(){this.fbx.play("anim_rig_fall_into_water_die")},s.fly_open=function(){this.fbx.once(f.EventType.FINISHED,this.fly,this),this.fbx.play("anim_rig_fly_open")},s.fly=function(){this.fbx.play("anim_rig_fly")},s.fly_shut=function(){this.fbx.once(f.EventType.FINISHED,this.idle,this),this.fbx.play("anim_rig_fly_shut")},s.idle=function(){this.fbx.play("anim_rig_idle_1")},s.jump=function(e,t){var n=this;void 0===e&&(e=1.2),void 0===t&&(t=4);this.fbx.node.position.clone();var i=this.fbx.node.position.clone(),r=y(0,t,-3),o=e/2;this.fly_open(),h(this.fbx.node).to(o,{position:r},{easing:d.cubicOut}).to(o,{position:i},{easing:d.quadIn}).call((function(){n.fly_shut()})).start()},s.playDieAnim=function(){var e=o(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.meshBody.getMaterialInstance(0)).setProperty("albedo",b.RED),e.next=4,m.promise.sleep(.1);case 4:return t.setProperty("albedo",b.WHITE),e.next=7,m.promise.sleep(.1);case 7:return t.setProperty("albedo",b.RED),e.next=10,m.promise.sleep(.1);case 10:return t.setProperty("albedo",b.WHITE),e.next=13,m.promise.sleep(.1);case 13:return t.setProperty("albedo",b.RED),e.next=16,m.promise.sleep(.1);case 16:t.setProperty("albedo",b.WHITE);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.setNormalMaterial=function(){this.meshBody.getMaterialInstance(0).setProperty("albedo",b.WHITE)},s.setRedMaterial=function(){this.meshBody.getMaterialInstance(0).setProperty("albedo",b.RED)},t}(_)).prototype,"fbx",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(M.prototype,"nodeX",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(M.prototype,"meshBody",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=M))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/Collision.ts",["cc"],(function(t){var e,s;return{setters:[function(t){e=t.cclegacy,s=t.Vec3}],execute:function(){e._RF.push({},"4caf55KSv9GPq+TOhyBeb+v","Collision",void 0);var i=t("ShapeType",function(t){return t[t.Box=0]="Box",t[t.Sphere=1]="Sphere",t[t.Capsule=2]="Capsule",t}({})),r=[];r[i.Box]=function(t){return t[0]=t[0]>0?.5:-.5,t[1]=t[1]>0?.5:-.5,t[2]=t[2]>0?.5:-.5,t},r[i.Sphere]=function(t){var e=t[0],s=t[1],i=t[2],r=e*e+s*s+i*i;return r=.5*(r>0?1/Math.sqrt(r):0),t[0]=e*r,t[1]=s*r,t[2]=i*r,t},r[i.Capsule]=function(t){var e=t[0],s=t[1],i=t[2],r=e*e+s*s+i*i;return r=.5*(r>0?1/Math.sqrt(r):0),t[0]=e*r,t[1]=s*r,t[2]=i*r,t[1]+=s>0?.5:-.5,t};t("Collision",function(){function t(t,e,i){void 0===t&&(t=16),void 0===e&&(e=16),void 0===i&&(i=1e-5),this.MAX_GJK_TIMES=16,this.MAX_EPA_TIMES=16,this.MAX_EPSILON=1e-5,this.slength=0,this.simplex=[],this.flength=0,this.simplexFaces=[{a:0,b:1,c:2,nx:0,ny:0,nz:0,dist:0},{a:0,b:1,c:3,nx:0,ny:0,nz:0,dist:0},{a:0,b:2,c:3,nx:0,ny:0,nz:0,dist:0},{a:1,b:2,c:3,nx:0,ny:0,nz:0,dist:0}],this.a0=new s,this.b0=new s,this.ab=new s,this.ac=new s,this.ad=new s,this.bc=new s,this.ba=new s,this.bd=new s,this.dir=new s,this.pA=[0,0,0],this.pB=[0,0,0],this.eData=new Array(64),this.eflag=new Array(1024),this.closest=null,this.MAX_GJK_TIMES=t,this.MAX_EPA_TIMES=e,this.MAX_EPSILON=i,this.slength=0;for(var r=(t>e?t:e)+8,n=0;n<r;n++)this.simplex[n]=new s;for(var a=0;a<1024;a++)this.eflag[a]=0}var e=t.prototype;return e.EPA=function(t,e,s){this.flength=4;var i=this.MAX_EPSILON,r=this.simplexFaces;r[0].a=0,r[0].b=1,r[0].c=2,r[1].a=0,r[1].b=1,r[1].c=3,r[2].a=0,r[2].b=2,r[2].c=3,r[3].a=1,r[3].b=2,r[3].c=3;var n=this.dir;this.closest=null,this.getClosestFace(s,r);for(var a=0;a<this.MAX_EPA_TIMES;a++){var h=this.closest;n.x=h.nx,n.y=h.ny,n.z=h.nz;var o=this.support(t,e,n),c=o.dot(n);if(c-h.dist<i)return{dist:c+i,dir:n.negative()};this.expand(s,r,o)}var l=this.closest;return n.x=l.nx,n.y=l.ny,n.z=l.nz,{dist:this.support(t,e,n).dot(n)+i,dir:n.negative()}},e.GJK=function(t,e,i){void 0===i&&(i=!0),this.slength=0;var n=null,a=this.simplex,h=r[t.getColliderShape()],o=r[e.getColliderShape()],c=s.subtract(this.dir,t.getWorldCenter(),e.getWorldCenter()),l={center:t.center,m:t.getWorldMatrix(),verts:t.getVertices(),support:h},u={center:e.center,m:e.getWorldMatrix(),verts:e.getVertices(),support:o};this.support(l,u,c),c.negative();for(var v=0;v<this.MAX_GJK_TIMES;v++){if(this.support(l,u,c).dot(c)<=0){n=!1;break}if(this.getChangeDir(a,c)){if(i)return this.EPA(l,u,a);n=!0;break}}return n},e.expand=function(t,e,s){for(var i=new Set,r=Number.MAX_VALUE,n=s.x,a=s.y,h=s.z,o=this.flength,c=o-1;c>=0;c--){var l=e[c],u=l.dist;if(n*l.nx+a*l.ny+h*l.nz-u>0){var v=l.a<<16|l.b,d=l.a<<16|l.c,g=l.b<<16|l.c;i.delete(v)||i.add(v),i.delete(d)||i.add(d),i.delete(g)||i.add(g),e[c]=e[--o],e[o]=l}else u<r&&(this.closest=l,r=u)}var b=o,f=this.slength-1;i.forEach((function(t){if(o>=e.length)e.push({a:t>>16,b:65535&t,c:f,nx:0,ny:0,nz:0});else{var s=e[o];s.a=t>>16,s.b=65535&t,s.c=f}o++})),i.clear(),this.flength=o,this.getClosestFace(t,e,b,r)},e.getClosestFace=function(t,e,s,i){void 0===s&&(s=0),void 0===i&&(i=Number.MAX_VALUE);for(var r=this.flength,n=s;n<r;n++){var a=e[n],h=t[a.a],o=t[a.b],c=t[a.c],l=h.x,u=h.y,v=h.z,d=o.x-l,g=o.y-u,b=o.z-v,f=c.x-l,p=c.y-u,m=c.z-v,x=g*m-b*p,y=b*f-d*m,A=d*p-g*f,M=x*x+y*y+A*A;M>0&&(x*=M=1/Math.sqrt(M),y*=M,A*=M);var z=l*x+u*y+v*A;z<=0&&(x=-x,y=-y,A=-A,z=-z),a.nx=x,a.ny=y,a.nz=A,a.dist=z,z<i&&(this.closest=a,i=z)}},e.getChangeDir=function(t,e){switch(this.slength){case 2:var i=s.subtract(this.ab,t[1],t[0]),r=s.negate(this.a0,t[0]),n=s.cross(this.b0,i,r);return s.cross(e,n,i),!1;case 3:var a=s.subtract(this.ab,t[1],t[0]),h=s.subtract(this.ac,t[2],t[0]);return s.cross(e,a,h),s.negate(this.b0,t[0]).dot(e)<0&&e.negative(),!1;case 4:var o=s.subtract(this.ab,t[1],t[0]),c=s.subtract(this.ac,t[2],t[0]);s.cross(e,o,c).normalize();var l=s.subtract(this.ad,t[3],t[0]);l.dot(e)>0&&e.negative();var u=s.negate(this.b0,t[0]);if(u.dot(e)>0)return this.slength=3,!1;if(s.cross(e,o,l).normalize(),c.dot(e)>0&&e.negative(),u.dot(e)>0){var v=t[2];return t[2]=t[3],t[3]=v,this.slength=3,!1}if(s.cross(e,c,l).normalize(),o.dot(e)>0&&e.negative(),u.dot(e)>0){var d=t[1];return t[1]=t[2],t[2]=t[3],t[3]=d,this.slength=3,!1}var g=s.subtract(this.bc,t[2],t[1]),b=s.subtract(this.bd,t[3],t[1]);if(s.cross(e,g,b).normalize(),s.subtract(this.ba,t[0],t[1]).dot(e)>0&&e.negative(),s.negate(this.b0,t[1]).dot(e)>0){var f=t[0];return t[0]=t[1],t[1]=t[2],t[2]=t[3],t[3]=f,this.slength=3,!1}return!0}},e.support=function(t,e,s){var i=this.getPointInDirection(t,s,this.pA);s.negative();var r=this.getPointInDirection(e,s,this.pB);s.negative();var n=this.simplex[this.slength++];return n.x=i[0]-r[0],n.y=i[1]-r[1],n.z=i[2]-r[2],n},e.getPointInDirection=function(t,e,s){var i=t.m,r=t.verts,n=t.center,a=t.support,h=e.x,o=e.y,c=e.z,l=h*i.m00+o*i.m01+c*i.m02,u=h*i.m04+o*i.m05+c*i.m06,v=h*i.m08+o*i.m09+c*i.m10;if(null!=a)s[0]=l,s[1]=u,s[2]=v,a(s),h=s[0],o=s[1],c=s[2];else{for(var d=0,g=r.length/3,b=-Number.MAX_VALUE,f=n.x*l+n.y*u+n.z*v,p=0;p<g;p++){var m=r[3*p]*l+r[3*p+1]*u+r[3*p+2]*v;m-f>b&&(b=m-f,d=p)}h=r[3*d],o=r[3*d+1],c=r[3*d+2]}return s[0]=i.m00*h+i.m04*o+i.m08*c+i.m12,s[1]=i.m01*h+i.m05*o+i.m09*c+i.m13,s[2]=i.m02*h+i.m06*o+i.m10*c+i.m14,s},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Common_mountain.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"66ecf/a77tNdKL8EiALjtJL","Common_mountain",void 0),t("default",(function(){})).debug=!1,n._RF.pop()}}}));

System.register("chunks:///_virtual/Common.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"c95f0iECdRDG5VRtvKeIRqQ","Common",void 0);var n=t("default",function(){function t(){}return t.init=function(){this.path=0,this.coin=0,this.score=0,this.s=20,this.speed=50,this.isRun=!1},t}());n.clickWaitTime=350,n.isRun=!1,n.speed=50,n.s=20,n.path=0,n.coin=0,n.score=0,i._RF.pop()}}}));

System.register("chunks:///_virtual/CommonExpand.ts",["cc"],(function(){var n;return{setters:[function(c){n=c.cclegacy}],execute:function(){n._RF.push({},"4a575+CaL1Cq75CnO/cZjG1","CommonExpand",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/dateUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"50576OKrRNKRpUNBDzGzqIj","dateUtils",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var r=n.prototype;return r.getTime=function(){return(new Date).getTime()},r.getFormatBySecond=function(t){void 0===t&&(t=0),t<0&&(t=0);var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),r=Math.floor((t-3600*e)%60);return(0==n?"00":n<10?"0"+n:""+n)+":"+(0==r?"00":r<10?"0"+r:""+r)},r.getDay=function(t){return new Date(t).getDay()},r.isSameDate=function(t,e){var n=new Date(t),r=new Date(e);return n.getFullYear()==r.getFullYear()&&n.getMonth()==r.getMonth()&&n.getDate()==r.getDate()},r.format=function(t,e){void 0===e&&(e="yyyy-MM-dd hh:mm:ss");var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},r.dateDifference=function(t,e){var n=Math.abs(e-t);return Math.ceil(n/864e5)},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Debug.ts",["cc"],(function(e){var r,n,t,a,i;return{setters:[function(e){r=e.cclegacy,n=e.VERSION,t=e.director,a=e.geometry,i=e.Vec3}],execute:function(){r._RF.push({},"b733b+Dgw1Fw4GN9fRaNzjI","Debug",void 0);var d=e("Debug",function(){function e(){}return e.getRenderer=function(){this.renderer||(parseInt(n.charAt(2))<6?this.renderer=t.root.pipeline.geometryRenderer:(this.camera&&this.camera.camera.initGeometryRenderer(),this.renderer=this.camera.camera.geometryRenderer));return this.renderer},e.addBox=function(e,r,n){var t=this.getRenderer();if(t&&t.addBoundingBox){var i=e[0]+e[3],d=e[1]+e[4],o=e[2]+e[5],c=e[3]-e[0],u=e[4]-e[1],s=e[5]-e[2],g=a.AABB.create(.5*i,.5*d,.5*o,.5*c,.5*u,.5*s);t.addBoundingBox(g,n,!0,!0,!0,!0,r)}},e.addTriangle=function(e,r,n){var t=this.getRenderer();if(t&&t.addBoundingBox){var a=new i(e[0],e[1],e[2]).transformMat4(r),d=new i(e[3],e[4],e[5]).transformMat4(r),o=new i(e[6],e[7],e[8]).transformMat4(r);t.addTriangle(a,d,o,n)}},e.addLine=function(e,r,n,t){var a=this.getRenderer();a&&a.addLine&&a.addLine(e,r,t)},e}());d.renderer=null,d.camera=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/DollCylinderModel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,i,o,l,a,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,u=e.Component}],execute:function(){var c,d,p,s,f,y,b,g,h;o._RF.push({},"0eb9c0Tr+VGEILJHGpAaxWl","DollCylinderModel",void 0);var v=l.ccclass,D=l.property;e("DollCylinderModel",(c=v("DollCylinderModel"),d=D(a),p=D(a),s=D(a),c((b=n((y=function(e){function n(){for(var n,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,t(n,"nodeStart",b,i(n)),t(n,"nodeEnd",g,i(n)),t(n,"nodeRadius",h,i(n)),n.radius=.1,n}r(n,e);var o=n.prototype;return o.start=function(){},o.update=function(e){},n}(u)).prototype,"nodeStart",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(y.prototype,"nodeEnd",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=n(y.prototype,"nodeRadius",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/DollView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./BaseView.ts","./gameEnum.ts","./Torus.ts"],(function(t){var e,n,o,r,i,s,a,u,c,l,p,h,f,y,T,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,c=t.Prefab,l=t.Node,p=t.Label,h=t.Input},function(t){f=t.default},function(t){y=t.default},function(t){T=t.default},function(t){v=t.Torus}],execute:function(){var _,d,m,w,b,g,C,E,U,R;a._RF.push({},"04e50PvCwlA6omwyHuu6i3R","DollView",void 0);var L=u.ccclass,O=u.property;t("DollView",(_=L("DollView"),d=O(c),m=O(l),w=O(p),_(((R=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,o(e,"preTorus",C,r(e)),o(e,"nodeTorus",E,r(e)),o(e,"lblScore",U,r(e)),e.isRun=!1,e._start_y=0,e._start_x=0,e.comp=null,e}n(e,t);var a=e.prototype;return a.start=function(){this.show(T.view.NONE)},a.show=function(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];(e=t.prototype.show).call.apply(e,[this].concat(o)),this.newTorus(),this.node.on(h.EventType.TOUCH_START,this._move,this),this.node.on(h.EventType.TOUCH_MOVE,this._move,this),this.node.on(h.EventType.TOUCH_END,this._move,this),this.node.on(h.EventType.TOUCH_CANCEL,this._move,this)},a._move=function(t){switch(t.type){case h.EventType.TOUCH_START:if(!this.comp)return;this._start_y=t.getUILocation().y,this._start_x=t.getUILocation().x,this.isRun=!0;break;case h.EventType.TOUCH_MOVE:if(0==this.isRun||!this.comp)return;t.getUILocation().y;this._start_y;var e=t.getUILocation().x-375;this.comp.updateRoleX(e);break;case h.EventType.TOUCH_END:case h.EventType.TOUCH_CANCEL:if(0==this.isRun)return;var n=t.getUILocation().x,o=t.getUILocation().y;this.isRun=!1,this.run(n-this._start_x,o-this._start_y)}},a.newTorus=function(){var t=f.pool.getNode(this.preTorus);t.parent=this.nodeTorus.parent,t.setPosition(this.nodeTorus.getPosition());var e=t.getComponent(v);e.body.clearState(),e.body.useCCD=!0,this.comp=e},a.run=function(){var t=i(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=0),void 0===n&&(n=0),this.comp){t.next=4;break}return t.abrupt("return");case 4:return this.comp&&this.comp.run(e,n),this.comp=null,t.next=8,f.promise.sleep(1);case 8:this.newTorus();case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),a.update=function(t){this.lblScore.string=e.score+""},e}(y)).score=0,C=e((g=R).prototype,"preTorus",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(g.prototype,"nodeTorus",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(g.prototype,"lblScore",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=g))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/encodeUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.default}],execute:function(){n._RF.push({},"e9312netVZCmaZXEMPeiWKB","encodeUtils",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.aesDecrypt=function(t){var e="0FldOs9PhBZqzEMK",n="DFBZpId059PhEMoK";e=CryptoJS.enc.Utf8.parse(e),n=CryptoJS.enc.Utf8.parse(n);var r=t,o=CryptoJS.AES.decrypt(r,e,{iv:n,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7}).toString(CryptoJS.enc.Utf8);return JSON.parse(o)},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/eventNameUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.default}],execute:function(){n._RF.push({},"2f7f3r+ejtOIqHf19uAg4SJ","eventNameUtils",void 0);e("default",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).OPEN_VIEW=Symbol(),t.CLOSE_VIEW=Symbol(),t.TOAST=Symbol(),t.OPEN_VIEW_AND_RUN_FUNC=Symbol(),t.SHOW_WAIT=Symbol(),t.HIDE_WAIT=Symbol(),t.COMPLETE_LOGIN=Symbol(),t.addStep=Symbol(),t.event_view08_addScore=Symbol(),t.event_view08_gameEnd=Symbol(),t.event_view10_addScore=Symbol(),t.event_view10_gameEnd=Symbol(),t.event_updateRunViewUI=Symbol(),t.event_gameStart=Symbol(),t.event_gameEnd=Symbol(),t.event_gameInit=Symbol(),t.event_gameAgain=Symbol(),t.event_addScore=Symbol(),t}return t(n,e),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/eventObjUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./singtonClass.ts","./gameEnum.ts"],(function(e){var n,t,i,o,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy},function(e){i=e.default},function(e){o=e.default},function(e){a=e.default}],execute:function(){t._RF.push({},"3509fLnAaVBKZ5NTp9EHI/7","eventObjUtils",void 0);e("default",function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var o=t.prototype;return o.openView=function(e,n){var t;void 0===e&&(e=a.view.NONE),void 0===n&&(n=a.layer.WINDOW_LAYER);for(var o=arguments.length,u=new Array(o>2?o-2:0),c=2;c<o;c++)u[c-2]=arguments[c];(t=i.event).emit.apply(t,[i.eName.OPEN_VIEW,e,n].concat(u))},o.openViewAsync=function(e,n,t){var o;void 0===e&&(e=a.view.NONE),void 0===n&&(n=a.layer.WINDOW_LAYER),void 0===t&&(t=null);for(var u=arguments.length,c=new Array(u>3?u-3:0),r=3;r<u;r++)c[r-3]=arguments[r];(o=i.event).emit.apply(o,[i.eName.OPEN_VIEW_AND_RUN_FUNC,e,n,t].concat(c))},o.closeView=function(e){void 0===e&&(e=a.view.NONE),i.event.emit(i.eName.CLOSE_VIEW,e)},o.toast=function(e,n){void 0===n&&(n=2),e?i.event.emit(i.eName.TOAST,e,n):console.error("msg is null",e)},o.showWait=function(){},o.hideWait=function(){},o.showViewWait=function(){i.event.emit(i.eName.SHOW_WAIT)},o.hideViewWait=function(){i.event.emit(i.eName.HIDE_WAIT)},o.loginSuccess=function(){i.event.emit(i.eName.COMPLETE_LOGIN,!0)},o.loginFail=function(){i.event.emit(i.eName.COMPLETE_LOGIN,!1)},t}(o));t._RF.pop()}}}));

System.register("chunks:///_virtual/eventUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(t){var n,e,o,a;return{setters:[function(t){n=t.inheritsLoose,e=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy},function(t){a=t.default}],execute:function(){o._RF.push({},"3824eSzDc9BrLlXoET6k435","eventUtils",void 0);t("default",function(t){function o(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this)._allEventInfo=new Map,n._allContextInfo=new Map,n}n(o,t);var a=o.prototype;return a.on=function(t,n,e){"function"==typeof n?(this._allContextInfo.has(e)||this._allContextInfo.set(e,[]),this._allContextInfo.get(e).push(t),this._allEventInfo.has(t)||this._allEventInfo.set(t,new Map),this._allEventInfo.get(t).set(e,{handler:n,context:e})):console.error("没有事件响应函数！")},a.once=function(t,n,e){var o=this;this.on(t,(function(){for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];n.call.apply(n,[e].concat(l)),o.off(t,e)}),e)},a.onByArray=function(t,n){for(var o,a=e(t);!(o=a()).done;){var l=o.value;this.on(l,n[l],n)}},a.onByArrayAndCall=function(t,n){for(var o,a=e(t);!(o=a()).done;){var l=o.value,r=n[l];this.on(l,r,n),r.call(n,!0)}},a.off=function(t,n){this._allEventInfo.has(t)||console.warn("事件已经关闭监听或从未开始监听！"),this._allEventInfo.get(t).delete(n)},a.offAll=function(t){this._allContextInfo.has(t);var n=this._allContextInfo.get(t);if(Array.isArray(n))for(var o,a=e(n);!(o=a()).done;){var l=o.value;this.off(l,t)}this._allContextInfo.delete(t)},a.emit=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),o=1;o<n;o++)e[o-1]=arguments[o];var a=this._allEventInfo.get(t);a&&a.forEach((function(t){var n;return(n=t.handler).call.apply(n,[t.context].concat(e))}))},o}(a));o._RF.pop()}}}));

System.register("chunks:///_virtual/FreeCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,o,s,n,r,h,a,p,d,_,c,l,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,h=e.Vec2,a=e.Vec3,p=e.Quat,d=e.input,_=e.Input,c=e.game,l=e.KeyCode,u=e.v2,y=e.Component}],execute:function(){var E,v,K,Y,f,S,k;n._RF.push({},"1c2cbPbALtO/bSGR8kDSftp","FreeCamera",void 0);var m=r.ccclass,D=r.property,M=new h,T=new h,P=new a,A=new p,g=new a,w=new a;e("FreeCamera",(E=D({slide:!0,range:[.05,.5,.01]}),m((Y=t((K=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,o(t,"moveSpeed",Y,s(t)),o(t,"moveSpeedShiftScale",f,s(t)),o(t,"damp",S,s(t)),o(t,"rotateSpeed",k,s(t)),t._euler=new a,t._velocity=new a,t._position=new a,t._speedScale=1,t._eulerP=new a,t.keys=[],t.moveDir=new a,t.key2dirMap=null,t}i(t,e);var n=t.prototype;return n.onEnable=function(){d.on(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this),d.on(_.EventType.TOUCH_START,this.onTouchStart,this),d.on(_.EventType.TOUCH_MOVE,this.onTouchMove,this),d.on(_.EventType.TOUCH_END,this.onTouchEnd,this),a.copy(this._euler,this.node.eulerAngles),a.copy(this._position,this.node.getPosition()),a.copy(this._eulerP,this.node.eulerAngles),d.on(_.EventType.KEY_DOWN,this.onKeyDown,this),d.on(_.EventType.KEY_UP,this.onKeyUp,this)},n.onDisable=function(){d.off(_.EventType.MOUSE_WHEEL,this.onMouseWheel,this),d.off(_.EventType.TOUCH_START,this.onTouchStart,this),d.off(_.EventType.TOUCH_MOVE,this.onTouchMove,this),d.off(_.EventType.TOUCH_END,this.onTouchEnd,this),d.off(_.EventType.KEY_DOWN,this.onKeyDown,this),d.off(_.EventType.KEY_UP,this.onKeyUp,this)},n.update=function(e){var t=Math.min(e/this.damp,1);a.transformQuat(P,this._velocity,this.node.rotation),a.scaleAndAdd(this._position,this._position,P,this.moveSpeed*this._speedScale),a.lerp(P,this.node.getPosition(),this._position,t),this.node.setPosition(P),this.moveDir.lengthSqr()&&(a.transformQuat(g,a.FORWARD,this.node.rotation),g.normalize(),a.cross(w,g,a.UP),w.normalize(),a.scaleAndAdd(this._position,this._position,g,this.moveSpeed*this._speedScale*this.moveDir.z),a.lerp(P,this.node.getPosition(),this._position,t),this.node.setPosition(P),a.scaleAndAdd(this._position,this._position,w,this.moveSpeed*this._speedScale*this.moveDir.x),a.lerp(P,this.node.getPosition(),this._position,t),this.node.setPosition(P),a.scaleAndAdd(this._position,this._position,a.UP,this.moveSpeed*this._speedScale*this.moveDir.y),a.lerp(P,this.node.getPosition(),this._position,t),this.node.setPosition(P)),p.fromEuler(A,this._eulerP.x,this._eulerP.y,this._eulerP.z),p.slerp(A,this.node.rotation,A,t),this.node.setWorldRotationFromEuler(this._eulerP.x,this._eulerP.y,this._eulerP.z)},n.onMouseWheel=function(e){var t=-e.getScrollY()*this.moveSpeed*.1;a.transformQuat(P,a.UNIT_Z,this.node.rotation),a.scaleAndAdd(this._position,this.node.position,P,t)},n.onTouchStart=function(e){c.canvas.requestPointerLock&&c.canvas.requestPointerLock()},n.onTouchMove=function(e){e.getStartLocation(M),M.x,c.canvas.width,e.getDelta(T),this._eulerP.y-=T.x*this.rotateSpeed*.1,this._eulerP.x+=T.y*this.rotateSpeed*.1},n.onTouchEnd=function(e){document.exitPointerLock&&document.exitPointerLock(),e.getStartLocation(M),M.x<.4*c.canvas.width&&(this._velocity.x=0,this._velocity.z=0)},n.onKeyDown=function(e){var t=e.keyCode;t!=l.KEY_A&&t!=l.KEY_S&&t!=l.KEY_D&&t!=l.KEY_W||-1==this.keys.indexOf(t)&&(this.keys.push(t),this.updateDirection()),t==l.KEY_Q?this.moveDir.y=-1:t==l.KEY_E&&(this.moveDir.y=1)},n.onKeyUp=function(e){var t=e.keyCode;if(t==l.KEY_A||t==l.KEY_S||t==l.KEY_D||t==l.KEY_W){var i=this.keys.indexOf(t);-1!=i&&(this.keys.splice(i,1),this.updateDirection())}t!=l.KEY_Q&&t!=l.KEY_E||(this.moveDir.y=0)},n.updateDirection=function(){null==this.key2dirMap&&(this.key2dirMap={},this.key2dirMap[0]=u(0,0),this.key2dirMap[l.KEY_A]=u(-1,0),this.key2dirMap[l.KEY_D]=u(1,0),this.key2dirMap[l.KEY_W]=u(0,1),this.key2dirMap[l.KEY_S]=u(0,-1),this.key2dirMap[1e3*l.KEY_A+l.KEY_W]=this.key2dirMap[1e3*l.KEY_W+l.KEY_A]=u(-1,1),this.key2dirMap[1e3*l.KEY_D+l.KEY_W]=this.key2dirMap[1e3*l.KEY_W+l.KEY_D]=u(1,1),this.key2dirMap[1e3*l.KEY_A+l.KEY_S]=this.key2dirMap[1e3*l.KEY_S+l.KEY_A]=u(-1,-1),this.key2dirMap[1e3*l.KEY_D+l.KEY_S]=this.key2dirMap[1e3*l.KEY_S+l.KEY_D]=u(1,-1),this.key2dirMap[1e3*l.KEY_A+l.KEY_D]=this.key2dirMap[l.KEY_D],this.key2dirMap[1e3*l.KEY_D+l.KEY_A]=this.key2dirMap[l.KEY_A],this.key2dirMap[1e3*l.KEY_W+l.KEY_S]=this.key2dirMap[l.KEY_S],this.key2dirMap[1e3*l.KEY_S+l.KEY_W]=this.key2dirMap[l.KEY_W]);var e=this.keys[this.keys.length-1]||0,t=this.keys[this.keys.length-2]||0,i=this.key2dirMap[1e3*t+e];this.moveDir.x=i.x,this.moveDir.z=i.y},t}(y)).prototype,"moveSpeed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=t(K.prototype,"moveSpeedShiftScale",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),S=t(K.prototype,"damp",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),k=t(K.prototype,"rotateSpeed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=K))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/gameEnum.ts",["cc"],(function(e){var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"d0b506LzS1CXKneBMs6Ihci","gameEnum",void 0);var n=function(e){return e.NONE="None",e.TOAST_VIEW="TOAST_VIEW",e.HomeScene="HomeScene",e.DemoView="DemoView",e.TestView="TestView",e.StartView="StartView",e.GameResView="GameResView",e}(n||{}),t=function(e){return e[e.PrizeView=1]="PrizeView",e[e.PrizeInfoView=1]="PrizeInfoView",e}(t||{}),r=function(e){return e[e.NORMAL=1]="NORMAL",e[e.BG_SCALE=2]="BG_SCALE",e[e.WIDGET_BUTTOM_SHOW=3]="WIDGET_BUTTOM_SHOW",e[e.WIDGET_LEFT_SHOW=4]="WIDGET_LEFT_SHOW",e[e.BG_SCALE1=5]="BG_SCALE1",e[e.FADE_OUT=6]="FADE_OUT",e}(r||{}),E=function(e){return e.SCENE_LAYER="sceneLayer",e.WINDOW_LAYER="windowLayer",e.TOP_LAYER="topLayer",e.EFFECT_LAYER="effectLayer",e}(E||{}),_=e("default",(function(){}));_.view=n,_.isRemoteView=t,_.layer=E,_.viewEffect=r,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameResView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./BaseView.ts","./Common.ts"],(function(e){var t,i,n,r,a,o,l,c,s,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Node,c=e.Label},function(e){s=e.default},function(e){u=e.default},function(e){p=e.default}],execute:function(){var m,b,f,h,g,w,v,y,d;a._RF.push({},"7372dTFOzJKrZ54k6LwT9s5","GameResView",void 0);var k=o.ccclass,_=o.property;e("GameResView",(m=k("GameResView"),b=_(l),f=_(l),h=_(c),m((v=t((w=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"btnAgain",v,r(t)),n(t,"btnHome",y,r(t)),n(t,"lblCoin",d,r(t)),t.clicktime=0,t}i(t,e);var a=t.prototype;return a.show=function(){var t;this.arr_btn=[this.btnAgain,this.btnHome],this.arr_event=[];for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];(t=e.prototype.show).call.apply(t,[this].concat(n)),this.lblCoin.string=n[2]},a.click=function(e){var t=(new Date).getTime();if(!(t-this.clicktime<p.clickWaitTime))switch(this.clicktime=t,e.target){case this.btnHome:s.event.emit(s.eName.event_gameInit),this.closeView();break;case this.btnAgain:s.event.emit(s.eName.event_gameAgain),this.closeView()}},t}(u)).prototype,"btnAgain",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(w.prototype,"btnHome",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(w.prototype,"lblCoin",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/GirlModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./Common.ts"],(function(e){var n,t,i,r,o,a,l,s,u,c,p,m,d,f,g,h,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.SkeletalAnimation,c=e.Node,p=e.Camera,m=e.CapsuleCollider,d=e.tween,f=e.v3,g=e.Component},function(e){h=e.default},function(e){y=e.default}],execute:function(){var b,v,C,w,A,x,z,B,E,F,M,S,G;l._RF.push({},"7761anXtWBNqIO5ztMrHRfJ","GirlModel",void 0);var P=s.ccclass,R=s.property;e("GirlModel",(b=P("GirlModel"),v=R(u),C=R(c),w=R(p),A=R(p),x=R(p),b((E=n((B=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"anim",E,r(n)),i(n,"nodeFbx",F,r(n)),i(n,"mainCamera",M,r(n)),i(n,"cameraBegin",S,r(n)),i(n,"cameraEnd",G,r(n)),n}t(n,e);var l=n.prototype;return l.playAnim=function(e){this.anim.play(e)},l.start=function(){console.log("start"),this.node.getComponent(m).on("onTriggerStay",this.onTriggerStay,this)},l.onTriggerStay=function(e){e.type,e.selfCollider;var n=e.otherCollider;h.pool.setNode(n.node),y.coin++,h.event.emit(h.eName.event_updateRunViewUI)},l.run=function(e){void 0===e&&(e=1),this.anim.play("run"),this.anim.getState("run").speed=e},l.stand=function(){this.anim.play("idle01")},l.win=function(){this.anim.play("jump02"),d(this.nodeFbx).to(.2,{eulerAngles:f(0,180,0)}).start();var e=this.cameraEnd.node.worldPosition,n=this.cameraEnd.node.eulerAngles;d(this.mainCamera.node).to(.7,{worldPosition:e}).start();var t=this.mainCamera.node.eulerAngles,i=n;this.autoEulerAngles(t,i,.7)},l.init=function(){this.mainCamera.node.position=this.cameraBegin.node.position,this.mainCamera.node.eulerAngles=this.cameraBegin.node.eulerAngles,this.nodeFbx.eulerAngles=f(0,0,0),this.node.setPosition(0,0,20),this.node.eulerAngles=f(0,0,0)},l.autoEulerAngles=function(){var e=o(a().mark((function e(n,t,i){var r,o,l,s=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.x,o=t.x,l=f(r,180,0),d({x:r}).to(i,{x:o},{progress:function(e,n,t,i){var r=e,o=n-r;return l.x=o*i+r,s.mainCamera.node.eulerAngles=l,0}}).start();case 7:case"end":return e.stop()}}),e)})));return function(n,t,i){return e.apply(this,arguments)}}(),l.test=function(){console.log(this.anim.clips[0].speed)},n}(g)).prototype,"anim",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(B.prototype,"nodeFbx",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(B.prototype,"mainCamera",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(B.prototype,"cameraBegin",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(B.prototype,"cameraEnd",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=B))||z));l._RF.pop()}}}));

System.register("chunks:///_virtual/HomeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListItem.ts"],(function(e){var t,n,i,r,l,o,a,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,a=e.Label},function(e){u=e.default}],execute:function(){var c,s,p,m,f,b,d;l._RF.push({},"622f1tb57BB4ISMWCChBRsq","HomeItem",void 0);var h=o.ccclass,I=o.property;e("HomeItem",(c=h("HomeItem"),s=I(a),p=I(a),c((b=t((f=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,i(t,"lblName",b,r(t)),i(t,"lblIndex",d,r(t)),t}return n(t,e),t.prototype.updateItem=function(){this.lblName.string=this.data.name,this.lblIndex.string=this.data.index.toString()},t}(u)).prototype,"lblName",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(f.prototype,"lblIndex",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=f))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/HomeScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./BaseView.ts","./gameEnum.ts","./List.ts","./T_Demo.ts"],(function(e){var t,n,a,i,r,o,s,l,c,h,u,m,p,f,g,b,d,_,v,w,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,l=e.Sprite,c=e.Camera,h=e.Input,u=e.input,m=e.RenderTexture,p=e.view,f=e.UITransform,g=e.gfx,b=e.director},function(e){d=e.default},function(e){_=e.default},function(e){v=e.default},function(e){w=e.default},function(e){y=e.T_Demo}],execute:function(){var x,T,C,S,V,z,H,M,D,E,O,I,B,L,U,k,N,R,F,j,A;r._RF.push({},"1268eIT2dFM15onuPVc9woC","HomeScene",void 0);var G=o.ccclass,P=o.property;e("HomeScene",(x=G("HomeScene"),T=P(y),C=P(s),S=P(s),V=P(w),z=P(w),H=P(w),M=P(s),D=P(l),E=P(c),x((B=t((I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"role",B,i(t)),a(t,"btn_1",L,i(t)),a(t,"btn_2",U,i(t)),a(t,"listV",k,i(t)),a(t,"listH",N,i(t)),a(t,"listG",R,i(t)),t._start_x=0,a(t,"targetNode",F,i(t)),a(t,"targetSprite",j,i(t)),a(t,"copyCamera",A,i(t)),t._canvas=null,t._buffer=null,t.renderTex=null,t}n(t,e);var r=t.prototype;return r.start=function(){window.hhh=this,window.app=d,this.show(v.view.HomeScene)},r.show=function(){var t;this.arr_btn=[this.btn_1,this.btn_2];for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];(t=e.prototype.show).call.apply(t,[this].concat(a));for(var r=[{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"}],o=0;o<r.length;o++)r[o].index=o;this.listV.refreshData(r),this.listH.refreshData(r),this.listG.refreshData(r)},r.click=function(e){switch(e.type){case h.EventType.TOUCH_START:this._start_x=e.getLocationInView().x,u.on(h.EventType.TOUCH_MOVE,this.click,this);break;case h.EventType.TOUCH_MOVE:var t=e.getLocationInView().x-this._start_x;Math.abs(t)>40&&(u.off(h.EventType.TOUCH_MOVE,this.click,this),t>0?(this.role._path--,this.role._path=Math.max(this.role._path,-1)):(this.role._path++,this.role._path=Math.min(this.role._path,1)))}switch(e.target){case this.btn_1:this.capture();break;case this.btn_2:d.eventObj.toast("asdasdasdasd"),d.eventObj.openView(v.view.TestView)}},r.onLoad=function(){this.renderTex=new m;var e=Math.floor(p.getVisibleSize().width),t=Math.floor(p.getVisibleSize().height);this.renderTex.reset({width:e,height:t}),this.copyCamera.targetTexture=this.renderTex},r.capture=function(){var e=this.targetNode.getComponent(f).width,t=this.targetNode.getComponent(f).height,n=this.targetNode.getWorldPosition(),a=[];a[0]=new Uint8Array(e*t*4);var i=new g.BufferTextureCopy;i.texOffset.x=Math.round(n.x),i.texOffset.y=Math.round(n.y),i.texExtent.width=e,i.texExtent.height=t,b.root.device.copyTextureToBuffers(this.renderTex.getGFXTexture(),a,[i]),this._buffer=a[0],this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=e,this._canvas.height=t);for(var r=this._canvas.getContext("2d"),o=4*e,s=0;s<t;s++){for(var l=t-1-s,c=r.createImageData(e,1),h=l*e*4,u=0;u<o;u++)c.data[u]=this._buffer[h+u];r.putImageData(c,0,s)}var m=this._canvas.toDataURL("image/jpeg",.1);this.showBase64(m)},r.showBase64=function(e){d.img.setBase64ToSpriteFrame1(this.targetSprite,e)},r.clearCanvas=function(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height)},t}(_)).prototype,"role",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"btn_1",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(I.prototype,"btn_2",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(I.prototype,"listV",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(I.prototype,"listH",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(I.prototype,"listG",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(I.prototype,"targetNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(I.prototype,"targetSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(I.prototype,"copyCamera",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=I))||O));r._RF.pop()}}}));

System.register("chunks:///_virtual/httpUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./singtonClass.ts"],(function(e){var t,n,r,s,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.js},function(e){s=e.default},function(e){o=e.default}],execute:function(){n._RF.push({},"21ffdcTuCVNIJEQ8TfKnjcV","httpUtils",void 0);var u=e("eHttpCode",function(e){return e[e.Invalid=-1]="Invalid",e[e.Success=0]="Success",e[e.Timeout=1]="Timeout",e[e.Error=2]="Error",e}({})),a=e("CRequest",function(){function e(){}return e.prototype.sendRequest=function(e,t,n,r,s,o){var a=new XMLHttpRequest;a.responseType="text";var i=function(){a.onreadystatechange=null,a.ontimeout=null,a.onerror=null,a.onabort=null};if(a.onreadystatechange=function(){if(4===a.readyState&&a.status>=200&&a.status<400){var e=u.Success,t=null,n=a.responseText;try{t=JSON.parse(n)}catch(n){e=u.Error,t={}}r&&s&&r.apply(s,[t,e]),i()}},a.ontimeout=function(){r&&s&&r.apply(s,[null,u.Timeout]),i()},a.onerror=function(){r&&s&&r.apply(s,[null,u.Error]),i()},a.onabort=function(){i()},a.open(e,t,!0),a.timeout=5e3,o)for(var c=0,l=Object.keys(o);c<l.length;c++){var f=l[c];a.setRequestHeader(f,o[f])}var p=document.getElementsByTagName("meta")["csrf-token"],d=document.getElementsByTagName("meta").Authorization;a.withCredentials=!0,a.xsrfCookieName="XSRF-TOKEN",a.xsrfHeaderName="X-XSRF-TOKEN",a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("X-CSRF-TOKEN",p?p.content:""),a.setRequestHeader("Authorization","Bearer "+(d?d.content:"")),a.setRequestHeader("Content-Type","application/json"),a.send(n)},e}());e("default",function(e){function n(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).map_request=new Map,t}t(n,e);var o=n.prototype;return o.request=function(e,t,n,r,s,o){(new a).sendRequest(e,t,n,r,s,o)},o.get=function(e,t,n,r,s){if(t){-1==e.indexOf("?")&&(e+="?");for(var o="",u=Object.keys(t),a=0;a<u.length;++a)o+="&"+u[a]+"="+t[u[a]];e+=encodeURI(o)}this.request("GET",e,null,n,r,s)},o.post=function(e,t,n,r,s){this.request("POST",e,t,n,r,s)},o.asyncGet=function(e,t,n){var r=this;return new Promise((function(o,u){t&&(-1==e.indexOf("?")&&(e+="?"),e+=s.common.paramObjToString(t)),r.request("GET",e,null,(function(e,t){o({resp:e,code:t})}),r,n)}))},o.asyncPost=function(e,t,n){var r=this;return t=JSON.stringify(t),new Promise((function(s,o){r.request("POST",encodeURI(e),t,(function(e,t){s({resp:e,code:t})}),r,n)}))},o.getXHR=function(e){var t=r.getClassName(e);if(0==this.map_request.has(t)){var n=new e;this.map_request.set(t,n)}return this.map_request.get(t)},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/imgUrils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(e){var t,r,n,a,o,u,i,s;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e.Texture2D,u=e.SpriteFrame,i=e.ImageAsset},function(e){s=e.default}],execute:function(){a._RF.push({},"59670iTeeJPg72ZCKirU3Y1","imgUrils",void 0);e("default",function(e){function a(){return e.apply(this,arguments)||this}t(a,e);var s=a.prototype;return s.setBase64=function(e,t){e&&(e.spriteFrame=this.base64ToSpriteFrame(t))},s.base64ToSpriteFrame=function(e){var t=new Image;t.src=e;var r=new o;r.uploadData(t);var n=new u;return n.texture=r,n},s.setBase64ToSpriteFrame1=function(e,t){var r=new Image;r.src=t,r.onload=function(){var t=new o;t.image=new i(r);var n=new u;n.texture=t,e.spriteFrame=n}},s.ShapeTouch=function(){var e=r(n().mark((function e(t,r,a){var o,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return new Promise((function(e,n){var o=new Image;o.onload=function(){var t=document.createElement("canvas").getContext("2d");t.drawImage(o,0,0);var n=t.getImageData(r,o.height-a,1,1).data[3];e({touch:n>0,alpha:n})},o.onerror=function(){e({touch:!1,alpha:0})},o.src=t}))},e.next=3,o();case 3:return u=e.sent,e.abrupt("return",u);case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),a}(s));a._RF.pop()}}}));

System.register("chunks:///_virtual/InterfaceUrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"7d470xO0CpEHI94JaVdchaI","InterfaceUrl",void 0);var i=t("default",function(){function t(){}return t.getUrl=function(t){return this.url+t+this.pid+this.sn},e(t,null,[{key:"url",get:function(){return 1==location.origin.includes("localhost")||1==location.origin.includes("192.168.2.33")?"https://hddev.kerlala.com":location.origin}},{key:"config",get:function(){var t={pid:"/70",sn:"/AZGyg6P9"},e=window.dmspConf;return e&&(t={pid:"/"+e.pid,sn:"/"+e.sn}),t}},{key:"pid",get:function(){return this.config.pid}},{key:"sn",get:function(){return this.config.sn}}]),t}());i.debug=!0,i.socketUrl="ws://xxx",i.getActivityInfo="/Common/activity/getActivityInfo",i.getUserInfo="/Common/activity/getUserInfo",i.getAdvertList="/Common/activity/getAdvertList",i.getUserExtInfo="/Component/draw/getUserExtInfo",i.commonDrawPrize="/Component/draw/commonDrawPrize",i.getPrizeList="/Component/draw/getPrizeList",i.getMyWinList="/Component/draw/getMyWinList",i.getWinInfo="/Component/draw/getWinInfo",i.getIndexData="/activity/dunk/getindexdata",i.apiNewGame="/activity/dunk/newgame",i.apiEndGame="/activity/dunk/endgame",i.getGameRecordList="/activity/dunk/gamerecord",i.activityInviteList="/activity/dunk/invite",i.advertApiGetMultAdvert="/advertApi/getMultAdvert",n._RF.pop()}}}));

System.register("chunks:///_virtual/Joystick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,o,r,s,a,c,u,h,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,c=t.UITransform,u=t.Vec3,h=t.Input,l=t.Component}],execute:function(){var p,y,v,f,d,g,T,b,C,D,m;r._RF.push({},"169ccjdkw1NuLcEHFIL9qvl","Joystick",void 0);var I=s.ccclass,w=s.property;t("Joystick",(p=I("Joystick"),y=w(a),v=w(a),p((g=i((d=function(t){function i(){for(var i,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,e(i,"round",g,o(i)),e(i,"inner",T,o(i)),e(i,"isStatic",b,o(i)),e(i,"isDiretion",C,o(i)),e(i,"maxRadius",D,o(i)),e(i,"activeRange",m,o(i)),i.joystickCB=null,i.touchID=-1,i}n(i,t);var r=i.prototype;return r.onLoad=function(){this.show(this.isStatic),this.isStatic&&(this.round.on(a.EventType.TOUCH_START,this.touchStart,this),this.round.on(a.EventType.TOUCH_MOVE,this.touchMove,this),this.round.on(a.EventType.TOUCH_END,this.touchEnd,this),this.round.on(a.EventType.TOUCH_CANCEL,this.touchEnd,this))},r.init=function(t){this.joystickCB=t},r.show=function(t){this.round.active=t},r.innerPosition=function(t){var i={type:null,active:!0,angle:0,ratio:0},n=this.round.getComponent(c).convertToNodeSpaceAR(new u(t.x,t.y));return n.z=0,n.length()<=this.maxRadius*this.activeRange?(this.inner.position=new u,i.active=!1,i):((n.length()>this.maxRadius||this.isDiretion)&&(n=(n=n.normalize()).multiplyScalar(this.maxRadius)),this.inner.position=new u(n),i.active=!0,i.angle=Math.atan2(n.y,n.x),i.ratio=n.length()/this.maxRadius,i)},r.touchStart=function(t){if(-1==this.touchID&&(this.touchID=t.getID(),!this.isStatic)){this.show(!0);var i=t.getUILocation();this.node.setWorldPosition(new u(i.x,i.y,0))}if(this.touchID!=t.getID())return!1;var n=this.innerPosition(t.getUILocation());return n.type=h.EventType.TOUCH_START,this.joystickCB&&this.joystickCB(n),!0},r.touchMove=function(t){if(this.touchID!=t.getID())return!1;var i=this.innerPosition(t.getUILocation());return i.type=h.EventType.TOUCH_MOVE,this.joystickCB&&this.joystickCB(i),!0},r.touchEnd=function(t){if(this.touchID!=t.getID())return!1;this.touchID=-1,this.show(this.isStatic),this.inner.position=new u;var i={type:h.EventType.TOUCH_END,active:!1,angle:0,ratio:0};return this.joystickCB&&this.joystickCB(i),!0},i}(l)).prototype,"round",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(d.prototype,"inner",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=i(d.prototype,"isStatic",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),C=i(d.prototype,"isDiretion",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=i(d.prototype,"maxRadius",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 128}}),m=i(d.prototype,"activeRange",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),f=d))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/jsUrils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(e){var n,t,r,i;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){r=e.cclegacy},function(e){i=e.default}],execute:function(){r._RF.push({},"afbeeBaXjdP8JC+nvxi1uU+","jsUrils",void 0);e("default",function(e){function r(){return e.apply(this,arguments)||this}n(r,e);var i=r.prototype;return i.shuffle=function(e){for(var n=[].concat(e),t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),i=n[r];n[r]=n[t],n[t]=i}return n},i.paramObjToString=function(e){var n="",t=[];if(e){for(var r in e)t.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));n=t.join("&")}return n},i.copyProp=function(e,n){for(var t in n)"function"!=typeof n[t]&&(e[t]=n[t]);return e},i.copyToClipBoard=function(e){void 0===e&&(e="文本内容");var n=e,t=document.createElement("textarea");t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";var r=getSelection(),i=null,o=!1;r.rangeCount>0&&(i=r.getRangeAt(0),o=!0),document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;var a=!1;try{a=document.execCommand("copy")}catch(e){}return document.body.removeChild(t),o&&(r.removeAllRanges(),r.addRange(i)),a},i.htmlToBBCode=function(e){if(!e)return"";e=e.replace(/\n/g,"<br/>");var n=(new HTML2BBCode).feed(e).s,t=(n=n.replace(/\[/g,"<").replace(/\]/g,">")).match(/<.*?>/g);return n=n.replace(/<\/url>/g,"</on>"),t&&t.forEach((function(e){if(1==e.includes("url=")){var t=e.split("url=")[1].slice(0,-1);n=n.replace(e,'<on click="handler" param="'+t+'"">')}})),n},t(r,[{key:"isAndroid",get:function(){var e=navigator.userAgent,n=e.indexOf("Android")>-1||e.indexOf("Adr")>-1;e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return n}},{key:"isiOS",get:function(){var e=navigator.userAgent;e.indexOf("Android")>-1||e.indexOf("Adr");return!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}},{key:"isWx",get:function(){return!(-1==navigator.userAgent.toLowerCase().indexOf("micromessenger"))}},{key:"userAgent",get:function(){return navigator.userAgent}},{key:"uaVer",get:function(){var e=navigator.userAgent,n="Win32"==navigator.platform||"Windows"==navigator.platform,t="Mac68K"==navigator.platform||"MacPPC"==navigator.platform||"Macintosh"==navigator.platform||"MacIntel"==navigator.platform;if(t)return"Mac";if("X11"==navigator.platform&&!n&&!t)return"Unix";if(String(navigator.platform).indexOf("Linux")>-1)return"Linux";if(n){if(e.indexOf("Windows NT 5.0")>-1||e.indexOf("Windows 2000")>-1)return"Win2000";if(e.indexOf("Windows NT 5.1")>-1||e.indexOf("Windows XP")>-1)return"WinXP";if(e.indexOf("Windows NT 5.2")>-1||e.indexOf("Windows 2003")>-1)return"Win2003";if(e.indexOf("Windows NT 6.0")>-1||e.indexOf("Windows Vista")>-1)return"WinVista";if(e.indexOf("Windows NT 6.1")>-1||e.indexOf("Windows 7")>-1)return"Win7";if(e.indexOf("Windows NT 10")>-1||e.indexOf("Windows 10")>-1)return"Win10"}return"other"}},{key:"netType",get:function(){var e,n=navigator.userAgent,t=n.match(/NetType\/\w+/)?n.match(/NetType\/\w+/)[0]:"NetType/other";switch(t=t.toLowerCase().replace("nettype/","")){case"wifi":e="wifi";break;case"4g":e="4g";break;case"3g":case"3gnet":e="3g";break;case"2g":e="2g";break;default:e="other"}return e}},{key:"screen",get:function(){return window.screen.width+" x "+window.screen.height}},{key:"model",get:function(){var e=navigator.userAgent;console.log(e);var n=new MobileDetect(e),t=n.os();console.log(t),console.log(n.mobile());var r="";if("iOS"==t)t=n.os()+n.version("iPhone"),r=n.mobile();else if("AndroidOS"==t){for(var i,o=e.split(";"),a=0;a<o.length;a++)if(o[a].indexOf("Build/")>0){i=a;break}i>-1&&(r=o[i].substring(0,o[i].indexOf("Build/")))}return r}}]),r}(i));r._RF.pop()}}}));

System.register("chunks:///_virtual/Kdtree.ts",["cc","./Math.ts"],(function(t){var i,s;return{setters:[function(t){i=t.cclegacy},function(t){s=t.RaycastAABB}],execute:function(){i._RF.push({},"e43d3K0tY1A4L3w+emoHja1","Kdtree",void 0);t("Kdtree",function(){function t(t,i,s,r,e,n){void 0===n&&(n=272),this.l=0,this.r=0,this.left=null,this.right=null,this.isLeaf=!1,this.objects=[],this.axis=0,this.middle=0,this.bound=null,this.bounds=[],this.object_level=272,this.l=i,this.r=s,this.bound=r,this.objects=t,this.object_level=n,!(s-i+1<=n>>8)&&255&n?(this.axis=e%3,this.split(i,s)):this.isLeaf=!0}var i=t.prototype;return i.split=function(i,s){var r=this.axis,e=this.bounds,n=this.object_level,o=this.getSide(i,s,r),h=this.findMid(i,s,o);this.middle=h.bound[o];var u=this.partion(i,s,this.middle,o);this.right=new t(this.objects,u,s,e[0],r+1,n-1),this.left=new t(this.objects,i,u-1,e[1],r+1,n-1)},i.getSide=function(t,i,s){for(var r=this.objects,e=0,n=0,o=this.bound[s],h=this.bound[s+3],u=t;u<=i;u++){var l=r[u].bound,a=l[s]-o,f=l[s+3]-h;e+=a*a,n+=f*f}return e>=n?s:s+3},i.partion=function(t,i,s,r){for(var e=t,n=i,o=this.objects;e<=n;e++){var h=o[e];h.bound[r]>=s&&(o[e]=o[n],o[n]=h,n--,e--)}var u=e;e>=i?u=i:e==t&&(u=e+1);var l=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,f=this.bounds[0]=[a,a,a,l,l,l],d=this.bounds[1]=[a,a,a,l,l,l];for(e=t;e<=i;e++){var c=o[e].bound;e<u?(d[0]>c[0]&&(d[0]=c[0]),d[1]>c[1]&&(d[1]=c[1]),d[2]>c[2]&&(d[2]=c[2]),d[3]<c[3]&&(d[3]=c[3]),d[4]<c[4]&&(d[4]=c[4]),d[5]<c[5]&&(d[5]=c[5])):(f[0]>c[0]&&(f[0]=c[0]),f[1]>c[1]&&(f[1]=c[1]),f[2]>c[2]&&(f[2]=c[2]),f[3]<c[3]&&(f[3]=c[3]),f[4]<c[4]&&(f[4]=c[4]),f[5]<c[5]&&(f[5]=c[5]))}return u},i.insertSort=function(t,i,s){for(var r=this.objects,e=t+1;e<=i;e++){for(var n=r[e],o=e,h=n.bound[s];o>t&&r[o-1].bound[s]>h;)r[o]=r[o-1],o--;o!=e&&(r[o]=n)}},i.findMid=function(t,i,s){var r=this.objects;if(t==i)return r[t];var e=0,n=0;for(e=t;e<i-5;e+=5){this.insertSort(e,e+4,s);var o=~~((n=e-t)/5),h=r[t+o];r[t+o]=r[e+2],r[e+2]=h}var u=i-e+1;if(u>0){this.insertSort(e,e+u-1,s);var l=~~((n=e-t)/5),a=~~(u/2),f=r[t+l];r[t+l]=r[e+a],r[e+a]=f}return(n=~~(n/5))==t?r[t]:this.findMid(t,t+n,s)},i.retrieve=function(t,i){for(var s=0,r=t,e=this.objects,n=[this];s>=0;){var o=n[s--],h=o.axis,u=o.bounds;if(o.isLeaf)for(var l=o.l,a=o.r,f=l;f<=a;f++){var d=e[f],c=d.bound;c[0]>r[3]||r[0]>c[3]||c[1]>r[4]||r[1]>c[4]||c[2]>r[5]||r[2]>c[5]||i.push(d)}else r[h+3]<u[1][h]||r[h]>u[1][h+3]||(n[++s]=o.left),r[h+3]<u[0][h]||r[h]>u[0][h+3]||(n[++s]=o.right)}},i.rayCast=function(t,i){for(var r=t[6],e=[t[0],t[1],t[2]],n=[t[3],t[4],t[5]],o=0,h=s,u=this.objects,l=[this];o>=0;){var a=l[o--],f=a.bound;if(a.isLeaf)for(var d=a.l,c=a.r,b=d;b<=c;b++){var v=u[b],j=h(e,n,v.bound,r);null!=j&&(v.rayDist=j,(j=i(v))<r&&(r=j))}else{var g=1,p=1;if(e[a.axis]<=a.middle?g=2:p=2,e[0]<f[0]||e[0]>f[3]||e[1]<f[1]||e[1]>f[4]||e[2]<f[2]||e[2]>f[5]){var I=h(e,n,f,r);null!=I&&I>=0&&(l[o+p]=a.right,l[o+g]=a.left,o+=2)}else l[o+p]=a.right,l[o+g]=a.left,o+=2}}},i.clear=function(){this.left&&this.left.clear(),this.right&&this.right.clear(),this.left=null,this.right=null,this.bound=null,this.bounds=null,this.objects=null},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/List.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ListItem.ts"],(function(t){var i,e,s,n,o,r,h,a,c,l,d,m,u,f,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,h=t.Enum,a=t.Node,c=t.Prefab,l=t.UITransform,d=t.Layout,m=t.Vec2,u=t.instantiate,f=t.ScrollView},function(t){p=t.default}],execute:function(){var L,y,g,v,C,T,R,I;o._RF.push({},"e14a3McnAxLC6SPk1gCF0Hv","List",void 0);var b=r.ccclass,P=r.property,A=function(t){return t[t.PREFAB=2]="PREFAB",t[t.NODE=1]="NODE",t}(A||{});t("default",(L=P({type:h(A),displayName:"模板类型"}),y=P({type:a,displayName:"模板Item",visible:function(){return this.templateType==A.NODE}}),g=P({type:c,displayName:"模板Item",visible:function(){return this.templateType==A.PREFAB}}),b((T=i((C=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this).itemRenderer=null,s(i,"templateType",T,n(i)),s(i,"itemRendererNode",R,n(i)),s(i,"itemRendererPrefab",I,n(i)),i.callback=void 0,i.itemTarget=void 0,i.verticalCount=void 0,i.horizontalCount=void 0,i.itemW=void 0,i.itemH=void 0,i.interval=void 0,i.itemPool=void 0,i.itemList=void 0,i.itemRendererList=void 0,i.dataList=void 0,i.startPos=void 0,i.contentLayout=void 0,i.contentUITransform=void 0,i.forcedRefresh=void 0,i.refresh=void 0,i._uiTransform=void 0,i}e(i,t);var o=i.prototype;return o.onLoad=function(){switch(this.itemRenderer=this.templateType==A.NODE?this.itemRendererNode:this.itemRendererPrefab,this.contentUITransform=this.content.getComponent(l),this.content.removeAllChildren(),this.itemList=[],this.itemPool=[],this.itemRendererList=[],this.contentLayout=this.content.getComponent(d),this.contentLayout.enabled=!1,this._uiTransform=this.node.getComponent(l),this.contentLayout.type){case d.Type.HORIZONTAL:this.contentUITransform.anchorX=0,this.contentUITransform.anchorY=.5;break;case d.Type.VERTICAL:this.contentUITransform.anchorX=.5,this.contentUITransform.anchorY=1;break;case d.Type.GRID:this.contentUITransform.anchorX=0,this.contentUITransform.anchorY=1}var t=(this.templateType==A.NODE?this.itemRendererNode:this.itemRendererPrefab.data).getComponent(l);this.startPos=new m(t.width*t.anchorX+this.contentLayout.paddingLeft,-(t.height*t.anchorY+this.contentLayout.paddingTop)),this.itemW=t.width+this.contentLayout.spacingX,this.itemH=t.height+this.contentLayout.spacingY,this.horizontalCount=Math.ceil(this._uiTransform.width/this.itemW)+2,this.verticalCount=Math.ceil(this._uiTransform.height/this.itemH)+2,this.contentLayout.type==d.Type.GRID&&(this.contentLayout.startAxis==d.AxisDirection.HORIZONTAL?this.horizontalCount=Math.floor(this._uiTransform.width/this.itemW):this.verticalCount=Math.floor(this._uiTransform.height/this.itemH))},o.onDestroy=function(){this.dataList=null,this.itemList=null,this.itemRendererList=null,clearInterval(this.interval)},o._setContentPosition=function(i){t.prototype._setContentPosition.call(this,i),this.refresh=!0},o.setTouchItemCallback=function(t,i){this.callback=t,this.itemTarget=i},o.onItemTap=function(t){this.callback&&this.callback.call(this.itemTarget,t)},o.refreshData=function(t){Array.isArray(t)?this.dataList=t:this.dataList=[t],this.interval&&clearInterval(this.interval),this.addItem(),this.refreshContentSize(),this.forcedRefresh=!0,this.refresh=!0,this.interval=setInterval(this.refreshItem.bind(this),100)},o.addItem=function(){var t=0;switch(this.contentLayout.type){case d.Type.HORIZONTAL:t=this.horizontalCount;break;case d.Type.VERTICAL:t=this.verticalCount;break;case d.Type.GRID:t=this.horizontalCount*this.verticalCount}t=Math.min(t,this.dataList.length);var i=this.itemList.length;if(i<t)for(var e=null,s=i;s<t;s++){var n=this.itemPool.length>0?this.itemPool.shift():u(this.itemRenderer);this.content.addChild(n),this.itemList.push(n),e=n.getComponent(p),this.itemRendererList.push(e),e.isClick&&e.setTouchCallback(this.onItemTap,this)}else for(var o,r=this.content.children.length;r>t;)o=this.itemList[r-1],this.content.removeChild(o),this.itemList.splice(r-1,1),this.itemRendererList.splice(r-1,1),this.itemPool.push(o),r=this.content.children.length},o.refreshContentSize=function(){var t=this.contentLayout,i=this.dataList.length;switch(this.contentLayout.type){case d.Type.VERTICAL:this.content.getComponent(l).height=t.paddingTop+i*this.itemH+t.paddingBottom;break;case d.Type.HORIZONTAL:this.content.getComponent(l).width=t.paddingLeft+i*this.itemW+t.paddingRight;break;case d.Type.GRID:this.contentLayout.startAxis==d.AxisDirection.HORIZONTAL?this.content.getComponent(l).height=t.paddingTop+Math.ceil(i/this.horizontalCount)*this.itemH+t.paddingBottom:this.contentLayout.startAxis==d.AxisDirection.VERTICAL&&(this.content.getComponent(l).width=t.paddingLeft+Math.ceil(i/this.verticalCount)*this.itemW+t.paddingRight)}},o.refreshItem=function(){if(this.refresh){switch(this.contentLayout.type){case d.Type.HORIZONTAL:this.refreshHorizontal();break;case d.Type.VERTICAL:this.refreshVertical();break;case d.Type.GRID:this.refreshGrid()}this.refresh=!1,this.forcedRefresh=!1}},o.refreshHorizontal=function(){var t=Math.floor(Math.abs(this.getContentPosition().x)/this.itemW);(t<0||this.getContentPosition().x>0)&&(t=0);var i=t+this.horizontalCount;i>this.dataList.length&&(i=this.dataList.length,t=Math.max(i-this.horizontalCount,0));for(var e,s,n,o=0,r=this.itemList.length,h=0;h<r;h++)n=(t+h)%r,s=(e=this.itemList[n]).getPosition(),o=this.startPos.x+(t+h)*this.itemW,(s.x!=o||this.forcedRefresh)&&(s.x=o,e.position=s,this.itemRendererList[n].data=this.dataList[t+h])},o.refreshVertical=function(){var t=Math.floor(Math.abs(this.getContentPosition().y)/this.itemH);(t<0||this.getContentPosition().y<0)&&(t=0);var i=t+this.verticalCount;i>this.dataList.length&&(i=this.dataList.length,t=Math.max(i-this.verticalCount,0));for(var e,s,n,o=0,r=this.itemList.length,h=0;h<r;h++)n=(t+h)%r,s=(e=this.itemList[n]).getPosition(),o=this.startPos.y+-(t+h)*this.itemH,(s.y!=o||this.forcedRefresh)&&(s.y=o,e.position=s,this.itemRendererList[n].data=this.dataList[t+h])},o.refreshGrid=function(){var t=this.contentLayout.startAxis==d.AxisDirection.VERTICAL,i=Math.floor(Math.abs(this.getContentPosition().y)/this.itemH)*this.horizontalCount;t?(i=Math.floor(Math.abs(this.getContentPosition().x)/this.itemW)*this.verticalCount,this.getContentPosition().x>0&&(i=0)):this.getContentPosition().y<0&&(i=0),i<0&&(i=0);var e=i+this.horizontalCount*this.verticalCount;e>this.dataList.length&&(e=this.dataList.length,i=Math.max(e-this.horizontalCount*this.verticalCount,0));for(var s,n,o,r=0,h=0,a=this.itemList.length,c=0;c<a;c++)o=(i+c)%a,n=(s=this.itemList[o]).getPosition(),t?(r=this.startPos.x+Math.floor((i+c)/this.verticalCount)*this.itemW,h=this.startPos.y+-(i+c)%this.verticalCount*this.itemH):(r=this.startPos.x+(i+c)%this.horizontalCount*this.itemW,h=this.startPos.y+-Math.floor((i+c)/this.horizontalCount)*this.itemH),(n.y!=h||n.x!=r||this.forcedRefresh)&&(n.x=r,n.y=h,s.position=n,this.itemRendererList[o].data=this.dataList[i+c])},i}(f)).prototype,"templateType",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return A.NODE}}),R=i(C.prototype,"itemRendererNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(C.prototype,"itemRendererPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/ListItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,a,n,c,o,s,r,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized,c=t.createClass},function(t){o=t.cclegacy,s=t._decorator,r=t.Node,l=t.Component}],execute:function(){var u,h,d,p,f;o._RF.push({},"f27bbdzACxKgqcAB7J4H8Xy","ListItem",void 0);var y=s.ccclass,k=s.property;t("default",(u=y("ListItem"),h=k({displayName:"是否添加点击事件"}),u((f=e((p=function(t){function e(){for(var e,i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return e=t.call.apply(t,[this].concat(c))||this,a(e,"isClick",f,n(e)),e.callback=void 0,e.target=void 0,e._data=void 0,e}i(e,t);var o=e.prototype;return o.updateItem=function(){},o.refreshData=function(){this.updateItem()},o.onDestroy=function(){this._data=null},o.setTouchCallback=function(t,e){this.callback=t,this.target=e,this.node&&(this.node.hasEventListener(r.EventType.TOUCH_END)&&this.node.off(r.EventType.TOUCH_END,this.onClickCallback,this),this.node.on(r.EventType.TOUCH_END,this.onClickCallback,this))},o.onClickCallback=function(t){this.callback&&this.callback.call(this.target,this.data)},c(e,[{key:"data",get:function(){return this._data},set:function(t){this._data=t,this.updateItem()}}]),e}(l)).prototype,"isClick",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=p))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./HomeItem.ts","./HomeScene.ts","./T_Demo.ts","./RaycastClosest.ts","./CommonExpand.ts","./app.ts","./BaseListView.ts","./BaseUrl.ts","./BaseView.ts","./singtonClass.ts","./CameraCtr.ts","./Joystick.ts","./Object3D.ts","./Player.ts","./World.ts","./Collision.ts","./Debug.ts","./Kdtree.ts","./Math.ts","./ObjNode.ts","./Octree.ts","./gameEnum.ts","./viewMgr.ts","./FreeCamera.ts","./List.ts","./ListItem.ts","./ModelTips.ts","./arrayUtils.ts","./cameraUtils.ts","./dateUtils.ts","./encodeUtils.ts","./eventNameUtils.ts","./eventObjUtils.ts","./eventUtils.ts","./httpUtils.ts","./imgUrils.ts","./jsUrils.ts","./mathUtils.ts","./poolUtils.ts","./promiseUtils.ts","./randomUtils.ts","./storageUtils.ts","./stringUtils.ts","./tweenUtils.ts","./uiManagerUtils.ts","./urlUtils.ts","./vectorUtils.ts","./viewUtils.ts","./InterfaceUrl.ts","./ChickModel.ts","./Common_mountain.ts","./MountainScene.ts","./MountainView.ts","./StepModel.ts","./WaveModel.ts","./AutoCollider.ts","./DollCylinderModel.ts","./DollView.ts","./Table.ts","./Torus.ts","./Common.ts","./GirlModel.ts","./PathMgr.ts","./PathNode.ts","./RunView.ts","./TestView.ts","./TimerModel.ts","./GameResView.ts","./StartView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Math.ts",["cc"],(function(r){var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){n._RF.push({},"470ec5EWAVCe64rxmOlGbB1","Math",void 0);var u=function(r,n,u,t){var e=r,a=r;return n>a?a=n:n<e&&(e=n),u>a?a=u:u<e&&(e=u),a<-t||e>t},t=(r("AABBTriangle",(function(r,n){var t=[.5*(r[0]+r[3]),.5*(r[1]+r[4]),.5*(r[2]+r[5])],e=[.5*(r[3]-r[0]),.5*(r[4]-r[1]),.5*(r[5]-r[2])],a=[n[0]-t[0],n[1]-t[1],n[2]-t[2],n[3]-t[0],n[4]-t[1],n[5]-t[2],n[6]-t[0],n[7]-t[1],n[8]-t[2]],i=[a[3]-a[0],a[4]-a[1],a[5]-a[2],a[6]-a[3],a[7]-a[4],a[8]-a[5],a[0]-a[6],a[1]-a[7],a[2]-a[8]];if(u(a[0],a[3],a[6],e[0]))return!1;if(u(a[1],a[4],a[7],e[1]))return!1;if(u(a[2],a[5],a[8],e[2]))return!1;var v=-i[2]*i[4]+i[1]*i[5],I=i[2]*i[3]-i[0]*i[5],f=-i[1]*i[3]+i[0]*i[4],c=a[0]*v+a[1]*I+a[2]*f,o=e[0]*(v>=0?v:-v)+e[1]*(I>=0?I:-I)+e[2]*(f>=0?f:-f);if(c>o||c<-o)return!1;for(var N=0,T=0,l=2;l>=0;l--)for(var s=l,E=(l+2)%3,m=0;m<3;m++)if(u(a[E]*(N=-i[3*m+s])+a[s]*(T=i[3*m+E]),a[3+E]*N+a[3+s]*T,a[6+E]*N+a[6+s]*T,e[E]*(N>=0?N:-N)+e[s]*(T>=0?T:-T)))return!1;return!0})),function(r,n){var u=1*(r[0]*n[0]+r[1]*n[1]+r[2]*n[2])/(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);u<0&&(u=0),u>1&&(u=1);var t=r[0]*u-n[0],e=r[1]*u-n[1],a=r[2]*u-n[2];return t*t+e*e+a*a}),e=function(r,n,u){var t=r[0],e=r[1],a=r[2],i=n[0],v=n[1],I=n[2],f=a*i-t*I,c=t*v-e*i;return(e*I-a*v)*u[0]+f*u[1]+c*u[2]},a=r("SphereTriangle",(function(r,n,u){var a=[r[0]-u[0],r[1]-u[1],r[2]-u[2]],i=[r[0]-u[3],r[1]-u[4],r[2]-u[5]],v=[r[0]-u[6],r[1]-u[7],r[2]-u[8]],I=[u[3]-u[0],u[4]-u[1],u[5]-u[2]],f=[u[0]-u[6],u[1]-u[7],u[2]-u[8]],c=[u[6]-u[3],u[7]-u[4],u[8]-u[5]],o=[I[1]*f[2]-I[2]*f[1],I[2]*f[0]-I[0]*f[2],I[0]*f[1]-I[1]*f[0]],N=o[0]*a[0]+o[1]*a[1]+o[2]*a[2];if(N*N/(o[0]*o[0]+o[1]*o[1]+o[2]*o[2])>n*n)return!1;var T=!0;return T&&(T=e(I,o,a)>=0),T&&(T=e(c,o,i)>=0),T&&(T=e(f,o,v)>=0),!!T||(t(I,a)<=n*n||(t(c,i)<=n*n||t(f,v)<=n*n))})),i=[0,0,0],v=[0,0,0],I=[0,0,0],f=[0,0,0],c=function(r,n,u,t){var e=[n[0]-r[0],n[1]-r[1],n[2]-r[2]],a=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=((u[0]-r[0])*e[0]+(u[1]-r[1])*e[1]+(u[2]-r[2])*e[2])/a;return i<0&&(i=0),i>1&&(i=1),t[0]=r[0]+e[0]*i,t[1]=r[1]+e[1]*i,t[2]=r[2]+e[2]*i,t};r("CapsuleTriangle",(function(r,n,u,t){var e=t[3]-t[0],o=t[4]-t[1],N=t[5]-t[2],T=t[6]-t[0],l=t[7]-t[1],s=t[8]-t[2],E=o*s-N*l,m=N*T-e*s,_=e*l-o*T,b=E*E+m*m+_*_,F=[E*(b=b>0?1/Math.sqrt(b):0),m*b,_*b],S=[(E=r[0]-n[0])*(b=(b=E*E+(m=r[1]-n[1])*m+(_=r[2]-n[2])*_)>0?1/Math.sqrt(b):0),m*b,_*b],V=[n[0]+S[0]*u,n[1]+S[1]*u,n[2]+S[2]*u],h=[r[0]-S[0]*u,r[1]-S[1]*u,r[2]-S[2]*u],A=[t[0],t[1],t[2]],O=F[0]*F[0]+F[1]*F[1]+F[2]*F[2];e=V[0]-t[0],o=V[1]-t[1],N=V[2]-t[2],T=h[0]-t[0],l=h[1]-t[1],s=h[2]-t[2];var Y=e*F[0]+o*F[1]+N*F[2],g=T*F[0]+l*F[1]+s*F[2];if(Y*Y/O>u*u&&g*g/O>u*u&&Y*g>0)return!1;var B=S[0]*F[0]+S[1]*F[1]+S[2]*F[2];if(0!=B){var P=(F[0]*(t[0]-n[0])+F[1]*(t[1]-n[1])+F[2]*(t[2]-n[2]))/(B>0?B:-B);A=function(r,n,u){var t=[r[0],r[1],r[2]],e=[r[3],r[4],r[5]],a=[r[6],r[7],r[8]],i=u;if(function(r,n,u,t,e){var a=e[0]-r[0],i=e[1]-r[1],v=e[2]-r[2],I=n[0]-r[0],f=n[1]-r[1],c=n[2]-r[2],o=i*c-v*f,N=v*I-a*c,T=a*f-i*I;return!(o*t[0]+N*t[1]+T*t[2]>0||(a=e[0]-n[0],i=e[1]-n[1],v=e[2]-n[2],I=u[0]-n[0],f=u[1]-n[1],N=v*I-a*(c=u[2]-n[2]),T=a*f-i*I,(o=i*c-v*f)*t[0]+N*t[1]+T*t[2]>0||(a=e[0]-u[0],i=e[1]-u[1],v=e[2]-u[2],I=r[0]-u[0],f=r[1]-u[1],N=v*I-a*(c=r[2]-u[2]),T=a*f-i*I,(o=i*c-v*f)*t[0]+N*t[1]+T*t[2]>0)))}(t,e,a,n,u))return i;var o=c(t,e,u,v),N=u[0]-o[0],T=u[1]-o[1],l=u[2]-o[2],s=N*N+T*T+l*l,E=s;i=o;var m=c(e,a,u,I);(s=(N=u[0]-m[0])*N+(T=u[1]-m[1])*T+(l=u[2]-m[2])*l)<E&&(i=m,E=s);var _=c(a,t,u,f);return(s=(N=u[0]-_[0])*N+(T=u[1]-_[1])*T+(l=u[2]-_[2])*l)<E&&(i=m,E=s),i}(t,F,[n[0]+S[0]*P,n[1]+S[1]*P,n[2]+S[2]*P])}var p=c(V,h,A,i);return a(p,u,t)})),r("RaycastAABB",(function(r,n,u,t){void 0===t&&(t=Number.POSITIVE_INFINITY);for(var e=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,i=0,v=0,I=0,f=0;f<3;f++){if((I=(u[f]-r[f])/n[f])>(v=(u[f+3]-r[f])/n[f])&&(i=I,I=v,v=i),v<e||I>a)return null;I>e&&(e=I),v<a&&(a=v)}return e>=a||e>t||a<0?null:e})),r("RaycastBox",(function(r,n,u,t){void 0===t&&(t=Number.POSITIVE_INFINITY);for(var e=Number.NEGATIVE_INFINITY,a=Number.POSITIVE_INFINITY,i=0,v=0,I=0,f=0;f<3;f++){if((I=((i=u[f]-r[f])-u[f+3])/n[f])>(v=(i+u[f+3])/n[f])&&(i=I,I=v,v=i),v<e||I>a)return null;I>e&&(e=I),v<a&&(a=v)}return e>=a||e>t||a<0?null:e})),r("RaycastTriangle",(function(r,n,u,t){void 0===t&&(t=Number.POSITIVE_INFINITY);var e=n[0],a=n[1],i=n[2],v=u[3]-u[0],I=u[4]-u[1],f=u[5]-u[2],c=u[6]-u[0],o=u[7]-u[1],N=u[8]-u[2],T=a*N-i*o,l=i*c-e*N,s=e*o-a*c,E=v*T+I*l+f*s;if(E<Number.EPSILON)return-1;var m=r[0]-u[0],_=r[1]-u[1],b=r[2]-u[2],F=m*T+_*l+b*s;if(F<0||F>E)return-1;var S=e*(T=_*f-b*I)+a*(l=b*v-m*f)+i*(s=m*I-_*v);if(S<0||F+S>E)return-1;var V=(c*T+o*l+N*s)/E;return V>t?-1:V}));n._RF.pop()}}}));

System.register("chunks:///_virtual/mathUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(t){var n,r,e;return{setters:[function(t){n=t.inheritsLoose},function(t){r=t.cclegacy},function(t){e=t.default}],execute:function(){r._RF.push({},"580abVCdWtOHYB5TaEre22h","mathUtils",void 0);t("default",function(t){function r(){for(var n,r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];return(n=t.call.apply(t,[this].concat(e))||this).deg2Rad=Math.PI/180,n.rad2Deg=180/Math.PI,n}n(r,t);var e=r.prototype;return e.sign=function(t){return t>0?1:t<0?-1:0},e.progress=function(t,n,r){return t+(n-t)*r},e.lerp=function(t,n,r){return r>1?r=1:r<0&&(r=0),t*(1-r)+n*r},e.lerpAngle=function(t,n,r){var e=(n%=360)-(t%=360);return e>180?n=t-(360-e):e<-180&&(n=t+(360+e)),(this.lerp(t,n,r)%360+360)%360},e.angleTowards=function(t,n,r){var e=(n%=360)-(t%=360);e>180?n=t-(360-e):e<-180&&(n=t+(360+e));var a=n-t;return r>Math.abs(a)?n:((t+r*Math.sign(a))%360+360)%360},e.clamp=function(t,n,r){return t<n?n:t>r?r:t},e.probability=function(t){return Math.random()<t},r}(e));r._RF.pop()}}}));

System.register("chunks:///_virtual/ModelTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts"],(function(e){var t,o,i,n,l,a,r,s,p,c,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Label,s=e.UITransform,p=e.UIOpacity,c=e.tween,h=e.Component},function(e){u=e.default}],execute:function(){var d,f,b,v,g;l._RF.push({},"cea6cWt4YVAlYqjfjFDNE7X","ModelTips",void 0);var y=a.ccclass,w=a.property;e("ModelTips",(d=y("ModelTips"),f=w(r),d((g=t((v=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,i(t,"label",g,n(t)),t.vo=null,t}o(t,e);var l=t.prototype;return l.setData=function(e){this.vo=e;this.label.overflow=r.Overflow.NONE,this.label.string=e+"",this.label.updateRenderData(!0);var t=this.label.node.getComponent(s);t.width>500&&(this.label.string="",this.label.overflow=r.Overflow.RESIZE_HEIGHT,t.width=500,this.label.string=e+"",this.label.updateRenderData(!0)),this.label.node.parent.getComponent(s).width=t.width+50,this.label.node.parent.getComponent(s).height=t.height+50},l.show=function(e){var t=this,o=this.node.getComponent(p);c(o).to(.1,{opacity:255}).delay(e).to(.15,{opacity:0}).call((function(){u.pool.setNode(t.node)})).start()},t}(h)).prototype,"label",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=v))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/MountainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./Object3D.ts","./World.ts","./Common.ts","./ChickModel.ts","./Common_mountain.ts","./StepModel.ts","./WaveModel.ts"],(function(e){var t,o,r,n,i,l,a,s,u,d,c,p,h,f,v,m,b,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,a=e.Prefab,s=e.Node,u=e.v3,d=e.tween,c=e.Component},function(e){p=e.default},function(e){h=e.Object3D},function(e){f=e.World},function(e){v=e.default},function(e){m=e.ChickModel},function(e){b=e.default},function(e){w=e.StepModel},null],execute:function(){var g,_,C,S,y,M,x,D,P,z,W,j,R,k,N;i._RF.push({},"40931k0zctCf4197+DMDzYl","MountainScene",void 0);var I=l.ccclass,X=l.property;e("MountainScene",(g=I("MountainScene"),_=X(m),C=X(h),S=X([a]),y=X(s),M=X(a),x=X(f),g((z=t((P=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,r(t,"role",z,n(t)),r(t,"role3D",W,n(t)),r(t,"arr_prefab",j,n(t)),r(t,"nodeRoot",R,n(t)),r(t,"pre_wave",k,n(t)),r(t,"world",N,n(t)),t.index=0,t.maxCount=5,t.arr_step=[],t._speed=.75,t}o(t,e);var i=t.prototype;return i.updateRoleX=function(e){var t=this.role.nodeX.getWorldPosition(),o=e/375*-2.75;o=Math.max(o,-2.75),o=Math.min(o,2.75),t.x=o,this.role.nodeX.setWorldPosition(t)},i.start=function(){window.main=this},i.roleInit=function(){for(var e=this.role.node.getComponentsInChildren(h),t=0;t<e.length;t++)this.world.insert(e[t])},i.init=function(){this.index=0,this.maxCount=5,this.role.node.setPosition(u(0,1,0)),this.role.nodeX.setPosition(u(0,0,0)),this.role.idle(),this.removeAllStep();for(var e=0;e<this.maxCount;e++)this.addStep(e);this.updateSpeed(0);for(var t=this.role.node.getComponentsInChildren(h),o=0;o<t.length;o++)this.world.remove(t[o],!1),this.world.insert(t[o]);console.log("角色碰撞检测=========:",t.length)},i.removeAllStep=function(){console.warn("移除所有台阶....");for(var e=0;e<this.arr_step.length;e++)this.arr_step[e].removeSelf(this.world);this.arr_step=[]},i.jump=function(e){var t=this;void 0===e&&(e=4);var o=this._speed,r=this.index+1,n=u(0,1*r+1,2.5*r);this.index++;var i=this.maxCount;this.maxCount++,this.addStep(i);var l=this.role.node.worldPosition.clone();this.role.jump(o,e);d({a:0}).to(o,{a:1},{progress:function(e,o,r,i){var a=p.vector.lerp(l,n,i);return t.role.node.setWorldPosition(a),0}}).call((function(){0==t.checkCollsion()||1==b.debug?(t.addWave(t.role.nodeX.worldPosition.clone()),t.jump(e),p.event.emit(p.eName.event_addScore)):(t.role.idle(),t.role.playDieAnim(),p.event.emit(p.eName.event_gameEnd)),t.removeStep()})).start()},i.addWave=function(e){},i.addStep=function(e){void 0===e&&(e=0);var t=null;(t=e<50?p.pool.getNode(this.arr_prefab[0]):p.pool.getNode(this.arr_prefab[1])).setParent(this.nodeRoot),t.setWorldPosition(u(0,1*e,2.5*e));var o=t.getComponent(w);o.init(e,this.world),this.arr_step.push(o);for(var r=t.getComponentsInChildren(h),n=0;n<r.length;n++)this.world.insert(r[n])},i.removeStep=function(){var e=this,t=v.score-1;this.arr_step.filter((function(e){return e.index<t})).forEach((function(t){t.removeSelf(e.world);var o=e.arr_step.indexOf(t);-1!==o&&e.arr_step.splice(o,1)}))},i.updateSpeed=function(e){this._speed=Math.max(.6,(90-e)/100)},i.checkCollsion=function(){this.world.remove(this.role3D,!1),this.world.insert(this.role3D);var e=!1;this.role.setNormalMaterial();for(var t=this.world.objectQuery(this.role3D,!0),o=0;o<t.length;o++){var r=t[o];this.world.collision.GJK(this.role3D,r)&&(this.role.setRedMaterial(),e=!0)}return e},t}(c)).prototype,"role",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(P.prototype,"role3D",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(P.prototype,"arr_prefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=t(P.prototype,"nodeRoot",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(P.prototype,"pre_wave",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(P.prototype,"world",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=P))||D));i._RF.pop()}}}));

System.register("chunks:///_virtual/MountainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./BaseView.ts","./gameEnum.ts","./Common.ts","./Common_mountain.ts","./MountainScene.ts"],(function(e){var t,n,i,r,a,o,c,s,u,l,m,f,h,p,g,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Node,l=e.Label,m=e.Input},function(e){f=e.default},function(e){h=e.default},function(e){p=e.default},function(e){g=e.default},function(e){b=e.default},function(e){d=e.MountainScene}],execute:function(){var v,w,_,y,S,T,N,V,E,R,D,O,k;c._RF.push({},"fc6f2hVzD1HDq2cjijainsB","MountainView",void 0);var A=s.ccclass,M=s.property;e("MountainView",(v=A("MountainView"),w=M(u),_=M(d),y=M(l),S=M(u),T=M(l),v((E=t((V=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"btnNode",E,r(t)),i(t,"mgr",R,r(t)),i(t,"lblDebug",D,r(t)),i(t,"nodeGame",O,r(t)),i(t,"lblScore",k,r(t)),t._score=0,t.clicktime=0,t}n(t,e);var c=t.prototype;return c.onLoad=function(){},c.start=function(){this.show(p.view.NONE)},c.show=function(){var t;this.arr_btn=[this.btnNode],this.arr_event=[{func:this.addScore,name:f.eName.event_addScore},{func:this.gameStart,name:f.eName.event_gameStart},{func:this.gameEnd,name:f.eName.event_gameEnd},{func:this.gameAgain,name:f.eName.event_gameAgain},{func:this.init,name:f.eName.event_gameInit}];for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(t=e.prototype.show).call.apply(t,[this].concat(i)),this.node.on(m.EventType.TOUCH_START,this._move,this),this.node.on(m.EventType.TOUCH_MOVE,this._move,this),this.mgr.roleInit(),this.init()},c.init=function(e){void 0===e&&(e=!1),g.init(),this.nodeGame.active=!1,this._score=0,this.lblScore.string=""+this._score,this.mgr.init(),f.eventObj.openView(p.view.StartView,p.layer.WINDOW_LAYER,e)},c.addScore=function(){this._score++,g.score=this._score,this.lblScore.string=""+this._score,this.mgr.updateSpeed(this._score)},c.gameAgain=function(){this.init(!0)},c.gameStart=function(){g.isRun=!0,f.eventObj.closeView(p.view.StartView),this.mgr.jump(3),this.nodeGame.active=!0},c.gameEnd=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=g.isRun){e.next=2;break}return e.abrupt("return");case 2:return g.isRun=!1,g.coin=this._score,e.next=6,f.promise.sleep(2);case 6:f.eventObj.openView(p.view.GameResView,p.layer.WINDOW_LAYER,"当前得分："+g.coin);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c._move=function(e){if(0!=g.isRun)switch(e.type){case m.EventType.TOUCH_START:break;case m.EventType.TOUCH_MOVE:var t=e.getUILocation().x-375;this.mgr.updateRoleX(t)}},c.click=function(e){var t=(new Date).getTime();if(!(t-this.clicktime<g.clickWaitTime))switch(this.clicktime=t,e.target){case this.btnNode:}},c.update=function(e){this.lblDebug.string="碰撞调试("+(1==b.debug?"开":"关")+")"},c.changeDebug=function(){b.debug=!b.debug},t}(h)).prototype,"btnNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(V.prototype,"mgr",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(V.prototype,"lblDebug",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(V.prototype,"nodeGame",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(V.prototype,"lblScore",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=V))||N));c._RF.pop()}}}));

System.register("chunks:///_virtual/Object3D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Collision.ts","./Debug.ts","./Kdtree.ts","./Math.ts","./ObjNode.ts"],(function(t){var e,i,r,n,s,o,u,a,l,h,d,c,m,g,f,p,v,b,y,x,B,M,w,_,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,o=t._decorator,u=t.Enum,a=t.utils,l=t.primitives,h=t.Mesh,d=t.PhysicsSystem,c=t.CCInteger,m=t.Vec3,g=t.Mat4,f=t.MeshRenderer,p=t.Color,v=t.Component},function(t){b=t.ShapeType},function(t){y=t.Debug},function(t){x=t.Kdtree},function(t){B=t.CapsuleTriangle,M=t.SphereTriangle,w=t.AABBTriangle,_=t.RaycastTriangle},function(t){C=t.ObjNode}],execute:function(){var T,k,z,D,S,W,j,I,P,N,O,R,L,V,G,E;s._RF.push({},"4c004euHlxHyZISqmdYtGsS","Object3D",void 0);var K=o.ccclass,A=o.property,F=u(b),H=[a.createMesh(l.box()),a.createMesh(l.sphere(.5,{segments:12})),a.createMesh(l.capsule(.5,.5,2,{sides:12,heightSegments:12}))];t("Object3D",(T=K("Object3D"),k=A({type:h,displayName:"Collider"}),z=A({type:F,displayName:"Bound"}),D=A({type:d.PhysicsGroup}),S=A({group:"Kdtree",visible:function(){return this.useTriangle}}),W=A({type:c,group:"Kdtree",step:1,min:9,max:25,visible:function(){return this.useTriangle}}),j=A({type:c,group:"Kdtree",step:1,min:1,max:8,visible:function(){return this.useTriangle}}),T((N=e((P=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,r(e,"meshCollider",N,n(e)),r(e,"fastBound",O,n(e)),r(e,"group",R,n(e)),r(e,"useTriangle",L,n(e)),r(e,"debug",V,n(e)),r(e,"maxLevels",G,n(e)),r(e,"maxObjects",E,n(e)),e.id=0,e.flag=0,e.mask=4294967295,e.isDirty=4294967295,e.useBoundShape=!1,e.bound=[],e.center=new m,e.worldBounds=[],e.kdtree=null,e.indices=[],e.vertices=[],e.objNodes=[],e._mat4=new g,e._inv4=new g,e._verts=[],e._normal=new m,e._center=new m,e._worldBound=[],e}i(e,t);var s=e.prototype;return s.onLoad=function(){this.init()},s.init=function(){if(!this.meshCollider){var t=this.node.getComponent(f);t?this.meshCollider=t.mesh:(this.useTriangle=!1,this.useBoundShape=!0,this.meshCollider=H[this.fastBound])}this.preBuild(),this.mask=d.instance.collisionMatrix[this.group]},s.clear=function(){this.kdtree&&(this.kdtree.clear(),this.kdtree=null);for(var t=this.objNodes.length,e=0;e<t;e++)this.objNodes[e].clear();this.bound=[],this.indices=[],this.vertices=[],this.objNodes=[],this.worldBounds=[]},s.setScale=function(t){return this.isDirty|=9,this.node.scale=t,t},s.getScale=function(){return this.node.scale},s.setRotation=function(t){return this.isDirty|=10,this.node.rotation=t,t},s.getRotation=function(){return this.node.rotation},s.setPosition=function(t){return this.isDirty|=12,this.node.position=t,t},s.getPosition=function(){return this.node.position},s.getWorldScale=function(){return this.node.scale},s.getWorldPosition=function(){return this.node.worldPosition},s.getWorldRotation=function(){return this.node.worldRotation},s.getWorldMatrix=function(){return this.node.worldMatrix},s.getWorldMatrixInvert=function(){return 15&this.isDirty&&(this.isDirty&=-16,g.invert(this._inv4,this.node.worldMatrix)),this._inv4},s.getWorldCenter=function(){return m.transformMat4(this._center,this.center,this.getWorldMatrix())},s.getColliderShape=function(){return this.useBoundShape?this.fastBound:-1},s.preBuild=function(){var t=this.meshCollider.struct,e=t.minPosition,i=t.maxPosition;this.bound=[e.x,e.y,e.z,i.x,i.y,i.z],this.center.set(.5*(e.x+i.x),.5*(e.y+i.y),.5*(e.z+i.z));for(var r=[],n=this.meshCollider.renderingSubMeshes,s=0;s<n.length;s++){var o=n[s].geometricInfo,u=o.positions,a=o.indices;if(this.vertices.push(u),this.indices.push(a),this.worldBounds.push([]),this.useTriangle&&a.length>0)for(var l=a.length/3,h=0;h<l;h++){var d=a[3*h],c=a[3*h+1],m=a[3*h+2],g=[u[3*d],u[3*d+1],u[3*d+2],u[3*c],u[3*c+1],u[3*c+2],u[3*m],u[3*m+1],u[3*m+2]],f=Math.min(g[0],g[3],g[6]),p=Math.min(g[1],g[4],g[7]),v=Math.min(g[2],g[5],g[8]),b=Math.max(g[0],g[3],g[6]),y=Math.max(g[1],g[4],g[7]),B=Math.max(g[2],g[5],g[8]);r.push(new C(this,s,h,[f,p,v,b,y,B],g))}}this.useTriangle&&(this.kdtree=new x(r,0,r.length-1,this.bound,1,this.maxObjects<<8|this.maxLevels)),this.updateBounds(!0)},s.getVertices=function(t){return void 0===t&&(t=0),this.vertices[t]},s.getWorldBound=function(t){return void 0===t&&(t=-1),this.updateBounds(),t>=0?this.worldBounds[t]:this._worldBound},s.calculateBound=function(t,e,i){var r=.5*(e[3]+e[0]),n=.5*(e[4]+e[1]),s=.5*(e[5]+e[2]),o=.5*(e[3]-e[0]),u=.5*(e[4]-e[1]),a=.5*(e[5]-e[2]),l=i.m00*r+i.m04*n+i.m08*s+i.m12,h=i.m01*r+i.m05*n+i.m09*s+i.m13,d=i.m02*r+i.m06*n+i.m10*s+i.m14,c=o*i.m00,m=o*i.m01,g=o*i.m02,f=u*i.m04,p=u*i.m05,v=u*i.m06,b=a*i.m08,y=a*i.m09,x=a*i.m10;return o=(c>=0?c:-c)+(f>=0?f:-f)+(b>=0?b:-b),u=(m>=0?m:-m)+(p>=0?p:-p)+(y>=0?y:-y),a=(g>=0?g:-g)+(v>=0?v:-v)+(x>=0?x:-x),t[0]=l-o,t[1]=h-u,t[2]=d-a,t[3]=l+o,t[4]=h+u,t[5]=d+a,t},s.updateBounds=function(t){if(void 0===t&&(t=!1),(8&this.isDirty||t)&&this.worldBounds.length){for(var e=this.getWorldMatrix(),i=this.meshCollider.renderingSubMeshes,r=0;r<i.length;r++){var n=i[r].geometricInfo,s=n.boundingBox.min,o=n.boundingBox.max,u=this.worldBounds[r];u[0]=s.x,u[1]=s.y,u[2]=s.z,u[3]=o.x,u[4]=o.y,u[5]=o.z,this.calculateBound(u,u,e)}i.length<=1?this._worldBound=this.worldBounds[0]:this.calculateBound(this._worldBound,this.bound,e),this.isDirty&=-9}return this.worldBounds},s.boundCulling=function(t){if(t.isBox)return!1;for(var e=this._verts,i=this.bound,r=t.getVertices(),n=g.multiply(this._mat4,this.getWorldMatrixInvert(),t.getWorldMatrix()),s=0,o=r.length/3;s<o;s++){var u=r[3*s],a=r[3*s+1],l=r[3*s+2];e[3*s]=n.m00*u+n.m04*a+n.m08*l+n.m12,e[3*s+1]=n.m01*u+n.m05*a+n.m09*l+n.m13,e[3*s+2]=n.m02*u+n.m06*a+n.m10*l+n.m14}switch(this.fastBound){case F.Box:return!w(i,e);case F.Sphere:return!M([0,0,0],.5,e);case F.Capsule:return!B([0,1,0],[0,-1,0],.5,e)}return!1},s.boundTriangles=function(t,e){void 0===e&&(e=null);var i=[],r=[];if(this.useTriangle){var n=this.getWorldMatrixInvert();if(e&&(n=g.multiply(this._mat4,n,e)),this.calculateBound(r,t,n),this.kdtree.retrieve(r,i),this.debug)for(var s=0;s<i.length;s++){var o=i[s];y.addTriangle(o.getVertices(),o.getWorldMatrix(),p.BLUE)}}return i},s.boundObject=function(t){var e=t.bound,i=t.fastBound,r=t.getWorldMatrix(),n=this.boundTriangles(e,r);if(n.length){for(var s=0,o=this._verts,u=n.length,a=g.multiply(this._mat4,t.getWorldMatrixInvert(),this.getWorldMatrix()),l=[a.m00,a.m04,a.m08,a.m12,a.m01,a.m05,a.m09,a.m13,a.m02,a.m06,a.m10,a.m14],h=0;h<u;h++){for(var d=n[h],c=d.getVertices(),m=0;m<3;m++){var f=c[3*m],v=c[3*m+1],b=c[3*m+2];o[3*m]=l[0]*f+l[1]*v+l[2]*b+l[3],o[3*m+1]=l[4]*f+l[5]*v+l[6]*b+l[7],o[3*m+2]=l[8]*f+l[9]*v+l[10]*b+l[11]}var x=!1;switch(i){case F.Box:x=w(e,o);break;case F.Sphere:x=M([0,0,0],.5,o);break;case F.Capsule:x=B([0,1,0],[0,-1,0],.5,o)}x&&(s<h&&(n[s]=n[h]),s++,this.debug&&y.addTriangle(d.getVertices(),d.getWorldMatrix(),p.RED))}n.length=s}return n},s.rayCast=function(t,e){var i=this._normal,r=!1,n=[],s=this.getWorldMatrixInvert(),o=[t[3]*s.m00+t[4]*s.m04+t[5]*s.m08,t[3]*s.m01+t[4]*s.m05+t[5]*s.m09,t[3]*s.m02+t[4]*s.m06+t[5]*s.m10],u=Math.sqrt(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]),a=t[6]*u,l=u>0?1/u:0;o[0]*=l,o[1]*=l,o[2]*=l;var h=[t[0]*s.m00+t[1]*s.m04+t[2]*s.m08+s.m12,t[0]*s.m01+t[1]*s.m05+t[2]*s.m09+s.m13,t[0]*s.m02+t[1]*s.m06+t[2]*s.m10+s.m14];if(this.useTriangle){var d=Number.POSITIVE_INFINITY;this.kdtree.rayCast([h[0],h[1],h[2],o[0],o[1],o[2],a],(function(t){var e=t.rayDist;if(e<0||a>e){var n=_(h,o,t.getVertices(),a);if(n>=0&&a>n)return i.set(t.normal),r=!0,a=n}return d}))}else{for(var c=this.indices[e],m=this.vertices[e],g=0,f=this._verts,p=c.length/3,v=0;v<p;v++){var b=c[3*v],y=c[3*v+1],x=c[3*v+2];f[0]=m[3*b],f[1]=m[3*b+1],f[2]=m[3*b+2],f[3]=m[3*y],f[4]=m[3*y+1],f[5]=m[3*y+2],f[6]=m[3*x],f[7]=m[3*x+1],f[8]=m[3*x+2];var B=_(h,o,f,a);B>=0&&a>B&&(r=!0,a=B,g=v)}if(r){var M=c[3*g],w=c[3*g+1],C=c[3*g+2];f[0]=m[3*M],f[1]=m[3*M+1],f[2]=m[3*M+2],f[3]=m[3*w],f[4]=m[3*w+1],f[5]=m[3*w+2],f[6]=m[3*C],f[7]=m[3*C+1],f[8]=m[3*C+2];var T=f[3]-f[0],k=f[4]-f[1],z=f[5]-f[2],D=f[6]-f[0],S=f[7]-f[1],W=f[8]-f[2];i.x=k*W-z*S,i.y=z*D-T*W,i.z=T*S-k*D}}if(r){var j=this.getWorldMatrix(),I=i.x,P=i.y,N=i.z;i.x=I*j.m00+P*j.m04+N*j.m08,i.y=I*j.m01+P*j.m05+N*j.m09,i.z=I*j.m02+P*j.m06+N*j.m10,i.normalize();var O=a/u;return n[0]=t[0]+t[3]*O,n[1]=t[1]+t[4]*O,n[2]=t[2]+t[5]*O,n[3]=i.x,n[4]=i.y,n[5]=i.z,n[6]=O,n}return null},s.getGroup=function(){return this.group},s.setGroup=function(t){this.group=t},s.addGroup=function(t){this.group|=t},s.removeGroup=function(t){this.group&=~t},s.getMask=function(){return this.mask},s.setMask=function(t){this.mask=t},s.addMask=function(t){this.mask|=t},s.removeMask=function(t){this.mask&=~t},e}(v)).prototype,"meshCollider",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(P.prototype,"fastBound",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.Box}}),R=e(P.prototype,"group",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.PhysicsGroup.DEFAULT}}),L=e(P.prototype,"useTriangle",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=e(P.prototype,"debug",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),G=e(P.prototype,"maxLevels",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 16}}),E=e(P.prototype,"maxObjects",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),I=P))||I));s._RF.pop()}}}));

System.register("chunks:///_virtual/ObjNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,r=t.Vec3}],execute:function(){e._RF.push({},"03846lN9lRMQId0vG1Lqtw/","ObjNode",void 0);t("ObjNode",function(){function t(t,i,e,n,s){if(void 0===s&&(s=null),this.obj3D=void 0,this.id0=0,this.id1=0,this.normal=new r,this.center=new r,this.bound=null,this.vertices=null,this.flag=0,this.isBox=!0,this.rayDist=0,this.maxLevel=4,this.targets=[],this._normal=new r,this._center=new r,this.flag=0,this.id0=i,this.id1=e,this.obj3D=t,this.bound=n,this.vertices=s,this.isBox=!s,this.isBox)this.center.x=(n[0]+n[3])/2,this.center.y=(n[1]+n[4])/2,this.center.z=(n[2]+n[5])/2,this.vertices=this.obj3D.getVertices(this.id1);else{this.center.x=(s[0]+s[3]+s[6])/3,this.center.y=(s[1]+s[4]+s[7])/3,this.center.z=(s[2]+s[5]+s[8])/3;var o=s[3]-s[0],h=s[4]-s[1],l=s[5]-s[2],u=s[6]-s[0],c=s[7]-s[1],a=s[8]-s[2];this.normal.x=h*a-l*c,this.normal.y=l*u-o*a,this.normal.z=o*c-h*u,this.normal.normalize()}}var e=t.prototype;return e.getVertices=function(){return this.vertices},e.getWorldMatrix=function(){return this.obj3D.getWorldMatrix()},e.getColliderShape=function(){return this.obj3D.getColliderShape()},e.getWorldBound=function(){if(!this.isBox){var t=this.bound,i=this.getWorldMatrix();return this.obj3D.calculateBound([],t,i)}return this.obj3D.getWorldBound(this.id1)},e.getWorldCenter=function(){return r.transformMat4(this._center,this.center,this.getWorldMatrix())},e.getWorldNormal=function(){return r.transformQuat(this._normal,this.normal,this.obj3D.getWorldRotation())},e.insert=function(t){this.targets.push(t)},e.remove=function(t){var i=this.targets,e=i.indexOf(t);if(-1!=e){var r=i.length-1;i[e]=i[r],i.length=r}},e.clear=function(){this.obj3D=null,this.bound=null,this.targets=null,this.vertices=null},i(t,[{key:"mask",get:function(){return this.obj3D.mask}},{key:"group",get:function(){return this.obj3D.group}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Octree.ts",["cc","./Math.ts"],(function(e){var t,s,i;return{setters:[function(e){t=e.cclegacy},function(e){s=e.RaycastBox,i=e.RaycastAABB}],execute:function(){t._RF.push({},"27156sYO9lPJr4FTFJfQAhF","Octree",void 0);e("GetMaxLevel",(function(e,t,s){void 0===s&&(s=1);var i=t.object_level>>8;if(s<=0)return e.maxLevel=i,i;var n=e.bound,r=t.bound,o=2*(r[3]+r[4]+r[5]),h=n[3]-n[0]+(n[4]-n[1])+(n[5]-n[2]);return i=~~Math.log2(o/(h*s)),e.maxLevel=i,i})),e("Octree",function(){function e(e,t,s,i,n){void 0===e&&(e=[]),void 0===t&&(t=2052),void 0===s&&(s=0),void 0===i&&(i=null),void 0===n&&(n=0),this.id=0,this.idxs=0,this.level=0,this.parent=null,this.bound=[],this.nodes=[],this.objects=[],this.object_level=2052,this.id=n,this.idxs=0,this.nodes=[],this.objects=[],this.bound=e,this.level=s,this.parent=i,this.object_level=t}var t=e.prototype;return t.split=function(){var t=this.level,s=this.object_level-1,i=this.nodes,n=this.bound,r=n[0],o=n[1],h=n[2],l=.5*n[3],a=.5*n[4],v=.5*n[5];i[0]=new e([r+l,o-a,h-v,l,a,v],s,t+1,this,0),i[1]=new e([r-l,o-a,h-v,l,a,v],s,t+1,this,1),i[2]=new e([r-l,o+a,h-v,l,a,v],s,t+1,this,2),i[3]=new e([r+l,o+a,h-v,l,a,v],s,t+1,this,3),i[4]=new e([r+l,o-a,h+v,l,a,v],s,t+1,this,4),i[5]=new e([r-l,o-a,h+v,l,a,v],s,t+1,this,5),i[6]=new e([r-l,o+a,h+v,l,a,v],s,t+1,this,6),i[7]=new e([r+l,o+a,h+v,l,a,v],s,t+1,this,7)},t.getIndex=function(e){var t=0,s=this.bound,i=s[0],n=s[1],r=s[2],o=e[0]<i,h=e[3]>=i,l=e[1]<n,a=e[4]>=n,v=e[2]<r,u=e[5]>=r;return h&&l&&(v&&(t=1),u&&(t|=65536)),o&&l&&(v&&(t|=16),u&&(t|=1<<20)),o&&a&&(v&&(t|=256),u&&(t|=1<<24)),h&&a&&(v&&(t|=4096),u&&(t|=1<<28)),t},t.remove=function(e){for(var t=e.targets,s=t.length-1;s>=0;s--){var i=t[s],n=i.objects;if(n){var r=n.indexOf(e);if(-1!=r&&n.length>0){var o=n.length-1;for(n[r]=n[o],n.length=o;0==o&&0==i.idxs;){i.reset(),i.objects=[];var h=i.id;if(!(i=i.parent))break;o=i.objects.length,i.idxs&=~(1<<4*h)}}}else console.error(i)}t.length=0},t.insert=function(e){var t=this.level,s=this.nodes,i=this.objects,n=this.object_level;if(s.length)if(e.maxLevel!=t){var r=0,o=this.getIndex(e.bound);for(this.idxs|=o;o;)15&o&&s[r].insert(e),o>>=4,r++}else i.push(e),e.insert(this);else if(i.push(e),e.insert(this),i.length>n>>8&&255&n){this.split();for(var h=0,l=i.length,a=0;a<l;a++){var v=i[a];if(v.maxLevel!=t){v.remove(this);var u=0,d=this.getIndex(v.bound);for(this.idxs|=d;d;)15&d&&s[u].insert(v),d>>=4,u++}else i[h++]=i[a]}i.length=h}},t.retrieve=function(e,t,s,i){void 0===i&&(i=4294967295);for(var n=0,r=e,o=[this];n>=0;){for(var h=o[n--],l=h.idxs,a=h.nodes,v=h.objects,u=0,d=v.length;u<d;u++){var c=v[u],f=c.bound;c.flag<t&&(c.flag=t,i&c.group&&(f[0]>r[3]||r[0]>f[3]||f[1]>r[4]||r[1]>f[4]||f[2]>r[5]||r[2]>f[5]||s.push(c)))}if(l){l&=h.getIndex(r);for(var b=0;0!=l;l>>=4,b++)15&l&&(o[++n]=a[b])}}},t.rayCast=function(e,t,n,r){void 0===r&&(r=4294967295);for(var o=e[6],h=[e[0],e[1],e[2]],l=[e[3],e[4],e[5]],a=0,v=[this];a>=0;){var u=v[a--];if(null!=s(h,l,u.bound,o)){for(var d=u.idxs,c=u.nodes,f=u.objects,b=0,g=f.length;b<g;b++){var x=f[b],p=x.bound;if(x.flag<t&&(x.flag=t,r&x.group)){var j=i(h,l,p,o);null!=j&&(x.rayDist=j,n.push(x))}}for(var w=0;0!=d;d>>=4,w++)15&d&&(v[++a]=c[w])}}},t.reset=function(){for(var e=this.nodes,t=e.length-1;t>=0;t--){var s=e[t];s&&(s.clear(),e[t]=null)}this.idxs=0,this.nodes=[],this.objects=[]},t.clear=function(){for(var e=this.nodes,t=e.length-1;t>=0;t--){var s=e[t];s&&(s.clear(),e[t]=null)}this.nodes=null,this.bound=null,this.objects=null},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PathMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./Common.ts","./PathNode.ts"],(function(t){var r,e,a,n,i,o,h,s,l,u,c,p,f;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,h=t.Prefab,s=t.Node,l=t.v3,u=t.Component},function(t){c=t.default},function(t){p=t.default},function(t){f=t.PathNode}],execute:function(){var d,b,g,P,v,m,y,w,_,R,z,A,x,I,N;i._RF.push({},"0ad7dSneeJMqIjWZ7haQBtB","PathMgr",void 0);var E=o.ccclass,M=o.property;t("PathMgr",(d=E("PathMgr"),b=M([h]),g=M([h]),P=M([h]),v=M([h]),m=M(s),y=M(s),d((R=r((_=function(t){function r(){for(var r,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return r=t.call.apply(t,[this].concat(i))||this,a(r,"arrStraightPrefab",R,n(r)),a(r,"arrRightPrefab",z,n(r)),a(r,"arrLeftPrefab",A,n(r)),a(r,"arrEndPrefab",x,n(r)),a(r,"nodeRoot",I,n(r)),a(r,"role",N,n(r)),r.pathIndex=0,r.arr_path=[],r.config_path=[],r}e(r,t);var i=r.prototype;return i.start=function(){window.app=c,window.v3=l,window.path=this,this.init()},i.init=function(){this.pathIndex=0,this.removeAllPath();var t=[1,2];t=[];for(var r=c.rand.randomArray([5,10,15]),e=0;e<r;e++){var a=c.rand.randomArray([[1,0,0],[-1,0,0],[0,0,0],[0],[0,0]]);t=[].concat(t,a)}t.push(2),console.error(t),this.config_path=t;for(var n=l(),i=l(),o=0;o<t.length;o++){var h=c.pool.getNode(c.rand.randomArray(this.getArr(t[o])));h.setParent(this.nodeRoot),h.setPosition(n),h.setWorldRotationFromEuler(i.x,i.y,i.z);var s=h.getComponent(f);n=s.lastPathNode,i.y+=s.lastPathEulerAngles.y,this.arr_path.push(s),s.init(o),h.active=!1}this.showPath()},i.showPath=function(){for(var t=0;t<this.arr_path.length;t++)this.arr_path[t].node.active=t>=this.pathIndex-1&&t<=this.pathIndex+3},i.removeAllPath=function(){for(var t=0;t<this.arr_path.length;t++)c.pool.setNode(this.arr_path[t].node);this.arr_path=[]},i.getArr=function(t){var r=null;switch(t){case 0:r=this.arrStraightPrefab;break;case 1:r=this.arrRightPrefab;break;case-1:r=this.arrLeftPrefab;break;case 2:r=this.arrEndPrefab}return r},i.run=function(t,r){var e=this.arr_path[t].run(r,this.role),a=this.role.worldPosition,n=c.vector.lerp(a,e,.1);this.role.setWorldPosition(n),this.pathIndex=t,this.showPath()},i.runDistance=function(t){for(var r=0,e=this.arr_path[r].distance;e<=t;){var a;if(t-=e,++r>this.config_path.length)break;e=null==(a=this.arr_path[r])?void 0:a.distance}e?this.run(r,t/e):c.event.emit(c.eName.event_gameEnd)},i.update=function(t){0!=p.isRun&&(p.s+=t*p.speed,this.runDistance(p.s))},r}(u)).prototype,"arrStraightPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=r(_.prototype,"arrRightPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=r(_.prototype,"arrLeftPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=r(_.prototype,"arrEndPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=r(_.prototype,"nodeRoot",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(_.prototype,"role",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=_))||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/PathNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./Common.ts"],(function(t){var e,r,o,i,n,a,s,h,l,c,d,u,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.Node,l=t.Enum,c=t.Prefab,d=t.v3,u=t.Component},function(t){p=t.default},function(t){f=t.default}],execute:function(){var P,g,y,v,b,m,w,R,_,A,k,T,W,C,N;a._RF.push({},"7fe21+1YVVEDp+7+saOR0iH","PathNode",void 0);var E=s.ccclass,L=s.property,F=function(t){return t[t.straight=0]="straight",t[t.left=1]="left",t[t.right=2]="right",t[t.end=3]="end",t}(F||{});t("PathNode",(P=E("PathNode"),g=L([h]),y=L([h]),v=L([h]),b=L({type:l(F),displayName:"道路类型"}),m=L({type:h,visible:function(){return!([F.straight,F.end].indexOf(this.pathType)>=0)}}),w=L(c),P((A=e((_=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"nodePath",A,i(e)),o(e,"nodePathR",k,i(e)),o(e,"nodePathL",T,i(e)),o(e,"pathType",W,i(e)),o(e,"nodeCenterCircle",C,i(e)),o(e,"pre_coin",N,i(e)),e.index=0,e.arr_coin=[],e.temp_v=d(),e.accuracy=1e5,e}r(e,t);var a=e.prototype;return a.init=function(t){this.index=t,0!=t&&this.addCoin()},a.addCoin=function(){for(var t=0;t<this.arr_coin.length;t++)p.pool.setNode(this.arr_coin[t]);switch(this.arr_coin=[],this.pathType){case F.straight:this.addStraight();break;case F.left:case F.right:this.addLR()}},a.addStraight=function(){this.node.eulerAngles.y;for(var t=.8/6,e=0;e<6;e++)for(var r=p.rand.randomArray([this.nodePath,this.nodePathL,this.nodePathR]),o=r[0].getWorldPosition(),i=r[1].getWorldPosition(),n=0;n<5;n++){var a=p.vector.lerp(o,i,t/5*n+.1+t*e),s=p.pool.getNode(this.pre_coin);a.y=3,s.setParent(this.node),s.setWorldPosition(a),s.setRotationFromEuler(90,0,0),this.arr_coin.push(s)}},a.addLR=function(){this.node.eulerAngles.y;for(var t=.8/3,e=0;e<3;e++)for(var r=p.rand.randomArray([this.nodePath,this.nodePathL,this.nodePathR]),o=r[0].getWorldPosition(),i=r[1].getWorldPosition(),n=0;n<5;n++){var a=p.vector.lerp(o,i,t/5*n+.1+t*e),s=p.pool.getNode(this.pre_coin);a.y=3,s.setParent(this.node),s.setWorldPosition(a),s.setRotationFromEuler(90,0,0),this.arr_coin.push(s)}this.node.eulerAngles.y,this.pathType,F.left;for(var h=0;h<3;h++)for(var l=p.rand.randomArray([this.nodePath,this.nodePathL,this.nodePathR]),c=l[2].getWorldPosition(),d=l[3].getWorldPosition(),u=0;u<5;u++){var f=p.vector.lerp(c,d,t/5*u+.1+t*h),P=p.pool.getNode(this.pre_coin);f.y=3,P.setParent(this.node),P.setWorldPosition(f),P.setRotationFromEuler(90,90,0),this.arr_coin.push(P)}},a.run=function(t,e){var r=this.nodePath;switch(f.path){case 0:r=this.nodePath;break;case 1:r=this.nodePathR;break;case-1:r=this.nodePathL}var o=d();switch(this.pathType){case F.end:case F.straight:o=p.vector.lerp(r[0].worldPosition,r[1].worldPosition,t),e.setRotationFromEuler(0,this.node.eulerAngles.y,0);break;case F.left:case F.right:var i=[43331,13465,43202];t*=this.accuracy;var n=0;for(n=0;n<i.length&&t>i[n];n++)t-=i[n];switch(n){case 0:o=p.vector.lerp(r[0].worldPosition,r[1].worldPosition,t/i[0]),e.setRotationFromEuler(0,this.node.eulerAngles.y,0);break;case 1:var a=this.nodeCenterCircle.getWorldPosition(),s=p.vector.vectorAtoB(a,r[1].getWorldPosition()),h=p.vector.vectorAtoB(a,r[2].getWorldPosition()),l=t/i[1];o=(o=p.vector.rotateTo(s,h,90*l)).add(a),e.setRotationFromEuler(0,this.node.eulerAngles.y+(this.pathType==F.left?90:-90)*l,0);break;case 2:o=p.vector.lerp(r[2].worldPosition,r[3].worldPosition,t/i[2]),e.setRotationFromEuler(0,this.node.eulerAngles.y+(this.pathType==F.left?90:-90),0)}}return o},n(e,[{key:"lastPathNode",get:function(){return this.nodePath[this.nodePath.length-1].worldPosition}},{key:"lastPathEulerAngles",get:function(){var t=d();switch(this.pathType){case F.left:t.y=90;break;case F.right:t.y=-90}return t}},{key:"distance",get:function(){var t=0;switch(this.pathType){case F.end:t=20;break;case F.straight:t=209.97;break;case F.left:case F.right:t=170.31362}return t}}]),e}(u)).prototype,"nodePath",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=e(_.prototype,"nodePathR",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=e(_.prototype,"nodePathL",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(_.prototype,"pathType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.straight}}),C=e(_.prototype,"nodeCenterCircle",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(_.prototype,"pre_coin",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=_))||R));a._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Debug.ts","./Joystick.ts","./Object3D.ts","./World.ts"],(function(t){var e,i,r,n,o,a,s,l,c,u,h,d,y,f,p,b,v,m,g,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.SkeletalAnimation,l=t.Vec3,c=t.Quat,u=t.Node,h=t.MeshRenderer,d=t.Input,y=t.toRadian,f=t.clamp,p=t.Mat4,b=t.Color},function(t){v=t.Debug},function(t){m=t.Joystick},function(t){g=t.Object3D},function(t){w=t.World}],execute:function(){var D,z,T,O,R,_,N,k,x,A,C,E,M,P,I,j,S,W,Y;o._RF.push({},"21da67bXuhDHYvNI/nkIUZh","Player",void 0);var B=a.ccclass,U=a.property;t("Player",(D=B("Player"),z=U(w),T=U(m),O=U(s),R=U({visible:!1,override:!0}),_=U({min:0}),N=U({min:0,max:90}),k=U({min:0}),D((C=e((A=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"boundDebug",C,n(e)),r(e,"world",E,n(e)),r(e,"joystick",M,n(e)),r(e,"character",P,n(e)),r(e,"useTriangle",I,n(e)),r(e,"maxSpeed",j,n(e)),r(e,"slopeLimit",S,n(e)),r(e,"stepOffset",W,n(e)),r(e,"gravity",Y,n(e)),e.angle=0,e.vertical=0,e.velocity=new l,e.direction=new l(0,0,0),e.surfaceNormal=new l(0,1,0),e.sample=0,e.isMove=!1,e.rayDir=new l,e._currAni=null,e._rot=new c,e._dir=new l,e._vector=new l,e.isRayCast=!1,e}i(e,t);var o=e.prototype;return o.start=function(){if(this.initJoystick(),this.boundDebug){var t=new u("DebugCollider");t.addComponent(h).mesh=this.meshCollider,this.node.addChild(t)}},o.reset=function(){this.changeAnimation("idle"),this.node.position=new l(0,60,0),this.node.rotation=c.IDENTITY,this.surfaceNormal.set(0,1,0),this.velocity.set(l.ZERO),this.vertical=0},o.changeAnimation=function(t){this.character&&this._currAni!=t&&(this._currAni=t,this.character.crossFade(t,.5))},o.rotateCharacter=function(t){this.character&&(this.character.node.rotation=c.fromAxisAngle(this._rot,l.UNIT_Y,t+Math.PI/2))},o.initJoystick=function(){var t=this;this.joystick&&this.joystick.init((function(e){var i=e.angle,r=e.ratio;switch(e.type){case d.EventType.TOUCH_START:t.velocity.set(l.ZERO),t.direction.set(l.ZERO);break;case d.EventType.TOUCH_MOVE:t.angle=i;var n=t.maxSpeed*r;i=-(y(t.node.eulerAngles.y)+i),t.direction.set(Math.cos(i)*n,0,Math.sin(i)*n),t.rayDir.set(t.direction),t.isMove=!0,t.changeAnimation("run"),t.rotateCharacter(t.angle);break;case d.EventType.TOUCH_END:t.isMove=!1,t.velocity.set(l.ZERO),t.direction.set(l.ZERO),t.changeAnimation("idle")}}))},o.checkRays=function(){if(this.isRayCast)for(var t=new l,e=this.getWorldPosition(),i=this.node.children[0].getWorldRotation(),r=l.transformQuat(new l,new l(0,0,1),i),n=0;n<1e3;n++){l.rotateY(t,r,l.ZERO,0+n*Math.PI*2/1e3);var o=[e.x,e.y,e.z,t.x,t.y,t.z,100];this.world.rayCast(o,4294967295,!0)}},o.update=function(t){l.projectOnPlane(this.velocity,this.direction,this.surfaceNormal),t=f(t,0,.032);var e=this.getPosition(),i=this.velocity,r=this.gravity,n=e.x+i.x*t+r.x*t*t/2,o=e.y+i.y*t+this.vertical*t+r.y*t*t/2,a=e.z+i.z*t+r.z*t*t/2;this.vertical+=r.y*t,this.setPosition(e.set(n,o,a));var s=new l,c=new l,u=!1;this.surfaceNormal.set(0,1,0);for(var h=Math.cos(y(this.slopeLimit)),d=this.world.objectQuery(this,!0),m=0;m<d.length;m++){var g=d[m],w=this.world.collision.GJK(this,g);if(w){s.set(0,1,0);var D=w.dir,z=w.dist,T=s.dot(D),O=!!g.isBox||s.dot(g.getWorldNormal())>=h;if(T>=h&&O)s.multiplyScalar(z),this.setPosition(e.add(s)),this.surfaceNormal.set(D),c.set(D);else{var R=g.getWorldBound(),_=this.getWorldBound();if(s.set(D).multiplyScalar(z),this.isMove)R[4]-_[1]<this.stepOffset?(s.y=Math.max(s.y,.01*this.stepOffset),D.add(l.UNIT_Y).normalize(),this.surfaceNormal.set(D),c.set(D)):s.y=0;this.setPosition(e.add(s))}u=!0,g.obj3D.debug&&v.addBox(g.getWorldBound(),p.IDENTITY,g.isBox?b.RED:b.CYAN)}}if(u){c.normalize();var N=c.dot(l.UNIT_Y);N>0&&(this.vertical*=1-N)}else this.velocity.y=0;this.checkRays()},e}(g)).prototype,"boundDebug",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=e(A.prototype,"world",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=e(A.prototype,"joystick",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(A.prototype,"character",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(A.prototype,"useTriangle",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=e(A.prototype,"maxSpeed",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),S=e(A.prototype,"slopeLimit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 75}}),W=e(A.prototype,"stepOffset",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Y=e(A.prototype,"gravity",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,-9.8,0)}}),x=A))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/poolUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(t){var n,e,l,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,l=t.instantiate},function(t){s=t.default}],execute:function(){e._RF.push({},"adb12LILmdKjJzpcs0npaxw","poolUtils",void 0);t("default",function(t){function e(){for(var n,e=arguments.length,l=new Array(e),s=0;s<e;s++)l[s]=arguments[s];return(n=t.call.apply(t,[this].concat(l))||this).handle=new Map,n}n(e,t);var s=e.prototype;return s.getNode=function(t,n){if(void 0===n&&(n=null),!t)return console.error("prefab is null"),null;var e=t.name,s=null;return(s=this.handle.has(e)&&this.handle.get(e).length>0?this.handle.get(e).shift():l(t))?(n&&s.setParent(n),s):null},s.setNode=function(t){var n=t.name;t.removeFromParent(),this.handle.has(n)?this.handle.get(n).push(t):this.handle.set(n,[t])},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/promiseUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(n){var e,r,t,o,u,i,c,s,a,l;return{setters:[function(n){e=n.inheritsLoose,r=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){o=n.cclegacy,u=n.resources,i=n.Prefab,c=n.SpriteFrame,s=n.assetManager,a=n.Texture2D},function(n){l=n.default}],execute:function(){o._RF.push({},"c8a8bdZD5RATZwSlbddWlNP","promiseUtils",void 0);n("default",function(n){function o(){return n.apply(this,arguments)||this}e(o,n);var l=o.prototype;return l.sleep=function(){var n=r(t().mark((function n(e,r){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){r?r.scheduleOnce(n,e):setTimeout(n,1e3*e)})));case 1:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),l.loadPrefab=function(n){return new Promise((function(e){u.load(n,i,(function(n,r){if(n)return console.error(n),void e(null);e(r)}))}))},l.loadView=function(n,e){var r="ui/"+n;return new Promise((function(n){u.load(r,i,(function(n,r,t){e&&e(n,r)}),(function(e,r){n(r)}))}))},l.loadSpriteFrame=function(n){return new Promise((function(e){u.load(n+"/spriteFrame",c,(function(n,r){if(n)return console.error(n),void e(null);e(r)}))}))},l.loadUrlTexture=function(n,e){return new Promise((function(r){s.loadRemote(n,(function(n,t){!n&&t instanceof a?(e&&e(null,t),r(t)):(e&&e(n,null),r(null))}))}))},o}(l));o._RF.pop()}}}));

System.register("chunks:///_virtual/randomUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(n){var t,r,e;return{setters:[function(n){t=n.inheritsLoose},function(n){r=n.cclegacy},function(n){e=n.default}],execute:function(){r._RF.push({},"9a49c5u44NI56+dJq5rr1OW","randomUtils",void 0);n("default",function(n){function r(){return n.apply(this,arguments)||this}t(r,n);var e=r.prototype;return e.limit=function(n,t){n=Math.min(n,t);var r=(t=Math.max(n,t))-n;return n+Math.random()*r},e.limitInteger=function(n,t){return Math.floor(this.limit(n,t+1))},e.rand=function(){return this.limitInteger(1,9)*(this.limitInteger(1,10)%2==0?1:-1)},e.randomArray=function(n){return n?n[Math.floor(Math.random()*n.length)]:null},e.randomArraySplitObj=function(n,t){if(!n)return null;var r=[];n.forEach((function(n){n!=t&&r.push(n)})),r.length<=0&&(r=n);var e=Math.floor(Math.random()*r.length);return r[e]},e.randomByWeight=function(n,t){if(n.length!=t.length)return console.warn("random2输入不合法: arr1.length != arr2.length"),null;for(var r=0,e=0,o=Math.random(),i=t.length-1;i>=0;i--)r+=t[i];o*=r;for(var a=t.length-1;a>=0;a--)if(o<=(e+=t[a]))return n[a];return null},r}(e));r._RF.pop()}}}));

System.register("chunks:///_virtual/RaycastClosest.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,a,o,i,r,s,c,l,u,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,s=t.Camera,c=t.Input,l=t.geometry,u=t.PhysicsSystem,y=t.Component}],execute:function(){var p,f,h,m,v;i._RF.push({},"246f9WtiFJDtq1ceoHRqAMq","RaycastClosest",void 0);var R=r.ccclass,d=r.property;t("RaycastClosest",(p=R("RaycastClosest"),f=d(s),p((v=e((m=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,a(e,"camera",v,o(e)),e.clicktime=0,e}n(e,t);var i=e.prototype;return i.start=function(){this.node.on(c.EventType.TOUCH_END,this.click,this)},i.click=function(t){var e=t.getLocationX(),n=t.getLocationY(),a=new l.Ray;this.camera.screenPointToRay(e,n,a);if(1==u.instance.raycastClosest(a,4294967295,1e7,!0)){var o=u.instance.raycastClosestResult,i=(o.hitPoint,o.hitNormal,o.collider);o.distance;console.warn("点击的是",i.node.name)}else console.log(!1)},e}(y)).prototype,"camera",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=m))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/RunView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./BaseView.ts","./gameEnum.ts","./Common.ts","./GirlModel.ts","./PathMgr.ts"],(function(e){var t,i,n,a,r,o,s,c,l,u,h,m,p,f,v,b,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,u=e.Label,h=e.Input},function(e){m=e.default},function(e){p=e.default},function(e){f=e.default},function(e){v=e.default},function(e){b=e.GirlModel},function(e){w=e.PathMgr}],execute:function(){var g,d,_,R,y,T,C,V,E,O,M,I,S,A,U,H,k;s._RF.push({},"ab4d66aHQ5Iorm7XO4RXu/E","RunView",void 0);var x=c.ccclass,z=c.property;e("RunView",(g=x("RunView"),d=z(b),_=z(l),R=z(l),y=z(l),T=z(l),C=z(u),V=z(w),g((M=t((O=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"role",M,a(t)),n(t,"btnCamere",I,a(t)),n(t,"btnRun",S,a(t)),n(t,"cameraFree",A,a(t)),n(t,"cameraRole",U,a(t)),n(t,"lblCoin",H,a(t)),n(t,"pathMgr",k,a(t)),t._start_x=0,t.clicktime=0,t}i(t,e);var s=t.prototype;return s.start=function(){this.show(f.view.HomeScene),this.cameraFree.active=!1,this.cameraRole.active=!0,window.run=this,window.Common=v,this.node.on(h.EventType.TOUCH_START,this._move,this),this.lblCoin.node.active=!1,m.eventObj.openView(f.view.StartView)},s._move=function(e){switch(e.type){case h.EventType.TOUCH_START:this._start_x=e.getLocationInView().x,this.node.on(h.EventType.TOUCH_MOVE,this._move,this);break;case h.EventType.TOUCH_MOVE:var t=e.getLocationInView().x-this._start_x;Math.abs(t)>40&&(this.node.off(h.EventType.TOUCH_MOVE,this._move,this),t<0?(v.path--,v.path=Math.max(v.path,-1)):(v.path++,v.path=Math.min(v.path,1)))}},s.show=function(){var t;this.arr_btn=[this.btnCamere,this.btnRun],this.arr_event=[{name:m.eName.event_updateRunViewUI,func:this.updateUI},{name:m.eName.event_gameStart,func:this.gameStart},{name:m.eName.event_gameEnd,func:this.gameEnd},{name:m.eName.event_gameInit,func:this.initGame},{name:m.eName.event_gameAgain,func:this.gameAgain}];for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];(t=e.prototype.show).call.apply(t,[this].concat(n)),this.updateUI()},s.click=function(e){console.log("...");var t=(new Date).getTime();if(!(t-this.clicktime<v.clickWaitTime))switch(this.clicktime=t,e.target){case this.btnCamere:this.cameraFree.active=this.cameraRole.active,this.cameraRole.active=!this.cameraFree.active,1==this.cameraRole.active?this.node.on(h.EventType.TOUCH_START,this._move,this):this.node.off(h.EventType.TOUCH_START,this._move,this);break;case this.btnRun:v.isRun=!v.isRun,1==v.isRun?this.role.run():this.role.stand()}},s.updateUI=function(){this.lblCoin.string="金币："+v.coin},s.gameStart=function(){this.lblCoin.node.active=!0,v.isRun=!0,this.role.run()},s.gameEnd=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.isRun=!1,this.role.win(),e.next=4,m.promise.sleep(3);case 4:m.eventObj.openView(f.view.GameResView,f.layer.WINDOW_LAYER,"获得金币："+v.coin);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.initGame=function(e){void 0===e&&(e=!1),v.init(),this.lblCoin.string="金币："+v.coin,this.lblCoin.node.active=!1,this.role.stand(),this.role.init(),this.pathMgr.init(),0==e?m.eventObj.openView(f.view.StartView):m.eventObj.openView(f.view.StartView,f.layer.WINDOW_LAYER,!0)},s.gameAgain=function(){this.initGame(!0)},t}(p)).prototype,"role",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(O.prototype,"btnCamere",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(O.prototype,"btnRun",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(O.prototype,"cameraFree",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(O.prototype,"cameraRole",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(O.prototype,"lblCoin",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(O.prototype,"pathMgr",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=O))||E));s._RF.pop()}}}));

System.register("chunks:///_virtual/singtonClass.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.construct},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"559bbjGpaVFH5tdYFVUF5Hc","singtonClass",void 0);n("default",function(){function n(){}return n.instance=function(){var n=this;if(!n._instance){for(var e=arguments.length,c=new Array(e),s=0;s<e;s++)c[s]=arguments[s];n._instance=t(n,c)}return n._instance},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/StartView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./BaseView.ts","./Common.ts","./TimerModel.ts"],(function(t){var e,i,n,r,a,c,o,l,s,u,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,c=t._decorator,o=t.Node},function(t){l=t.default},function(t){s=t.default},function(t){u=t.default},function(t){f=t.TimerModel}],execute:function(){var p,h,m,g,v,y,b;a._RF.push({},"0e21fqt0XhGeafLtLKvCjqn","StartView",void 0);var w=c.ccclass,d=c.property;t("StartView",(p=w("StartView"),h=d(f),m=d(o),p((y=e((v=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,n(e,"timer",y,r(e)),n(e,"btnBegin",b,r(e)),e.clicktime=0,e}i(e,t);var a=e.prototype;return a.show=function(){var e;this.arr_btn=[this.btnBegin],this.arr_event=[{name:l.eName.event_gameStart,func:this._gameStart}];for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];(e=t.prototype.show).call.apply(e,[this].concat(n)),this.timer.node.active=!1;var a=n[2];1==a&&(this.btnBegin.active=!1,this.timer.playAnim())},a.click=function(t){var e=(new Date).getTime();if(!(e-this.clicktime<u.clickWaitTime))switch(this.clicktime=e,t.target){case this.btnBegin:this.btnBegin.active=!1,this.timer.playAnim()}},a._gameStart=function(){this.closeView()},e}(s)).prototype,"timer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(v.prototype,"btnBegin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/StepModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./Object3D.ts"],(function(e){var t,r,o,n,i,a,s,l,c,d,h,u,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.Prefab,c=e.Node,d=e.MeshRenderer,h=e.Color,u=e.Component},function(e){p=e.default},function(e){b=e.Object3D}],execute:function(){var f,m,g,v,y,P,_,O,I;a._RF.push({},"b2aceLj2uhNDa/LPWXWGrXi","StepModel",void 0);var M=s.ccclass,N=s.property;e("StepModel",(f=M("StepModel"),m=N([l]),g=N(c),v=N(d),f((_=t((P=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"arr_obstaclesPre",_,n(t)),o(t,"root",O,n(t)),o(t,"mesh",I,n(t)),t.arr_node=[],t.index=-1,t}r(t,e);var a=t.prototype;return a.removeSelf=function(e){this.removeObstacles(e),p.pool.setNode(this.node)},a.removeObstacles=function(e){for(var t=this.node.getComponentsInChildren(b),r=0;r<t.length;r++)e.remove(t[r],!1);for(var o=0;o<this.arr_node.length;o++){var n=this.arr_node[o];p.pool.setNode(n)}this.arr_node=[]},a.init=function(e,t){this.index=e,this.index<3||(this.index<15?this.addObstacles():this.index<40?p.rand.limitInteger(1,100)>65?this.addObstacles2():this.addObstacles():this.addObstacles2())},a.addObstacles=function(){var e=p.pool.getNode(p.rand.randomArray(this.arr_obstaclesPre));e.setParent(this.root),e.setPosition(p.rand.limitInteger(-2500,2500)/1e3,1,0),this.arr_node.push(e)},a.addObstacles2=function(){var e=p.pool.getNode(p.rand.randomArray(this.arr_obstaclesPre));e.setParent(this.root),e.setPosition(p.rand.limitInteger(-2500,-400)/1e3,1,0);var t=p.pool.getNode(p.rand.randomArray(this.arr_obstaclesPre));t.setParent(this.root),t.setPosition(p.rand.limitInteger(400,2500)/1e3,1,0),this.arr_node.push(e),this.arr_node.push(t)},i(t,[{key:"opacity",set:function(e){var t=this.mesh.getMaterialInstance(0),r=new h(92,225,192,e);t.setProperty("albedo",r);var o=this.mesh.getMaterialInstance(1),n=new h(248,189,137,e);o.setProperty("albedo",n)}}]),t}(u)).prototype,"arr_obstaclesPre",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=t(P.prototype,"root",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(P.prototype,"mesh",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=P))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/storageUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(e){var t,o,n,r;return{setters:[function(e){t=e.inheritsLoose,o=e.createClass},function(e){n=e.cclegacy},function(e){r=e.default}],execute:function(){n._RF.push({},"09080Ms2G1Dr4zlpdhea8mK","storageUtils",void 0);e("default",function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.set=function(e,t){var o="object"==typeof t?JSON.stringify(t):t;window.localStorage.setItem(e,o)},r.get=function(e,t){void 0===t&&(t=!0);var o=window.localStorage.getItem(e);if(o){if(t)try{return JSON.parse(o)}catch(e){return o}return o}return null},r.remove=function(e){window.localStorage.removeItem(e)},r.getCookie=function(e){for(var t=document.cookie.split("; "),o=0;o<t.length;o++){var n=t[o].split("=");if(n[0]===e)return decodeURIComponent(n[1])}return null},r.setCookie=function(e,t,o,n,r,i){void 0===o&&(o=0);var c=encodeURIComponent(e)+"="+encodeURIComponent(t);if(o){var s=new Date;c+="; expires="+new Date(s.getTime()+24*o*60*60*1e3).toUTCString()}n&&(c+="; path="+n),r&&(c+="; domain="+r),i&&(c+="; secure"),document.cookie=c},o(n,[{key:"cookie",get:function(){return{getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,o,n,r,i){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var c="";if(o)switch(o.constructor){case Number:c=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:c="; expires="+o;break;case Date:c="; expires="+o.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+c+(r?"; domain="+r:"")+(n?"; path="+n:"")+(i?"; secure":""),!0},removeItem:function(e,t,o){return!(!e||!this.hasItem(e))&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(o?"; domain="+o:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[-.+*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},get keys(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=0;t<e.length;t++)e[t]=decodeURIComponent(e[t]);return e}}}}]),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/stringUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(t){var r,n,o;return{setters:[function(t){r=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.default}],execute:function(){n._RF.push({},"5814eL5D8VHPIgTuM6j8+x/","stringUtils",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var o=n.prototype;return o.numberTotPermil=function(t){return t.toLocaleString()},o.numberToThousand=function(t,r){void 0===r&&(r=2);var n=1e3;if(t<n)return t.toString();var o=Math.floor(Math.log(t)/Math.log(n));return(t/Math.pow(n,o)).toFixed(r)+["","K","M","G"][o]},o.numberToTenThousand=function(t,r){void 0===r&&(r=2);var n=1e4;if(t<n)return t.toString();var o=Math.floor(Math.log(t)/Math.log(n));return(t/Math.pow(n,o)).toFixed(r)+["","万","亿","万亿"][o]},o.stringToArray1=function(t){return""==t?[]:t.split(",")},o.sub=function(t,r,n){void 0===n&&(n=!1);var o=/[^\x00-\xff]/g;if(t.replace(o,"mm").length<=r)return t;for(var e=Math.floor(r/2);e<t.length;e++)if(t.substr(0,e).replace(o,"mm").length>=r)return n?t.substr(0,e)+"...":t.substr(0,e);return t},o.stringLen=function(t){for(var r=0,n=t.length,o=-1,e=0;e<n;e++)r+=(o=t.charCodeAt(e))>=0&&o<=128?1:2;return r},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/T_Demo.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var r,i,e,n,a,o,s,h,u,c;return{setters:[function(t){r=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,s=t._decorator,h=t.Node,u=t.v3,c=t.Component}],execute:function(){var p,_,d,l,z,x,f,M,m,b,y;o._RF.push({},"585a8E6KO5LVLptmcZYIWN/","T_Demo",void 0);var g=s.ccclass,v=s.property;t("T_Demo",(p=g("T_Demo"),_=v(h),d=v(h),l=v(h),z=v(h),p((M=r((f=function(t){function r(){for(var r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(r=t.call.apply(t,[this].concat(a))||this)._index=1,e(r,"nodeMap1",M,n(r)),e(r,"nodeMap2",m,n(r)),e(r,"nodeMap3",b,n(r)),e(r,"nodeMap4",y,n(r)),r.arr_p=[u(-9.8,0,-59.4),u(-9.8,0,717.6),u(-24.4,0,732.2),u(-801.4,0,732.2),u(-816,0,717.6),u(-816,0,-59.4),u(-801.4,0,-74),u(-24.4,0,-74)],r.arr_distance=[],r.arr_distance_inner=[],r.arr_distance_outer=[],r.arr_p_inner=[],r.arr_p_outer=[],r.arr_proportion=[],r.count_distance=0,r.accuracy=1e5,r.radius=14.6,r._path=0,r._speed=3070,r._run=0,r}i(r,t);var o=r.prototype;return o.onLoad=function(){this.node.setPosition(-9.8,0,-62),this.node.setRotationFromEuler(0,0,0),this.init(),window.t_demo=this,window.v3=u},o.start=function(){},o.init=function(){for(var t=this.arr_p[0],r=this.arr_p[1],i=this.arr_p[2],e=this.arr_p[3],n=r.z-t.z,a=i.x-e.x,o=this.radius,s=Math.PI*o/2,h=[n,s,a,s,n,s,a,s],c=0,p=0;p<h.length;p++)c+=h[p];for(var _=0;_<h.length;_++)this.arr_proportion[_]=Math.floor(h[_]/c*this.accuracy);this.arr_distance=h,this.count_distance=c,console.log(this.arr_proportion),console.log(this.count_distance);var d=this.arr_p;this.arr_p_outer=[u(d[0].x+3,0,d[0].z),u(d[1].x+3,0,d[1].z),u(d[2].x,0,d[2].z+3),u(d[3].x,0,d[3].z+3),u(d[4].x-3,0,d[4].z),u(d[5].x-3,0,d[5].z),u(d[6].x,0,d[6].z-3),u(d[7].x,0,d[7].z-3)],this.arr_p_inner=[u(d[0].x-3,0,d[0].z),u(d[1].x-3,0,d[1].z),u(d[2].x,0,d[2].z-3),u(d[3].x,0,d[3].z-3),u(d[4].x+3,0,d[4].z),u(d[5].x+3,0,d[5].z),u(d[6].x,0,d[6].z+3),u(d[7].x,0,d[7].z+3)],o=this.radius+3,s=Math.PI*o/2,this.arr_distance_outer=[n,s,a,s,n,s,a,s],o=this.radius-3,s=Math.PI*o/2,this.arr_distance_inner=[n,s,a,s,n,s,a,s]},o.run1=function(t){var r=t%this.accuracy,i=0;for(i=0;i<this.arr_proportion.length&&r>this.arr_proportion[i];i++)r-=this.arr_proportion[i];var e=this.unifiedArrP[i].clone(),n=this.unifiedRadius,a=r/this.arr_proportion[i],o=0,s=0,h=a*Math.PI/2;switch(i){case 0:e.z=e.z+this.arr_distance[i]*a,this.node.setRotationFromEuler(0,0,0);break;case 1:o=n-Math.cos(h)*n,s=Math.sin(h)*n,e.x=e.x-o,e.z=e.z+s,this.node.setRotationFromEuler(0,-90*a,0);break;case 2:e.x=e.x-this.arr_distance[i]*a,this.node.setRotationFromEuler(0,-90,0);break;case 3:o=n-Math.cos(h)*n,s=Math.sin(h)*n,e.x=e.x-s,e.z=e.z-o,this.node.setRotationFromEuler(0,-90*a-90,0);break;case 4:e.z=e.z-this.arr_distance[i]*a,this.node.setRotationFromEuler(0,-180,0);break;case 5:o=n-Math.cos(h)*n,s=Math.sin(h)*n,e.x=e.x+o,e.z=e.z-s,this.node.setRotationFromEuler(0,-90*a-180,0);break;case 6:e.x=e.x+this.arr_distance[i]*a,this.node.setRotationFromEuler(0,90,0);break;case 7:o=n-Math.cos(h)*n,s=Math.sin(h)*n,e.x=e.x+s,e.z=e.z+o,this.node.setRotationFromEuler(0,90-90*a,0)}this.node.setPosition(e)},o.update=function(t){var r=t*this._speed;this._run+=r,this._run=this._run%this.accuracy,this.run1(this._run)},a(r,[{key:"unifiedArrP",get:function(){return 1==this._path?this.arr_p_outer:-1==this._path?this.arr_p_inner:this.arr_p}},{key:"unifiedRadius",get:function(){return 1==this._path?this.radius+3:-1==this._path?this.radius-3:this.radius}}]),r}(c)).prototype,"nodeMap1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=r(f.prototype,"nodeMap2",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=r(f.prototype,"nodeMap3",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=r(f.prototype,"nodeMap4",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=f))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/Table.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts"],(function(e){var r,t,o,n,l,i,a,s,u,c,p,d,f,g,h;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,i=e._decorator,a=e.Prefab,s=e.Node,u=e.CylinderCollider,c=e.v3,p=e.Tween,d=e.tween,f=e.RigidBody,g=e.Component},function(e){h=e.default}],execute:function(){var y,b,v,T,_,m,w,D,R,C;l._RF.push({},"be2d6ZN5upI8bKwvC/PcAsT","Table",void 0);var P=i.ccclass,z=i.property;e("Table",(y=P("Table"),b=z([a]),v=z(s),T=z(u),y(((C=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),i=0;i<t;i++)l[i]=arguments[i];return r=e.call.apply(e,[this].concat(l))||this,o(r,"arr_preDoll",w,n(r)),o(r,"nodeRoot",D,n(r)),o(r,"collider",R,n(r)),r}t(r,e);var l=r.prototype;return l.start=function(){r.arr_doll=[];for(var e=0;e<8;e++){var t=h.pool.getNode(this.arr_preDoll[e%this.arr_preDoll.length]);t.parent=this.nodeRoot;var o=2*Math.PI/8*e;t.setPosition(c(Math.cos(o),0,Math.sin(o))),t.setRotationFromEuler(c(0,90-45*e,0)),r.arr_doll.push(t)}var n=this.node;p.stopAllByTarget(n),d(n).repeatForever(d().set({eulerAngles:c(0,0,0)}).to(20,{eulerAngles:c(0,359,0)})).start(),this.collider.on("onTriggerEnter",this.onTriggerStay,this)},l.onTriggerStay=function(e){console.log(e.type,e);var r=e.otherCollider.node.getComponent(f),t=r.mass/3;r.applyForce(c(0,-100*t,300*t))},l.update=function(e){},r}(g)).arr_doll=[],w=r((m=C).prototype,"arr_preDoll",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=r(m.prototype,"nodeRoot",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(m.prototype,"collider",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=m))||_));l._RF.pop()}}}));

System.register("chunks:///_virtual/TestView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./BaseListView.ts","./List.ts"],(function(e){var n,a,t,r,i,m,o,s,c,u,l,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,a=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,m=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,c=e.Sprite},function(e){u=e.default},function(e){l=e.BaseListView},function(e){p=e.default}],execute:function(){var f,h,v,y,d,w,g;o._RF.push({},"07a8320u1pHobSUXEPvRB8n","TestView",void 0);var b=s.ccclass,V=s.property;e("TestView",(f=b("TestView"),h=V(p),v=V(c),f((w=n((d=function(e){function n(){for(var n,a=arguments.length,i=new Array(a),m=0;m<a;m++)i[m]=arguments[m];return n=e.call.apply(e,[this].concat(i))||this,t(n,"listV",w,r(n)),t(n,"imgIcon",g,r(n)),n}a(n,e);var o=n.prototype;return o.show=function(){var n;this.arr_btn=[],this.arr_event=[];for(var a=arguments.length,t=new Array(a),r=0;r<a;r++)t[r]=arguments[r];(n=e.prototype.show).call.apply(n,[this].concat(t));for(var i=[{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"贵州省安顺市西秀区宋旗镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"},{name:"宁夏回族自治区银川市贺兰县洪广镇"},{name:"安徽省池州市贵池区杏花村街道"},{name:"黑龙江省哈尔滨市五常市山河屯林业局"},{name:"江西省九江市德安县磨溪乡"},{name:"陕西省榆林市吴堡县张家山镇"}],m=0;m<i.length;m++)i[m].index=m;this.updateUI(i)},o.updateUI=function(){this.arrData=arguments.length<=0?void 0:arguments[0],this.listV.refreshData(this.arrData)},o.loadIcon=function(){var e=i(m().mark((function e(){var n=this;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"icon/1",u.promise.loadSpriteFrame("icon/1").then((function(e){n.imgIcon.spriteFrame=e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n}(l)).prototype,"listV",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(d.prototype,"imgIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=d))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/TimerModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts"],(function(e){var t,n,r,i,o,a,c,s,l,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,l=e.Node,u=e.Component},function(e){p=e.default}],execute:function(){var d,f,m,h,v,y,b,g,w;c._RF.push({},"505b9mNamlJGYFGAZalAIyA","TimerModel",void 0);var T=s.ccclass,x=s.property;e("TimerModel",(d=T("TimerModel"),f=x(l),m=x(l),h=x(l),d((b=t((y=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"node1",b,i(t)),r(t,"node2",g,i(t)),r(t,"node3",w,i(t)),t}return n(t,e),t.prototype.playAnim=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.node.active=!0,this.node2.active=!1,this.node1.active=!1,this.node3.active=!0,e.next=6,p.promise.sleep(1);case 6:return this.node3.active=!1,this.node2.active=!0,e.next=10,p.promise.sleep(1);case 10:return this.node2.active=!1,this.node1.active=!0,e.next=14,p.promise.sleep(1);case 14:this.node.active=!1,p.event.emit(p.eName.event_gameStart);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(u)).prototype,"node1",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(y.prototype,"node2",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(y.prototype,"node3",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/Torus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./DollCylinderModel.ts","./DollView.ts","./Table.ts"],(function(t){var e,o,n,i,r,s,l,a,u,d,c,h,y,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.RigidBody,a=t.Node,u=t.v3,d=t.Component},function(t){c=t.default},function(t){h=t.DollCylinderModel},function(t){y=t.DollView},function(t){p=t.Table}],execute:function(){var f,g,v,b,m,R,P,W,C;r._RF.push({},"55b210hdDJPCpG2A8H+kr8f","Torus",void 0);var D=s.ccclass,M=s.property;t("Torus",(f=D("Torus"),g=M(l),v=M(a),b=M(a),f((P=e((R=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,n(e,"body",P,i(e)),e.v=u(),e.isRun=!1,n(e,"nodeOuter",W,i(e)),n(e,"nodeInner",C,i(e)),e.outerRadius=.345,e.innerRadius=.285,e}o(e,t);var r=e.prototype;return r.onLoad=function(){this.body=this.getComponent(l)},r.start=function(){var t=this.node.getWorldPosition(),e=this.nodeOuter.getWorldPosition(),o=this.nodeInner.getWorldPosition(),n=c.vector.distance(t,e),i=c.vector.distance(t,o);console.error(n,i)},r.run=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.body.useGravity=!0;var o=Math.abs(t)+Math.abs(e),n=1.1*this.body.mass,i=c.rand.randomArray([.5,.6,.7,.8]);this.body.applyForce(u(t*n*.5,o*i*n,e*n*-.5))},r.updateRoleX=function(t){var e=this.node.getWorldPosition(),o=t/375*.3;o=Math.max(o,-.3),o=Math.min(o,.3),e.x=o,this.node.setWorldPosition(e)},r.update=function(){if(0!=this.body.useGravity){this.body.getLinearVelocity(this.v);var t=this.v.length();if(t>3&&0==this.isRun&&(this.isRun=!0),0!=this.isRun&&t<.1){var e=this.node.getWorldPosition();if(e.y>.5)return;e.y=0;for(var o=0;o<p.arr_doll.length;o++){var n=p.arr_doll[o].getComponent(h);1==this.isRingOnCylinder(n)&&(y.score+=1,this.remove())}this.remove()}}},r.isRingOnCylinder=function(t){var e=t.nodeEnd.getWorldPosition(),o=t.nodeStart.getWorldPosition(),n=this.node.getWorldPosition(),i=e.clone().subtract(o),r=o.clone().subtract(n),s=e.clone().subtract(n),l=i.clone().multiplyScalar(r.dot(i)/i.dot(i)),a=i.clone().multiplyScalar(s.dot(i)/i.dot(i)),u=i.length();if(l.length()>u||l.length()<0||a.length()>u||a.length()<0)return!1;var d=r.subtract(l).length(),c=s.subtract(a).length(),h=d>this.outerRadius,y=d<this.innerRadius,p=c>this.outerRadius,f=c<this.innerRadius;return console.error(h,y,p,f),!h&&!p},r.remove=function(){this.node.destroy()},e}(d)).prototype,"body",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(R.prototype,"nodeOuter",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(R.prototype,"nodeInner",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=R))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/tweenUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./singtonClass.ts"],(function(t){var e,o,a,n,r,s;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,a=t.tween,n=t.Tween},function(t){r=t.default},function(t){s=t.default}],execute:function(){o._RF.push({},"cca10ajGaBI/qso0Dv/q/UF","tweenUtils",void 0);t("default",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var s=o.prototype;return s.labTween=function(t,e,o){void 0===o&&(o=.5);var n=Number(t.string);a({a:n}).to(o,{a:e},{progress:function(e,o,a,n){var r=e,s=o-r,l=Math.round(s*n+r);return t&&(t.string=String(l)),0}}).start()},s.sharkTween=function(t,e){void 0===e&&(e=8.5),n.stopAllByTarget(t),a(t).repeatForever(a().set({angle:0}).to(e,{angle:359})).start()},s.guideFingerTween=function(t){n.stopAllByTarget(t),a(t).repeatForever(a().set({x:0,y:0,scale:1}).to(.8,{x:50,y:-50,scale:1.2}).to(.8,{x:0,y:0,scale:1})).start()},s.scaleShow=function(t){n.stopAllByTarget(t),a(t).set({scale:r.vector.getV3(.7)}).to(.05,{scale:r.vector.getV3(.9)}).to(.05,{scale:r.vector.getV3(.7)}).call((function(){t.active=!0})).start()},s.scaleDelayShow=function(t,e){n.stopAllByTarget(t),a(t).call((function(){t.active=!1})).delay(e).call((function(){t.active=!0})).set({scale:r.vector.getV3(.7)}).to(.05,{scale:r.vector.getV3(.9)}).to(.05,{scale:r.vector.getV3(.7)}).start()},s.stopAllByTarget=function(t){n.stopAllByTarget(t)},s.scaleTween=function(t,e,o,r){void 0===r&&(r=.5),n.stopAllByTarget(t),a(t).repeatForever(a().set({scale:o}).to(r,{scale:e}).to(r,{scale:o})).start()},s.floatTween=function(t,e){void 0===e&&(e=.8),n.stopAllByTarget(t),a(t).repeatForever(a().set({y:0}).to(e,{y:40})).start()},o}(s));o._RF.pop()}}}));

System.register("chunks:///_virtual/uiManagerUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InterfaceUrl.ts","./app.ts","./singtonClass.ts","./gameEnum.ts"],(function(e){var t,n,i,o,a,s,l,r,c,u,h,f;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e.resources,s=e.Prefab,l=e.assetManager,r=e.instantiate},function(e){c=e.default},function(e){u=e.default},function(e){h=e.default},function(e){f=e.default}],execute:function(){o._RF.push({},"872c67/+vlJ/pXaCQotUD6S","uiManagerUtils",void 0);e("default",function(e){function o(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._dictPanel=new Map,t._dictComp=new Map,t._isLoading=new Map,t._bundleConfig=new Map,t._listIsShow=new Map,t}t(o,e);var h=o.prototype;return h.init=function(){},h.show=function(e,t){if(e&&(this._listIsShow.set(e,!0),1!=this._dictPanel.has(e)))if(1!=this._isLoading.has(e)||1!=this._isLoading.get(e)){this._isLoading.set(e,!0),u.eventObj.showViewWait();for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];1==f.isRemoteView[e]?this.loadPrefabForBundle.apply(this,[e,t].concat(i)):this.loadPrefab.apply(this,[e,t].concat(i))}else console.log(e,"is load")},h.loadPrefab=function(e,t){for(var n=this,i=arguments.length,o=new Array(i>2?i-2:0),l=2;l<i;l++)o[l-2]=arguments[l];var r="ui/"+e;a.load(r,s,(function(i,a){if(n._isLoading.set(e,!1),u.eventObj.hideViewWait(),i)return console.log(" === === === === === === === === === === === === === === === "),console.warn("本地加载prefab失败：",e),void console.log(" === === === === === === === === === === === === === === === ");n.showNode(!1,a,e,t,e,o)}))},h.loadPrefabForBundle=function(e,t){for(var n=this,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];var r="http://192.168.2.35:1688/bundle_ui",h="ui/"+e;l.loadBundle(r,(function(i,a){if(i)return n._isLoading.set(e,!1),u.eventObj.hideViewWait(),void console.error("Failed to load bundle: "+r);REHome&&REHome.init&&REHome.init(u,c.config.pid,c.config.sn,c.url),a.load(h,s,(function(i,a){n._isLoading.set(e,!1),u.eventObj.hideViewWait(),i?console.error("Failed to load prefab: "+i):n.showNode(!0,a,e,t,e,o)}))}))},h.showNode=function(){var e=n(i().mark((function e(t,n,o,a,s,l){var c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._listIsShow.has(o)||0!=this._listIsShow.get(o)){e.next=3;break}return console.log("打开页面时 在加载过程中 调用了hide"),e.abrupt("return");case 3:c=r(n),this._dictPanel.set(o,c),c.parent=l[0],this.showCallBack.apply(this,[t,c,a,o].concat(l));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,i,o,a,s){return e.apply(this,arguments)}}(),h.showCallBack=function(e,t,n){for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];var s=o[0];if(s){var l=s.split("/"),r=l[l.length-1];if(r)if(1==e){var c,u=this._bundleConfig.get(s),h=t.getComponent(r);u?h.init(u.showComplete,u.hideComplete):h.init(null,null),h&&(null==h||null==(c=h.show)||c.call.apply(c,[h].concat(o))),n&&n(),this._dictComp.set(s,h)}else{var f,d=t.getComponent(r);d&&(null==d||null==(f=d.show)||f.call.apply(f,[d].concat(o))),n&&n(),this._dictComp.set(s,d)}else console.error(o[0]+" getComponent is error")}},h.getView=function(e){return this._dictPanel.has(e)?this._dictPanel.get(e):null},h.getViewComp=function(e){return this._dictComp.has(e)?this._dictComp.get(e):null},h.updateRemoteView=function(e){var t=u.uiMgr.getViewComp(f.view.NONE);if(t)if(t.updateForHome){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];t.updateForHome.apply(t,i)}else console.warn("updateForHome is null:",e);else console.warn("comp is null:",e)},h.hide=function(e,t){var n=this;if(this._listIsShow.set(e,!1),0!=this._dictPanel.has(e)){var i=e;if(i){var o=i.split("/"),a=o[o.length-1],s=this._dictPanel.get(e);if(t&&t(),s){var l=s.getComponent(a);if(l){for(var r=arguments.length,c=new Array(r>2?r-2:0),u=2;u<r;u++)c[u-2]=arguments[u];l.hide&&l.hide.call(l,c),l.hideEffect&&l.hideEffect.call(l,(function(){n.panelDestroy(e,s,l)}))}else this.panelDestroy(e,s,l)}}}else"WaitView"!=e&&console.log("不存在:",e)},h.panelDestroy=function(e,t,n){t.removeFromParent(),n&&(null==n||n.off()),this._dictPanel.delete(e),t.destroyAllChildren(),t.destroy()},h.isShow=function(e){return!(!this._listIsShow.has(e)||1!=this._listIsShow.get(e))},o}(h));o._RF.pop()}}}));

System.register("chunks:///_virtual/urlUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(t){var n,o,e,i;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){e=t.cclegacy},function(t){i=t.default}],execute:function(){e._RF.push({},"7925fKyu05G3r43nc4Zdo8B","urlUtils",void 0);t("default",function(t){function e(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this).param=null,n}return n(e,t),o(e,[{key:"searchParam",get:function(){var t={};if(window.document.location){var n=decodeURIComponent(window.document.location.hash);if(n=n.split("#")[1])for(var o=n.split("&"),e=0;e<o.length;e++)t[o[e].split("=")[0]]=o[e].split("=")[1];var i=decodeURIComponent(window.document.location.search);if(i=i.split("?")[1])for(o=i.split("&"),e=0;e<o.length;e++)t[o[e].split("=")[0]]=o[e].split("=")[1]}return this.param=t,t}},{key:"searchHerf",get:function(){var t={};if(window.document.location){var n=decodeURIComponent(window.location.href);if(n=n.split("?")[1])for(var o=n.split("&"),e=0;e<o.length;e++)t[o[e].split("=")[0]]=o[e].split("=")[1]}return t}}]),e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/vectorUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./singtonClass.ts"],(function(n){var e,t,r,u,a,o,i,l;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){r=n.cclegacy,u=n.v3,a=n.Vec3,o=n.Mat4},function(n){i=n.default},function(n){l=n.default}],execute:function(){r._RF.push({},"dfb0ajYIdpAW6CvGNNcbItW","vectorUtils",void 0);n("default",function(n){function r(){return n.apply(this,arguments)||this}e(r,n);var l=r.prototype;return l.getV3=function(n){return u(n,n,n)},l.progress=function(n,e,t){var r=new a;return r.x=i.math.progress(n.x,e.x,t),r.y=i.math.progress(n.y,e.y,t),r.z=i.math.progress(n.z,e.z,t),r},l.add=function(n,e){var t=new a;return a.add(t,n,e),t},l.sub=function(n,e){var t=new a;return a.subtract(t,n,e),t},l.mul=function(n,e){var t=new a;return a.multiplyScalar(t,n,e),t},l.div=function(n,e){var t=new a;return t.x=n.x/e,t.y=n.y/e,t.z=n.z/e,t},l.equals=function(n,e){return n.x==e.x&&n.y==e.y&&n.z==e.z},l.magnitude=function(n){return n.length()},l.normalize=function(n){return new a(n.x,n.y,n.z).normalize()},l.direction=function(n,e){var t=new a;return a.subtract(t,e,n),t.normalize()},l.distance=function(n,e){return a.distance(n,e)},l.lerp=function(n,e,t){return this.bezierOne(t,n,e)},l.slerp=function(n,e,t){if(t<=0)return n;if(t>=1)return e;var r=this.rotateTo(n,e,a.angle(n,e)/Math.PI*180*t),u=e.length()*t+n.length()*(1-t);return r.normalize().multiplyScalar(u)},l.rotateTo=function(n,e,t){if(0==a.angle(n,e))return e;var r=new a;a.cross(r,n,e),r.normalize();var u=t*Math.PI/180,i=new o;return i.rotate(u,r),new a(Number((n.x*i.m00+n.y*i.m04+n.z*i.m08).toFixed(6)),Number((n.x*i.m01+n.y*i.m05+n.z*i.m09).toFixed(6)),Number((n.x*i.m02+n.y*i.m06+n.z*i.m10).toFixed(6)))},l.bezierOne=function(n,e,t){n>1?n=1:n<0&&(n=0);var r=e.clone(),u=t.clone();return r.multiplyScalar(1-n).add(u.multiplyScalar(n))},l.bezierTwo=function(n,e,t,r){n>1?n=1:n<0&&(n=0);var u=1-n,a=n*n,o=e.clone(),i=e.clone(),l=t.clone(),c=r.clone();return i.add(o.multiplyScalar(u*u)),i.add(l.multiplyScalar(2*u*n)),i.add(c.multiplyScalar(a)),i},l.bezierThree=function(n,e,t,r,u){n>1?n=1:n<0&&(n=0);var a=1-n,o=a*a,i=o*a,l=n*n,c=l*n,s=e.clone(),y=e.clone(),f=t.clone(),d=r.clone(),m=u.clone();return y.add(s.multiplyScalar(i)),y.add(f.multiplyScalar(3*o*n)),y.add(d.multiplyScalar(3*a*l)),y.add(m.multiplyScalar(c)),y},l.dot=function(n,e){var t=n,r=e;return t.x*r.x+t.y*r.y+t.z*r.z},l.cross=function(n,e){var t=new a(1,0,0),r=new a(0,1,0),u=new a(0,0,1),o=new a(n.x,n.y,n.z),i=new a(e.x,e.y,e.z),l=t.multiplyScalar(o.y*i.z-i.y*o.z),c=r.multiplyScalar(i.x*o.z-o.x*i.z),s=u.multiplyScalar(o.x*i.y-i.x*o.y);return l.add(c).add(s)},l.angle=function(n,e){var t=this.dot(n.clone().normalize(),e.clone().normalize());return Math.acos(t)/Math.PI*180*Math.sign(t)},l.dirAngle=function(n,e){var t=this.cross(n,e);return this.angle(n,e)*Math.sign(this.dot(t.normalize(),this.cross(e.normalize(),n.normalize())))},l.vectorAtoB=function(n,e){return u(e.x-n.x,e.y-n.y,e.z-n.z)},t(r,[{key:"x",get:function(){return new a(1,0,0)}},{key:"y",get:function(){return new a(0,1,0)}},{key:"z",get:function(){return new a(0,0,1)}},{key:"left",get:function(){return new a(-1,0,0)}},{key:"right",get:function(){return new a(1,0,0)}},{key:"up",get:function(){return new a(0,1,0)}},{key:"down",get:function(){return new a(0,-1,0)}},{key:"forward",get:function(){return new a(0,0,1)}},{key:"back",get:function(){return new a(0,0,-1)}},{key:"one",get:function(){return new a(1,1,1)}},{key:"zero",get:function(){return new a(0,0,0)}}]),r}(l));r._RF.pop()}}}));

System.register("chunks:///_virtual/viewMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts","./gameEnum.ts","./ModelTips.ts"],(function(e){var t,i,n,r,o,a,l,u,s,c,f,h,p,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,u=e.Prefab,s=e.tween,c=e.Tween,f=e.v3,h=e.Component},function(e){p=e.default},function(e){d=e.default},function(e){y=e.ModelTips}],execute:function(){var v,w,_,b,g,T,m,N,L,E,W,A,O,I,z,C,D,M,S;o._RF.push({},"217a4quqc1Pa5GeK0j/Fzau","viewMgr",void 0);var P=a.ccclass,k=a.property,B=a.executionOrder;e("default",(v=B(-300),w=k(l),_=k(l),b=k(l),g=k(l),T=k(l),m=k(u),N=k(l),L=k(l),P(E=v((A=t((W=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"sceneLayer",A,r(t)),n(t,"effectLayer",O,r(t)),n(t,"windowLayer",I,r(t)),n(t,"waitLayer",z,r(t)),n(t,"topLayer",C,r(t)),n(t,"prefabToast",D,r(t)),n(t,"node_null",M,r(t)),n(t,"node_wait",S,r(t)),t}i(t,e);var o=t.prototype;return o.start=function(){p.event.on(p.eName.OPEN_VIEW,this.show,this),p.event.on(p.eName.OPEN_VIEW_AND_RUN_FUNC,this.showCallBack,this),p.event.on(p.eName.CLOSE_VIEW,this.hide,this),p.event.on(p.eName.TOAST,this.toast,this),p.event.on(p.eName.SHOW_WAIT,this.showWait,this),p.event.on(p.eName.HIDE_WAIT,this.hideWait,this),this.node_null.on(l.EventType.TOUCH_END,this._click,this),s(this.node_wait).repeatForever(s().set({angle:0}).to(3,{angle:359})).start(),this.waitLayer.active=!1},o.showWait=function(){this.waitLayer.active=!0},o.hideWait=function(){this.waitLayer.active=!1},o.onDestroy=function(){p.event.offAll(this),this.node_null.off(l.EventType.TOUCH_END,this._click,this),c.stopAllByTarget(this.node_wait)},o._click=function(){},o.show=function(e,t){void 0===e&&(e=d.view.TOAST_VIEW),void 0===t&&(t=d.layer.WINDOW_LAYER);var i=this.node.getChildByName(t);if(i){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];(n=p.uiMgr).show.apply(n,[e,null,i].concat(o))}else console.error("层级不存在：",t)},o.showCallBack=function(e,t,i){void 0===e&&(e=d.view.TOAST_VIEW),void 0===t&&(t=d.layer.WINDOW_LAYER);var n=this.node.getChildByName(t);if(n){for(var r,o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];(r=p.uiMgr).show.apply(r,[e,i,n].concat(a))}else console.error("层级不存在：",t)},o.hide=function(e){void 0===e&&(e=d.view.TOAST_VIEW),p.uiMgr.hide(e)},o.toast=function(e,t,i){if(void 0===t&&(t=.5),void 0===i&&(i=3),!(i<=0)){var n=p.pool.getNode(this.prefabToast);if(n){this.effectLayer.addChild(n),n.setPosition(f(0,160,0));var r=n.getComponent(y);r.setData(e),r.show(t)}else{var o=i-1;p.event.emit(p.eName.TOAST,e,t,o)}}},t}(h)).prototype,"sceneLayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(W.prototype,"effectLayer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(W.prototype,"windowLayer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(W.prototype,"waitLayer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(W.prototype,"topLayer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(W.prototype,"prefabToast",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(W.prototype,"node_null",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(W.prototype,"node_wait",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=W))||E)||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/viewUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./singtonClass.ts"],(function(e){var o,t,n,r,c,a;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e.UITransform,r=e.v3,c=e.Size},function(e){a=e.default}],execute:function(){t._RF.push({},"9fe22RoeJ5JlK8IXaninKN7","viewUtils",void 0);e("default",function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var a=t.prototype;return a.calculateASpaceToBSpacePos=function(e,o,t){var r=e.getComponent(n).convertToWorldSpaceAR(t);return o.getComponent(n).convertToNodeSpaceAR(r)},a.calculateScreenPosToSpacePos=function(e,o){var t=e.getUILocation(),c=r(t.x,t.y);return o.getComponent(n).convertToNodeSpaceAR(c)},a.uniformScale=function(e,o,t,n){var r,a=t/e,i=n/o;return r=a<i?a:i,new c(Math.floor(e*r),Math.floor(o*r))},t}(a));t._RF.pop()}}}));

System.register("chunks:///_virtual/WaveModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app.ts"],(function(t){var e,o,n,i,s,r,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,i=t.Tween,s=t.tween,r=t.v3,a=t.Component},function(t){c=t.default}],execute:function(){var l;o._RF.push({},"1e22898WQlL9pFqEFUBEmHk","WaveModel",void 0);var u=n.ccclass;n.property,t("WaveModel",u("WaveModel")(l=function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var n=o.prototype;return n.start=function(){window.wave=this},n.update=function(t){},n.showAnim=function(t,e,o){var n=this;void 0===t&&(t=.4),void 0===e&&(e=1),void 0===o&&(o=3),i.stopAllByTarget(this.node),s(this.node).set({scale:r(e,.002,e)}).to(t,{scale:r(o,.002,o)}).call((function(){c.pool.setNode(n.node)})).start()},n.hideAnim=function(){i.stopAllByTarget(this.node)},o}(a))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/World.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Collision.ts","./Debug.ts","./ObjNode.ts","./Octree.ts"],(function(e){var t,r,i,n,o,s,a,l,u,c,h,f,v,b,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.CCInteger,l=e.Vec3,u=e.Mat4,c=e.Color,h=e.Component},function(e){f=e.Collision},function(e){v=e.Debug},function(e){b=e.ObjNode},function(e){g=e.Octree,p=e.GetMaxLevel}],execute:function(){var d,y,m,j,O,x,w,z,D,C,L,N,T;o._RF.push({},"7c8abXRkTBOfKZiIsLmJ+o5","World",void 0);var B=s.ccclass,I=s.property;e("World",(d=B("World"),y=I({group:"Octree"}),m=I({type:a,group:"Octree",step:1,min:1,max:6}),j=I({type:a,group:"Octree",step:1,min:1,max:16}),O=I({group:"Octree"}),x=I({group:"Octree"}),d((D=t((z=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"debug",D,n(t)),i(t,"maxLevels",C,n(t)),i(t,"maxObjects",L,n(t)),i(t,"center",N,n(t)),i(t,"halfSize",T,n(t)),t.octree=void 0,t.flag=0,t.result=[],t.objects=[],t.collision=new f,t}r(t,e);var o=t.prototype;return o.start=function(){this.preBuild()},o.preBuild=function(){var e=this.center,t=this.halfSize;l.max(t,t,l.ONE);var r=[e.x,e.y,e.z,t.x,t.y,t.z];this.octree=new g(r,this.maxObjects<<8|this.maxLevels)},o.insert=function(e){var t=e.updateBounds(!0);if(t.length){this.objects.push(e);var r=e.objNodes;if(r&&r.length>0){for(var i=0;i<r.length;i++)this.octree.insert(r[i]);return}for(var n=t.length-1;n>=0;n--){var o=new b(e,e.id,n,t[n]);p(o,this.octree,1),this.octree.insert(o),r.push(o)}}},o.remove=function(e,t){void 0===t&&(t=!0);var r=this.objects,i=r.indexOf(e);if(-1!=i){for(var n=e.objNodes,o=0;o<n.length;o++)this.octree.remove(n[o]);var s=r.length-1;r[i]=r[s],r.length=s}t&&e.clear()},o.aabbQuery=function(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=4294967295),this.result.length=0,this.octree.retrieve(e,++this.flag,this.result,r),t)for(var i=this.result,n=i.length,o=0;o<n;o++){var s=i[o].obj3D;if(s.useTriangle){var a=s.boundTriangles(e);this.result.splice(o,1);for(var l=a.length-1;l>=0;l--)this.result.push(a[l]);a.length=0,n--,o--}}return this.result},o.objectQuery=function(e,t){void 0===t&&(t=!1),this.result.length=0;var r=e.getWorldBound();if(this.octree.retrieve(r,++this.flag,this.result,e.mask),t){for(var i=this.result,n=i.length,o=n-1;o>=0;o--){var s=i[o].obj3D;if(s.useTriangle){for(var a=s.boundObject(e),l=0;l<a.length;l++)i[n++]=a[l];i[o]=i[--n]}}i.length=n}return this.result},o.rayCast=function(e,t,r){void 0===t&&(t=4294967295),void 0===r&&(r=!1);var i=e[6],n=[],o={objs:n,hit:null};if(this.octree.rayCast(e,++this.flag,n,t),n.sort((function(e,t){return e.rayDist-t.rayDist})),r){for(var s=0,a=n.length;s<a;s++){var h=n[s],f=h.obj3D,b=h.rayDist;if(b<0||b<i){var g=f.rayCast(e,h.id1);g&&i>=g[6]&&(i=g[6],n[0]=h,o.hit=g)}}if(this.debug&&o.hit){var p=o.hit,d=(o.objs[0],new l(e[0],e[1],e[2])),y=new l(p[0],p[1],p[2]);v.addLine(d,y,u.IDENTITY,c.GREEN)}}return o},o.clear=function(e){if(void 0===e&&(e=!0),e)for(var t=0;t<this.objects.length;t++)this.objects[t].clear();this.objects.length=0,this.octree&&this.octree.clear(),this.octree=null},t}(h)).prototype,"debug",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=t(z.prototype,"maxLevels",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),L=t(z.prototype,"maxObjects",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),N=t(z.prototype,"center",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),T=t(z.prototype,"halfSize",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(50,50,50)}}),w=z))||w));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});