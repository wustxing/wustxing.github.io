System.register("chunks:///_virtual/BallCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,o,n,r,s,l,a,h,c,d,u,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,l=t.UITransformComponent,a=t.BoxColliderComponent,h=t.LabelComponent,c=t.RigidBodyComponent,d=t.systemEvent,u=t.Node,p=t.Vec3,g=t.Component}],execute:function(){var y,P,T,f,E,b,D,v,S,I;r._RF.push({},"ecbc8rt2N1Dwbr8pSIRSwVS","BallCtrl",void 0);var w,m=s.ccclass,_=s.property;!function(t){t[t.Idle=0]="Idle",t[t.AddForce=1]="AddForce",t[t.ThrowOut=2]="ThrowOut",t[t.Point=3]="Point"}(w||(w={}));t("BallCtrl",(y=m("BallCtrl"),P=_(l),T=_(a),f=_(h),y(((I=function(t){function e(){for(var i,r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return i=t.call.apply(t,[this].concat(s))||this,o(i,"progress",D,n(i)),o(i,"colliderPoint",v,n(i)),o(i,"labelPoint",S,n(i)),i.state=w.Idle,i.body=null,i.addDelta=0,i.growSpeed=(e.MAX_SPEED-e.MIN_SPEED)/e.ADD_TIME,i.maxProgress=0,i.point=0,i.startPos=null,i.testSpeed=7.4,i}i(e,t);var r=e.prototype;return r.onLoad=function(){this.startPos=cc.v3(this.node.position.x,this.node.position.y,this.node.position.z),this.maxProgress=this.progress.width,this.state=w.Idle,this.body=this.node.getComponent(c),this.body.useGravity=!1,this.point=0,this.setPercent(0),d.on(u.EventType.TOUCH_START,this.onTouchStart,this),d.on(u.EventType.TOUCH_END,this.onTouchEnd,this),this.colliderPoint.on("onTriggerEnter",this.onTriggerEnter,this),this.colliderPoint.on("onTriggerStay",this.onTriggerStay,this),this.colliderPoint.on("onTriggerExit",this.onTriggerExit,this)},r.onTriggerEnter=function(){},r.onTriggerStay=function(){},r.onTriggerExit=function(){this.state==w.ThrowOut&&(this.point++,this.labelPoint.string="得分："+this.point,this.state=w.Point)},r.setPercent=function(t){this.progress.width=t*this.maxProgress},r.onTouchStart=function(){this.state==w.Idle&&(this.state=w.AddForce,this.addDelta=0)},r.onTouchEnd=function(){this.state==w.AddForce&&(this.state=w.ThrowOut,this.throwOutBall())},r.throwOutBall=function(){var t=e.MIN_SPEED+this.addDelta*this.growSpeed;cc.log("speed",t);var i=Math.PI/3,o=t*Math.sin(i),n=-t*Math.cos(i);this.body.useGravity=!0,this.body.setLinearVelocity(cc.v3(0,o,n)),this.scheduleOnce(this.resetBall.bind(this),3)},r.resetBall=function(){this.body.setLinearVelocity(p.ZERO),this.body.setAngularVelocity(p.ZERO),this.body.useGravity=!1,this.node.setPosition(this.startPos),this.state=w.Idle,this.setPercent(0)},r.start=function(){},r.update=function(t){if(this.state==w.AddForce){this.addDelta+=t,this.addDelta>e.ADD_TIME&&(this.addDelta=0);var i=this.addDelta/e.ADD_TIME;this.setPercent(i)}},e}(g)).MIN_SPEED=6,I.MAX_SPEED=8,I.ADD_TIME=3,D=e((b=I).prototype,"progress",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(b.prototype,"colliderPoint",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(b.prototype,"labelPoint",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=b))||E));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./migrate-canvas.ts","./BallCtrl.ts","./PhyMat.ts"],(function(){"use strict";return{setters:[null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/migrate-canvas.ts",["cc"],(function(){"use strict";var e,n,t,i,r,o,a;return{setters:[function(c){e=c.cclegacy,n=c.director,t=c.Director,i=c.Canvas,r=c.Camera,o=c.game,a=c.Node}],execute:function(){e._RF.push({},"1e582Tc12JMAaTqidLW3ARN","migrate-canvas",void 0);var c=1048575;function l(e,n){for(var t=0,i=e.children.length;t<i;t++)e.children[t].layer=n,l(e.children[t],n)}n.on(t.EVENT_AFTER_SCENE_LAUNCH,(function(){var e,t,a,s=null==(e=n.getScene())?void 0:e.children,m=null==(t=n.getScene())?void 0:t.getComponentsInChildren(i);if(!(m.length<=1)){m=m.filter((function(e){return!!e.cameraComponent}));var v=null==(a=n.getScene())?void 0:a.getComponentsInChildren(r),u=0;v.forEach((function(e){return u|=e.visibility&c}));for(var p=[],f=0,C=s.length;f<C;f++){var h=s[f];if(o.isPersistRootNode(h)){var d=h.getComponentsInChildren(i);0!==d.length&&p.push.apply(p,d.filter((function(e){return!!e.cameraComponent})))}}p.forEach((function(e){if(m.find((function(n){return n!==e&&n.cameraComponent.visibility&e.cameraComponent.visibility&c}))){var n=~u,t=n&~(n-1);e.cameraComponent.visibility=t|4293918720&e.cameraComponent.visibility,l(e.node,t),u|=n}}))}}));var s=a.prototype.setParent;function m(e){var n=0,t=e.getComponent(i);return t&&t.cameraComponent?n=t.cameraComponent.visibility&t.node.layer?t.node.layer:t.cameraComponent.visibility&~(t.cameraComponent.visibility-1):(e.parent&&(n=m(e.parent)),n)}a.prototype.setParent=function(e,n){if(s.call(this,e,n),e){var t=m(this);t&&(this.layer=t,l(this,t))}},e._RF.pop()}}}));

System.register("chunks:///_virtual/PhyMat.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,r,e,n,o,a,c,s,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.ColliderComponent,s=t.PhysicMaterial,u=t.Component}],execute:function(){var l,p,f,h;o._RF.push({},"015dcd6UAtIYZ4zrYdlyDgG","PhyMat",void 0);var y=a.ccclass,d=a.property;t("PhyMat",y("PhyMat")((f=i((p=function(t){function i(){for(var i,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(i,"friction",f,n(i)),e(i,"restitution",h,n(i)),i}r(i,t);var o=i.prototype;return o.onLoad=function(){var t=this.node.getComponents(c),i=new s;i.friction=this.friction,i.restitution=this.restitution;for(var r=0;r<t.length;r++)t[r].material=i},o.start=function(){},i}(u)).prototype,"friction",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=i(p.prototype,"restitution",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=p))||l);o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});